(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const G of a.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&l(G)}).observe(document,{childList:!0,subtree:!0});function s(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(c){if(c.ep)return;c.ep=!0;const a=s(c);fetch(c.href,a)}})();function getDefaultExportFromCjs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var i=r.default;if(typeof i=="function"){var s=function l(){var c=!1;try{c=this instanceof l}catch{}return c?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(r).forEach(function(l){var c=Object.getOwnPropertyDescriptor(r,l);Object.defineProperty(s,l,c.get?c:{enumerable:!0,get:function(){return r[l]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),G=Symbol.for("react.context"),tt=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;function y(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,me={};function et(ee,rt,at){this.props=ee,this.context=rt,this.refs=me,this.updater=at||Z}et.prototype.isReactComponent={},et.prototype.setState=function(ee,rt){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,rt,"setState")},et.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function E(){}E.prototype=et.prototype;function ct(ee,rt,at){this.props=ee,this.context=rt,this.refs=me,this.updater=at||Z}var mt=ct.prototype=new E;mt.constructor=ct,d(mt,et.prototype),mt.isPureReactComponent=!0;var pt=Array.isArray,nt=Object.prototype.hasOwnProperty,ft={current:null},wt={key:!0,ref:!0,__self:!0,__source:!0};function Pt(ee,rt,at){var vt,ut={},x=null,st=null;if(rt!=null)for(vt in rt.ref!==void 0&&(st=rt.ref),rt.key!==void 0&&(x=""+rt.key),rt)nt.call(rt,vt)&&!wt.hasOwnProperty(vt)&&(ut[vt]=rt[vt]);var ot=arguments.length-2;if(ot===1)ut.children=at;else if(1<ot){for(var gt=Array(ot),yt=0;yt<ot;yt++)gt[yt]=arguments[yt+2];ut.children=gt}if(ee&&ee.defaultProps)for(vt in ot=ee.defaultProps,ot)ut[vt]===void 0&&(ut[vt]=ot[vt]);return{$$typeof:r,type:ee,key:x,ref:st,props:ut,_owner:ft.current}}function St(ee,rt){return{$$typeof:r,type:ee.type,key:rt,ref:ee.ref,props:ee.props,_owner:ee._owner}}function jt(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function _t(ee){var rt={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(at){return rt[at]})}var Vt=/\/+/g;function Dt(ee,rt){return typeof ee=="object"&&ee!==null&&ee.key!=null?_t(""+ee.key):rt.toString(36)}function $t(ee,rt,at,vt,ut){var x=typeof ee;(x==="undefined"||x==="boolean")&&(ee=null);var st=!1;if(ee===null)st=!0;else switch(x){case"string":case"number":st=!0;break;case"object":switch(ee.$$typeof){case r:case i:st=!0}}if(st)return st=ee,ut=ut(st),ee=vt===""?"."+Dt(st,0):vt,pt(ut)?(at="",ee!=null&&(at=ee.replace(Vt,"$&/")+"/"),$t(ut,rt,at,"",function(yt){return yt})):ut!=null&&(jt(ut)&&(ut=St(ut,at+(!ut.key||st&&st.key===ut.key?"":(""+ut.key).replace(Vt,"$&/")+"/")+ee)),rt.push(ut)),1;if(st=0,vt=vt===""?".":vt+":",pt(ee))for(var ot=0;ot<ee.length;ot++){x=ee[ot];var gt=vt+Dt(x,ot);st+=$t(x,rt,at,gt,ut)}else if(gt=y(ee),typeof gt=="function")for(ee=gt.call(ee),ot=0;!(x=ee.next()).done;)x=x.value,gt=vt+Dt(x,ot++),st+=$t(x,rt,at,gt,ut);else if(x==="object")throw rt=String(ee),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.");return st}function Tt(ee,rt,at){if(ee==null)return ee;var vt=[],ut=0;return $t(ee,vt,"","",function(x){return rt.call(at,x,ut++)}),vt}function Ct(ee){if(ee._status===-1){var rt=ee._result;rt=rt(),rt.then(function(at){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=at)},function(at){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=at)}),ee._status===-1&&(ee._status=0,ee._result=rt)}if(ee._status===1)return ee._result.default;throw ee._result}var lt={current:null},Ve={transition:null},Y={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Ve,ReactCurrentOwner:ft};function ne(){throw Error("act(...) is not supported in production builds of React.")}return react_production_min.Children={map:Tt,forEach:function(ee,rt,at){Tt(ee,function(){rt.apply(this,arguments)},at)},count:function(ee){var rt=0;return Tt(ee,function(){rt++}),rt},toArray:function(ee){return Tt(ee,function(rt){return rt})||[]},only:function(ee){if(!jt(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},react_production_min.Component=et,react_production_min.Fragment=s,react_production_min.Profiler=c,react_production_min.PureComponent=ct,react_production_min.StrictMode=l,react_production_min.Suspense=it,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,react_production_min.act=ne,react_production_min.cloneElement=function(ee,rt,at){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var vt=d({},ee.props),ut=ee.key,x=ee.ref,st=ee._owner;if(rt!=null){if(rt.ref!==void 0&&(x=rt.ref,st=ft.current),rt.key!==void 0&&(ut=""+rt.key),ee.type&&ee.type.defaultProps)var ot=ee.type.defaultProps;for(gt in rt)nt.call(rt,gt)&&!wt.hasOwnProperty(gt)&&(vt[gt]=rt[gt]===void 0&&ot!==void 0?ot[gt]:rt[gt])}var gt=arguments.length-2;if(gt===1)vt.children=at;else if(1<gt){ot=Array(gt);for(var yt=0;yt<gt;yt++)ot[yt]=arguments[yt+2];vt.children=ot}return{$$typeof:r,type:ee.type,key:ut,ref:x,props:vt,_owner:st}},react_production_min.createContext=function(ee){return ee={$$typeof:G,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:a,_context:ee},ee.Consumer=ee},react_production_min.createElement=Pt,react_production_min.createFactory=function(ee){var rt=Pt.bind(null,ee);return rt.type=ee,rt},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(ee){return{$$typeof:tt,render:ee}},react_production_min.isValidElement=jt,react_production_min.lazy=function(ee){return{$$typeof:u,_payload:{_status:-1,_result:ee},_init:Ct}},react_production_min.memo=function(ee,rt){return{$$typeof:f,type:ee,compare:rt===void 0?null:rt}},react_production_min.startTransition=function(ee){var rt=Ve.transition;Ve.transition={};try{ee()}finally{Ve.transition=rt}},react_production_min.unstable_act=ne,react_production_min.useCallback=function(ee,rt){return lt.current.useCallback(ee,rt)},react_production_min.useContext=function(ee){return lt.current.useContext(ee)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(ee){return lt.current.useDeferredValue(ee)},react_production_min.useEffect=function(ee,rt){return lt.current.useEffect(ee,rt)},react_production_min.useId=function(){return lt.current.useId()},react_production_min.useImperativeHandle=function(ee,rt,at){return lt.current.useImperativeHandle(ee,rt,at)},react_production_min.useInsertionEffect=function(ee,rt){return lt.current.useInsertionEffect(ee,rt)},react_production_min.useLayoutEffect=function(ee,rt){return lt.current.useLayoutEffect(ee,rt)},react_production_min.useMemo=function(ee,rt){return lt.current.useMemo(ee,rt)},react_production_min.useReducer=function(ee,rt,at){return lt.current.useReducer(ee,rt,at)},react_production_min.useRef=function(ee){return lt.current.useRef(ee)},react_production_min.useState=function(ee){return lt.current.useState(ee)},react_production_min.useSyncExternalStore=function(ee,rt,at){return lt.current.useSyncExternalStore(ee,rt,at)},react_production_min.useTransition=function(){return lt.current.useTransition()},react_production_min.version="18.3.1",react_production_min}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var r=requireReact(),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function G(tt,it,f){var u,p={},y=null,Z=null;f!==void 0&&(y=""+f),it.key!==void 0&&(y=""+it.key),it.ref!==void 0&&(Z=it.ref);for(u in it)l.call(it,u)&&!a.hasOwnProperty(u)&&(p[u]=it[u]);if(tt&&tt.defaultProps)for(u in it=tt.defaultProps,it)p[u]===void 0&&(p[u]=it[u]);return{$$typeof:i,type:tt,key:y,ref:Z,props:p,_owner:c.current}}return reactJsxRuntime_production_min.Fragment=s,reactJsxRuntime_production_min.jsx=G,reactJsxRuntime_production_min.jsxs=G,reactJsxRuntime_production_min}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(r){function i(Ve,Y){var ne=Ve.length;Ve.push(Y);e:for(;0<ne;){var ee=ne-1>>>1,rt=Ve[ee];if(0<c(rt,Y))Ve[ee]=Y,Ve[ne]=rt,ne=ee;else break e}}function s(Ve){return Ve.length===0?null:Ve[0]}function l(Ve){if(Ve.length===0)return null;var Y=Ve[0],ne=Ve.pop();if(ne!==Y){Ve[0]=ne;e:for(var ee=0,rt=Ve.length,at=rt>>>1;ee<at;){var vt=2*(ee+1)-1,ut=Ve[vt],x=vt+1,st=Ve[x];if(0>c(ut,ne))x<rt&&0>c(st,ut)?(Ve[ee]=st,Ve[x]=ne,ee=x):(Ve[ee]=ut,Ve[vt]=ne,ee=vt);else if(x<rt&&0>c(st,ne))Ve[ee]=st,Ve[x]=ne,ee=x;else break e}}return Y}function c(Ve,Y){var ne=Ve.sortIndex-Y.sortIndex;return ne!==0?ne:Ve.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var G=Date,tt=G.now();r.unstable_now=function(){return G.now()-tt}}var it=[],f=[],u=1,p=null,y=3,Z=!1,d=!1,me=!1,et=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function mt(Ve){for(var Y=s(f);Y!==null;){if(Y.callback===null)l(f);else if(Y.startTime<=Ve)l(f),Y.sortIndex=Y.expirationTime,i(it,Y);else break;Y=s(f)}}function pt(Ve){if(me=!1,mt(Ve),!d)if(s(it)!==null)d=!0,Ct(nt);else{var Y=s(f);Y!==null&&lt(pt,Y.startTime-Ve)}}function nt(Ve,Y){d=!1,me&&(me=!1,E(Pt),Pt=-1),Z=!0;var ne=y;try{for(mt(Y),p=s(it);p!==null&&(!(p.expirationTime>Y)||Ve&&!_t());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,y=p.priorityLevel;var rt=ee(p.expirationTime<=Y);Y=r.unstable_now(),typeof rt=="function"?p.callback=rt:p===s(it)&&l(it),mt(Y)}else l(it);p=s(it)}if(p!==null)var at=!0;else{var vt=s(f);vt!==null&&lt(pt,vt.startTime-Y),at=!1}return at}finally{p=null,y=ne,Z=!1}}var ft=!1,wt=null,Pt=-1,St=5,jt=-1;function _t(){return!(r.unstable_now()-jt<St)}function Vt(){if(wt!==null){var Ve=r.unstable_now();jt=Ve;var Y=!0;try{Y=wt(!0,Ve)}finally{Y?Dt():(ft=!1,wt=null)}}else ft=!1}var Dt;if(typeof ct=="function")Dt=function(){ct(Vt)};else if(typeof MessageChannel<"u"){var $t=new MessageChannel,Tt=$t.port2;$t.port1.onmessage=Vt,Dt=function(){Tt.postMessage(null)}}else Dt=function(){et(Vt,0)};function Ct(Ve){wt=Ve,ft||(ft=!0,Dt())}function lt(Ve,Y){Pt=et(function(){Ve(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Ve){Ve.callback=null},r.unstable_continueExecution=function(){d||Z||(d=!0,Ct(nt))},r.unstable_forceFrameRate=function(Ve){0>Ve||125<Ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):St=0<Ve?Math.floor(1e3/Ve):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return s(it)},r.unstable_next=function(Ve){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var ne=y;y=Y;try{return Ve()}finally{y=ne}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Ve,Y){switch(Ve){case 1:case 2:case 3:case 4:case 5:break;default:Ve=3}var ne=y;y=Ve;try{return Y()}finally{y=ne}},r.unstable_scheduleCallback=function(Ve,Y,ne){var ee=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ee+ne:ee):ne=ee,Ve){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=ne+rt,Ve={id:u++,callback:Y,priorityLevel:Ve,startTime:ne,expirationTime:rt,sortIndex:-1},ne>ee?(Ve.sortIndex=ne,i(f,Ve),s(it)===null&&Ve===s(f)&&(me?(E(Pt),Pt=-1):me=!0,lt(pt,ne-ee))):(Ve.sortIndex=rt,i(it,Ve),d||Z||(d=!0,Ct(nt))),Ve},r.unstable_shouldYield=_t,r.unstable_wrapCallback=function(Ve){var Y=y;return function(){var ne=y;y=Y;try{return Ve.apply(this,arguments)}finally{y=ne}}}}(scheduler_production_min)),scheduler_production_min}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var r=requireReact(),i=requireScheduler();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,c={};function a(e,t){G(e,t),G(e+"Capture",t)}function G(e,t){for(c[e]=t,e=0;e<t.length;e++)l.add(t[e])}var tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),it=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},p={};function y(e){return it.call(p,e)?!0:it.call(u,e)?!1:f.test(e)?p[e]=!0:(u[e]=!0,!1)}function Z(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d(e,t,n,o){if(t===null||typeof t>"u"||Z(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function me(e,t,n,o,g,te,ht){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=g,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=te,this.removeEmptyString=ht}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new me(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new me(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new me(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new me(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new me(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){et[e]=new me(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){et[e]=new me(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){et[e]=new me(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){et[e]=new me(e,5,!1,e.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function ct(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E,ct);et[t]=new me(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E,ct);et[t]=new me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E,ct);et[t]=new me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){et[e]=new me(e,1,!1,e.toLowerCase(),null,!1,!1)}),et.xlinkHref=new me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){et[e]=new me(e,1,!1,e.toLowerCase(),null,!0,!0)});function mt(e,t,n,o){var g=et.hasOwnProperty(t)?et[t]:null;(g!==null?g.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d(t,n,g,o)&&(n=null),o||g===null?y(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):g.mustUseProperty?e[g.propertyName]=n===null?g.type===3?!1:"":n:(t=g.attributeName,o=g.attributeNamespace,n===null?e.removeAttribute(t):(g=g.type,n=g===3||g===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var pt=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nt=Symbol.for("react.element"),ft=Symbol.for("react.portal"),wt=Symbol.for("react.fragment"),Pt=Symbol.for("react.strict_mode"),St=Symbol.for("react.profiler"),jt=Symbol.for("react.provider"),_t=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),$t=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),lt=Symbol.for("react.offscreen"),Ve=Symbol.iterator;function Y(e){return e===null||typeof e!="object"?null:(e=Ve&&e[Ve]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Object.assign,ee;function rt(e){if(ee===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ee=t&&t[1]||""}return`
`+ee+e}var at=!1;function vt(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(Zt){var o=Zt}Reflect.construct(e,[],t)}else{try{t.call()}catch(Zt){o=Zt}e.call(t.prototype)}else{try{throw Error()}catch(Zt){o=Zt}e()}}catch(Zt){if(Zt&&o&&typeof Zt.stack=="string"){for(var g=Zt.stack.split(`
`),te=o.stack.split(`
`),ht=g.length-1,kt=te.length-1;1<=ht&&0<=kt&&g[ht]!==te[kt];)kt--;for(;1<=ht&&0<=kt;ht--,kt--)if(g[ht]!==te[kt]){if(ht!==1||kt!==1)do if(ht--,kt--,0>kt||g[ht]!==te[kt]){var Ft=`
`+g[ht].replace(" at new "," at ");return e.displayName&&Ft.includes("<anonymous>")&&(Ft=Ft.replace("<anonymous>",e.displayName)),Ft}while(1<=ht&&0<=kt);break}}}finally{at=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rt(e):""}function ut(e){switch(e.tag){case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 2:case 15:return e=vt(e.type,!1),e;case 11:return e=vt(e.type.render,!1),e;case 1:return e=vt(e.type,!0),e;default:return""}}function x(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wt:return"Fragment";case ft:return"Portal";case St:return"Profiler";case Pt:return"StrictMode";case Dt:return"Suspense";case $t:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _t:return(e.displayName||"Context")+".Consumer";case jt:return(e._context.displayName||"Context")+".Provider";case Vt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tt:return t=e.displayName||null,t!==null?t:x(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return x(e(t))}catch{}}return null}function st(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return x(t);case 8:return t===Pt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ot(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yt(e){var t=gt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var g=n.get,te=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(ht){o=""+ht,te.call(this,ht)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(ht){o=""+ht},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xt(e){e._valueTracker||(e._valueTracker=yt(e))}function Rt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=gt(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function qt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function un(e,t){var n=t.checked;return ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yt(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=ot(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qt(e,t){t=t.checked,t!=null&&mt(e,"checked",t,!1)}function Jt(e,t){Qt(e,t);var n=ot(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nn(e,t.type,n):t.hasOwnProperty("defaultValue")&&nn(e,t.type,ot(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nn(e,t,n){(t!=="number"||qt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fn=Array.isArray;function an(e,t,n,o){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&o&&(e[n].defaultSelected=!0)}else{for(n=""+ot(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,o&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function _n(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function An(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(fn(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ot(n)}}function Mn(e,t){var n=ot(t.value),o=ot(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function Yn(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ar(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function er(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ar(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Tr,dr=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,g){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,g)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Tr=Tr||document.createElement("div"),Tr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Tr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(e){oi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});function Sr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function sn(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,g=Sr(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,g):e[n]=g}}var Wt=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(e,t){if(t){if(Wt[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function mn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lr=null;function zn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zn=null,Jr=null,Dr=null;function gi(e){if(e=Eo(e)){if(typeof Zn!="function")throw Error(s(280));var t=e.stateNode;t&&(t=nl(t),Zn(e.stateNode,e.type,t))}}function jr(e){Jr?Dr?Dr.push(e):Dr=[e]:Jr=e}function vr(){if(Jr){var e=Jr,t=Dr;if(Dr=Jr=null,gi(e),t)for(e=0;e<t.length;e++)gi(t[e])}}function zr(e,t){return e(t)}function _i(){}var xr=!1;function mi(e,t,n){if(xr)return e(t,n);xr=!0;try{return zr(e,t,n)}finally{xr=!1,(Jr!==null||Dr!==null)&&(_i(),vr())}}function li(e,t){var n=e.stateNode;if(n===null)return null;var o=nl(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var Fi=!1;if(tt)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Fi=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Fi=!1}function Kr(e,t,n,o,g,te,ht,kt,Ft){var Zt=Array.prototype.slice.call(arguments,3);try{t.apply(n,Zt)}catch(hn){this.onError(hn)}}var Pr=!1,ki=null,Ui=!1,As=null,Pa={onError:function(e){Pr=!0,ki=e}};function $i(e,t,n,o,g,te,ht,kt,Ft){Pr=!1,ki=null,Kr.apply(Pa,arguments)}function Ra(e,t,n,o,g,te,ht,kt,Ft){if($i.apply(this,arguments),Pr){if(Pr){var Zt=ki;Pr=!1,ki=null}else throw Error(s(198));Ui||(Ui=!0,As=Zt)}}function Ki(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ia(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sa(e){if(Ki(e)!==e)throw Error(s(188))}function oo(e){var t=e.alternate;if(!t){if(t=Ki(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,o=t;;){var g=n.return;if(g===null)break;var te=g.alternate;if(te===null){if(o=g.return,o!==null){n=o;continue}break}if(g.child===te.child){for(te=g.child;te;){if(te===n)return sa(g),e;if(te===o)return sa(g),t;te=te.sibling}throw Error(s(188))}if(n.return!==o.return)n=g,o=te;else{for(var ht=!1,kt=g.child;kt;){if(kt===n){ht=!0,n=g,o=te;break}if(kt===o){ht=!0,o=g,n=te;break}kt=kt.sibling}if(!ht){for(kt=te.child;kt;){if(kt===n){ht=!0,n=te,o=g;break}if(kt===o){ht=!0,o=te,n=g;break}kt=kt.sibling}if(!ht)throw Error(s(189))}}if(n.alternate!==o)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Bn(e){return e=oo(e),e!==null?Ot(e):null}function Ot(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ot(e);if(t!==null)return t;e=e.sibling}return null}var vn=i.unstable_scheduleCallback,Ln=i.unstable_cancelCallback,Lr=i.unstable_shouldYield,ri=i.unstable_requestPaint,rr=i.unstable_now,ei=i.unstable_getCurrentPriorityLevel,Ci=i.unstable_ImmediatePriority,gs=i.unstable_UserBlockingPriority,ms=i.unstable_NormalPriority,ii=i.unstable_LowPriority,aa=i.unstable_IdlePriority,ks=null,Ti=null;function Do(e){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(ks,e,void 0,(e.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:Ul,Hl=Math.log,oa=Math.LN2;function Ul(e){return e>>>=0,e===0?32:31-(Hl(e)/oa|0)|0}var Ma=64,La=4194304;function Cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fa(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,g=e.suspendedLanes,te=e.pingedLanes,ht=n&268435455;if(ht!==0){var kt=ht&~g;kt!==0?o=Cs(kt):(te&=ht,te!==0&&(o=Cs(te)))}else ht=n&~g,ht!==0?o=Cs(ht):te!==0&&(o=Cs(te));if(o===0)return 0;if(t!==0&&t!==o&&(t&g)===0&&(g=o&-o,te=t&-t,g>=te||g===16&&(te&4194240)!==0))return t;if((o&4)!==0&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-Ii(t),g=1<<n,o|=e[n],t&=~g;return o}function $l(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,g=e.expirationTimes,te=e.pendingLanes;0<te;){var ht=31-Ii(te),kt=1<<ht,Ft=g[ht];Ft===-1?((kt&n)===0||(kt&o)!==0)&&(g[ht]=$l(kt,t)):Ft<=t&&(e.expiredLanes|=kt),te&=~kt}}function Ia(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function No(){var e=Ma;return Ma<<=1,(Ma&4194240)===0&&(Ma=64),e}function lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ii(t),e[t]=n}function Wl(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var g=31-Ii(n),te=1<<g;t[g]=0,o[g]=-1,e[g]=-1,n&=~te}}function Da(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-Ii(n),g=1<<o;g&t|e[o]&t&&(e[o]|=t),n&=~g}}var br=0;function jo(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Oa,co,zo,Ps,Bo,Na=!1,ja=[],Wi=null,Qi=null,vs=null,zs=new Map,Bs=new Map,Zi=[],Vl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ho(e,t){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":zs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bs.delete(t.pointerId)}}function la(e,t,n,o,g,te){return e===null||e.nativeEvent!==te?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:te,targetContainers:[g]},t!==null&&(t=Eo(t),t!==null&&co(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function Ye(e,t,n,o,g){switch(t){case"focusin":return Wi=la(Wi,e,t,n,o,g),!0;case"dragenter":return Qi=la(Qi,e,t,n,o,g),!0;case"mouseover":return vs=la(vs,e,t,n,o,g),!0;case"pointerover":var te=g.pointerId;return zs.set(te,la(zs.get(te)||null,e,t,n,o,g)),!0;case"gotpointercapture":return te=g.pointerId,Bs.set(te,la(Bs.get(te)||null,e,t,n,o,g)),!0}return!1}function dt(e){var t=va(e.target);if(t!==null){var n=Ki(t);if(n!==null){if(t=n.tag,t===13){if(t=ia(n),t!==null){e.blockedOn=t,Bo(e.priority,function(){zo(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Et(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=en(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);lr=o,n.target.dispatchEvent(o),lr=null}else return t=Eo(n),t!==null&&co(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){Et(e)&&n.delete(t)}function Mt(){Na=!1,Wi!==null&&Et(Wi)&&(Wi=null),Qi!==null&&Et(Qi)&&(Qi=null),vs!==null&&Et(vs)&&(vs=null),zs.forEach(bt),Bs.forEach(bt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,Na||(Na=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Bt(e){function t(g){return Lt(g,e)}if(0<ja.length){Lt(ja[0],e);for(var n=1;n<ja.length;n++){var o=ja[n];o.blockedOn===e&&(o.blockedOn=null)}}for(Wi!==null&&Lt(Wi,e),Qi!==null&&Lt(Qi,e),vs!==null&&Lt(vs,e),zs.forEach(t),Bs.forEach(t),n=0;n<Zi.length;n++)o=Zi[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)dt(n),n.blockedOn===null&&Zi.shift()}var It=pt.ReactCurrentBatchConfig,At=!0;function zt(e,t,n,o){var g=br,te=It.transition;It.transition=null;try{br=1,rn(e,t,n,o)}finally{br=g,It.transition=te}}function Nt(e,t,n,o){var g=br,te=It.transition;It.transition=null;try{br=4,rn(e,t,n,o)}finally{br=g,It.transition=te}}function rn(e,t,n,o){if(At){var g=en(e,t,n,o);if(g===null)Kl(e,t,o,tn,n),Ho(e,o);else if(Ye(g,e,t,n,o))o.stopPropagation();else if(Ho(e,o),t&4&&-1<Vl.indexOf(e)){for(;g!==null;){var te=Eo(g);if(te!==null&&Oa(te),te=en(e,t,n,o),te===null&&Kl(e,t,o,tn,n),te===g)break;g=te}g!==null&&o.stopPropagation()}else Kl(e,t,o,null,n)}}var tn=null;function en(e,t,n,o){if(tn=null,e=zn(o),e=va(e),e!==null)if(t=Ki(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ia(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return tn=e,null}function pn(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ei()){case Ci:return 1;case gs:return 4;case ms:case ii:return 16;case aa:return 536870912;default:return 16}default:return 16}}var ln=null,cn=null,Vn=null;function Fn(){if(Vn)return Vn;var e,t=cn,n=t.length,o,g="value"in ln?ln.value:ln.textContent,te=g.length;for(e=0;e<n&&t[e]===g[e];e++);var ht=n-e;for(o=1;o<=ht&&t[n-o]===g[te-o];o++);return Vn=g.slice(e,1<o?1-o:void 0)}function Pn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jn(){return!0}function Sn(){return!1}function kn(e){function t(n,o,g,te,ht){this._reactName=n,this._targetInst=g,this.type=o,this.nativeEvent=te,this.target=ht,this.currentTarget=null;for(var kt in e)e.hasOwnProperty(kt)&&(n=e[kt],this[kt]=n?n(te):te[kt]);return this.isDefaultPrevented=(te.defaultPrevented!=null?te.defaultPrevented:te.returnValue===!1)?jn:Sn,this.isPropagationStopped=Sn,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),t}var In={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=kn(In),ir=ne({},In,{view:0,detail:0}),pr=kn(ir),fr,gr,Fr,Ar=ne({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fr&&(Fr&&e.type==="mousemove"?(fr=e.screenX-Fr.screenX,gr=e.screenY-Fr.screenY):gr=fr=0,Fr=e),fr)},movementY:function(e){return"movementY"in e?e.movementY:gr}}),Wr=kn(Ar),Or=ne({},Ar,{dataTransfer:0}),Br=kn(Or),Hr=ne({},ir,{relatedTarget:0}),Ir=kn(Hr),ci=ne({},In,{animationName:0,elapsedTime:0,pseudoElement:0}),Ji=kn(ci),Vi=ne({},In,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ti=kn(Vi),Ei=ne({},In,{data:0}),es=kn(Ei),Un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xn[e])?!!t[e]:!1}function wn(){return Cn}var Wn=ne({},ir,{key:function(e){if(e.key){var t=Un[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?On[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return e.type==="keypress"?Pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qn=kn(Wn),Tn=ne({},Ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),En=kn(Tn),Kn=ne({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn}),tr=kn(Kn),Rr=ne({},In,{propertyName:0,elapsedTime:0,pseudoElement:0}),kr=kn(Rr),si=ne({},Ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pi=kn(si),Qn=[9,13,27,32],Qr=tt&&"CompositionEvent"in window,_r=null;tt&&"documentMode"in document&&(_r=document.documentMode);var Mr=tt&&"TextEvent"in window&&!_r,qr=tt&&(!Qr||_r&&8<_r&&11>=_r),Er=" ",os=!1;function Rs(e,t){switch(e){case"keyup":return Qn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function ua(e,t){switch(e){case"compositionend":return ca(t);case"keypress":return t.which!==32?null:(os=!0,Er);case"textInput":return e=t.data,e===Er&&os?null:e;default:return null}}function ql(e,t){if(Di)return e==="compositionend"||!Qr&&Rs(e,t)?(e=Fn(),Vn=cn=ln=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qr&&t.locale!=="ko"?null:t.data;default:return null}}var Ri={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ri[e.type]:t==="textarea"}function Uo(e,t,n,o){jr(o),t=Jo(t,"onChange"),0<t.length&&(n=new cr("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var yr=null,da=null;function ys(e){cu(e,0)}function za(e){var t=qa(e);if(Rt(t))return e}function Gl(e,t){if(e==="change")return t}var $o=!1;if(tt){var ha;if(tt){var Ba="oninput"in document;if(!Ba){var Wo=document.createElement("div");Wo.setAttribute("oninput","return;"),Ba=typeof Wo.oninput=="function"}ha=Ba}else ha=!1;$o=ha&&(!document.documentMode||9<document.documentMode)}function Vo(){yr&&(yr.detachEvent("onpropertychange",qo),da=yr=null)}function qo(e){if(e.propertyName==="value"&&za(da)){var t=[];Uo(t,da,e,zn(e)),mi(ys,t)}}function _s(e,t,n){e==="focusin"?(Vo(),yr=t,da=n,yr.attachEvent("onpropertychange",qo)):e==="focusout"&&Vo()}function Xl(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(da)}function Go(e,t){if(e==="click")return za(t)}function Xo(e,t){if(e==="input"||e==="change")return za(t)}function ho(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oi=typeof Object.is=="function"?Object.is:ho;function Hs(e,t){if(Oi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var g=n[o];if(!it.call(t,g)||!Oi(e[g],t[g]))return!1}return!0}function Es(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yo(e,t){var n=Es(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Es(n)}}function Ko(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ko(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ha(){for(var e=window,t=qt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=qt(e.document)}return t}function fa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fo(e){var t=Ha(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ko(n.ownerDocument.documentElement,n)){if(o!==null&&fa(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=n.textContent.length,te=Math.min(o.start,g);o=o.end===void 0?te:Math.min(o.end,g),!e.extend&&te>o&&(g=o,o=te,te=g),g=Yo(n,te);var ht=Yo(n,o);g&&ht&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==ht.node||e.focusOffset!==ht.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),te>o?(e.addRange(t),e.extend(ht.node,ht.offset)):(t.setEnd(ht.node,ht.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qo=tt&&"documentMode"in document&&11>=document.documentMode,Us=null,pa=null,ga=null,po=!1;function go(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;po||Us==null||Us!==qt(o)||(o=Us,"selectionStart"in o&&fa(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ga&&Hs(ga,o)||(ga=o,o=Jo(pa,"onSelect"),0<o.length&&(t=new cr("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=Us)))}function on(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $n={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionend:on("Transition","TransitionEnd")},nr={},mr={};tt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function ur(e){if(nr[e])return nr[e];if(!$n[e])return e;var t=$n[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mr)return nr[e]=t[n];return e}var sr=ur("animationend"),Gr=ur("animationiteration"),ls=ur("animationstart"),Ua=ur("transitionend"),ma=new Map,cs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(e,t){ma.set(e,t),a(t,[e])}for(var $a=0;$a<cs.length;$a++){var $s=cs[$a],Ws=$s.toLowerCase(),Gd=$s[0].toUpperCase()+$s.slice(1);qi(Ws,"on"+Gd)}qi(sr,"onAnimationEnd"),qi(Gr,"onAnimationIteration"),qi(ls,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(Ua,"onTransitionEnd"),G("onMouseEnter",["mouseout","mouseover"]),G("onMouseLeave",["mouseout","mouseover"]),G("onPointerEnter",["pointerout","pointerover"]),G("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xd=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function lu(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Ra(o,t,void 0,e),e.currentTarget=null}function cu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],g=o.event;o=o.listeners;e:{var te=void 0;if(t)for(var ht=o.length-1;0<=ht;ht--){var kt=o[ht],Ft=kt.instance,Zt=kt.currentTarget;if(kt=kt.listener,Ft!==te&&g.isPropagationStopped())break e;lu(g,kt,Zt),te=Ft}else for(ht=0;ht<o.length;ht++){if(kt=o[ht],Ft=kt.instance,Zt=kt.currentTarget,kt=kt.listener,Ft!==te&&g.isPropagationStopped())break e;lu(g,kt,Zt),te=Ft}}}if(Ui)throw e=As,Ui=!1,As=null,e}function Ur(e,t){var n=t[nc];n===void 0&&(n=t[nc]=new Set);var o=e+"__bubble";n.has(o)||(uu(t,e,2,!1),n.add(o))}function Yl(e,t,n){var o=0;t&&(o|=4),uu(n,e,o,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function vo(e){if(!e[Zo]){e[Zo]=!0,l.forEach(function(n){n!=="selectionchange"&&(Xd.has(n)||Yl(n,!1,e),Yl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zo]||(t[Zo]=!0,Yl("selectionchange",!1,t))}}function uu(e,t,n,o){switch(pn(t)){case 1:var g=zt;break;case 4:g=Nt;break;default:g=rn}n=g.bind(null,t,n,e),g=void 0,!Fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),o?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function Kl(e,t,n,o,g){var te=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var ht=o.tag;if(ht===3||ht===4){var kt=o.stateNode.containerInfo;if(kt===g||kt.nodeType===8&&kt.parentNode===g)break;if(ht===4)for(ht=o.return;ht!==null;){var Ft=ht.tag;if((Ft===3||Ft===4)&&(Ft=ht.stateNode.containerInfo,Ft===g||Ft.nodeType===8&&Ft.parentNode===g))return;ht=ht.return}for(;kt!==null;){if(ht=va(kt),ht===null)return;if(Ft=ht.tag,Ft===5||Ft===6){o=te=ht;continue e}kt=kt.parentNode}}o=o.return}mi(function(){var Zt=te,hn=zn(n),gn=[];e:{var dn=ma.get(e);if(dn!==void 0){var bn=cr,Dn=e;switch(e){case"keypress":if(Pn(n)===0)break e;case"keydown":case"keyup":bn=qn;break;case"focusin":Dn="focus",bn=Ir;break;case"focusout":Dn="blur",bn=Ir;break;case"beforeblur":case"afterblur":bn=Ir;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bn=Wr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bn=Br;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bn=tr;break;case sr:case Gr:case ls:bn=Ji;break;case Ua:bn=kr;break;case"scroll":bn=pr;break;case"wheel":bn=Pi;break;case"copy":case"cut":case"paste":bn=ti;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bn=En}var Nn=(t&4)!==0,ni=!Nn&&e==="scroll",Xt=Nn?dn!==null?dn+"Capture":null:dn;Nn=[];for(var Ht=Zt,Kt;Ht!==null;){Kt=Ht;var yn=Kt.stateNode;if(Kt.tag===5&&yn!==null&&(Kt=yn,Xt!==null&&(yn=li(Ht,Xt),yn!=null&&Nn.push(yo(Ht,yn,Kt)))),ni)break;Ht=Ht.return}0<Nn.length&&(dn=new bn(dn,Dn,null,n,hn),gn.push({event:dn,listeners:Nn}))}}if((t&7)===0){e:{if(dn=e==="mouseover"||e==="pointerover",bn=e==="mouseout"||e==="pointerout",dn&&n!==lr&&(Dn=n.relatedTarget||n.fromElement)&&(va(Dn)||Dn[Ms]))break e;if((bn||dn)&&(dn=hn.window===hn?hn:(dn=hn.ownerDocument)?dn.defaultView||dn.parentWindow:window,bn?(Dn=n.relatedTarget||n.toElement,bn=Zt,Dn=Dn?va(Dn):null,Dn!==null&&(ni=Ki(Dn),Dn!==ni||Dn.tag!==5&&Dn.tag!==6)&&(Dn=null)):(bn=null,Dn=Zt),bn!==Dn)){if(Nn=Wr,yn="onMouseLeave",Xt="onMouseEnter",Ht="mouse",(e==="pointerout"||e==="pointerover")&&(Nn=En,yn="onPointerLeave",Xt="onPointerEnter",Ht="pointer"),ni=bn==null?dn:qa(bn),Kt=Dn==null?dn:qa(Dn),dn=new Nn(yn,Ht+"leave",bn,n,hn),dn.target=ni,dn.relatedTarget=Kt,yn=null,va(hn)===Zt&&(Nn=new Nn(Xt,Ht+"enter",Dn,n,hn),Nn.target=Kt,Nn.relatedTarget=ni,yn=Nn),ni=yn,bn&&Dn)t:{for(Nn=bn,Xt=Dn,Ht=0,Kt=Nn;Kt;Kt=Wa(Kt))Ht++;for(Kt=0,yn=Xt;yn;yn=Wa(yn))Kt++;for(;0<Ht-Kt;)Nn=Wa(Nn),Ht--;for(;0<Kt-Ht;)Xt=Wa(Xt),Kt--;for(;Ht--;){if(Nn===Xt||Xt!==null&&Nn===Xt.alternate)break t;Nn=Wa(Nn),Xt=Wa(Xt)}Nn=null}else Nn=null;bn!==null&&du(gn,dn,bn,Nn,!1),Dn!==null&&ni!==null&&du(gn,ni,Dn,Nn,!0)}}e:{if(dn=Zt?qa(Zt):window,bn=dn.nodeName&&dn.nodeName.toLowerCase(),bn==="select"||bn==="input"&&dn.type==="file")var Hn=Gl;else if(uo(dn))if($o)Hn=Xo;else{Hn=Xl;var Gn=_s}else(bn=dn.nodeName)&&bn.toLowerCase()==="input"&&(dn.type==="checkbox"||dn.type==="radio")&&(Hn=Go);if(Hn&&(Hn=Hn(e,Zt))){Uo(gn,Hn,n,hn);break e}Gn&&Gn(e,dn,Zt),e==="focusout"&&(Gn=dn._wrapperState)&&Gn.controlled&&dn.type==="number"&&nn(dn,"number",dn.value)}switch(Gn=Zt?qa(Zt):window,e){case"focusin":(uo(Gn)||Gn.contentEditable==="true")&&(Us=Gn,pa=Zt,ga=null);break;case"focusout":ga=pa=Us=null;break;case"mousedown":po=!0;break;case"contextmenu":case"mouseup":case"dragend":po=!1,go(gn,n,hn);break;case"selectionchange":if(Qo)break;case"keydown":case"keyup":go(gn,n,hn)}var Xn;if(Qr)e:{switch(e){case"compositionstart":var Jn="onCompositionStart";break e;case"compositionend":Jn="onCompositionEnd";break e;case"compositionupdate":Jn="onCompositionUpdate";break e}Jn=void 0}else Di?Rs(e,n)&&(Jn="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Jn="onCompositionStart");Jn&&(qr&&n.locale!=="ko"&&(Di||Jn!=="onCompositionStart"?Jn==="onCompositionEnd"&&Di&&(Xn=Fn()):(ln=hn,cn="value"in ln?ln.value:ln.textContent,Di=!0)),Gn=Jo(Zt,Jn),0<Gn.length&&(Jn=new es(Jn,e,null,n,hn),gn.push({event:Jn,listeners:Gn}),Xn?Jn.data=Xn:(Xn=ca(n),Xn!==null&&(Jn.data=Xn)))),(Xn=Mr?ua(e,n):ql(e,n))&&(Zt=Jo(Zt,"onBeforeInput"),0<Zt.length&&(hn=new es("onBeforeInput","beforeinput",null,n,hn),gn.push({event:hn,listeners:Zt}),hn.data=Xn))}cu(gn,t)})}function yo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jo(e,t){for(var n=t+"Capture",o=[];e!==null;){var g=e,te=g.stateNode;g.tag===5&&te!==null&&(g=te,te=li(e,n),te!=null&&o.unshift(yo(e,te,g)),te=li(e,t),te!=null&&o.push(yo(e,te,g))),e=e.return}return o}function Wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function du(e,t,n,o,g){for(var te=t._reactName,ht=[];n!==null&&n!==o;){var kt=n,Ft=kt.alternate,Zt=kt.stateNode;if(Ft!==null&&Ft===o)break;kt.tag===5&&Zt!==null&&(kt=Zt,g?(Ft=li(n,te),Ft!=null&&ht.unshift(yo(n,Ft,kt))):g||(Ft=li(n,te),Ft!=null&&ht.push(yo(n,Ft,kt)))),n=n.return}ht.length!==0&&e.push({event:t,listeners:ht})}var Yd=/\r\n?/g,Kd=/\u0000|\uFFFD/g;function hu(e){return(typeof e=="string"?e:""+e).replace(Yd,`
`).replace(Kd,"")}function el(e,t,n){if(t=hu(t),hu(e)!==t&&n)throw Error(s(425))}function tl(){}var Ql=null,Zl=null;function Jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,Qd=typeof clearTimeout=="function"?clearTimeout:void 0,fu=typeof Promise=="function"?Promise:void 0,Zd=typeof queueMicrotask=="function"?queueMicrotask:typeof fu<"u"?function(e){return fu.resolve(null).then(e).catch(Jd)}:ec;function Jd(e){setTimeout(function(){throw e})}function tc(e,t){var n=t,o=0;do{var g=n.nextSibling;if(e.removeChild(n),g&&g.nodeType===8)if(n=g.data,n==="/$"){if(o===0){e.removeChild(g),Bt(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=g}while(n);Bt(t)}function Vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Va=Math.random().toString(36).slice(2),Ss="__reactFiber$"+Va,_o="__reactProps$"+Va,Ms="__reactContainer$"+Va,nc="__reactEvents$"+Va,eh="__reactListeners$"+Va,th="__reactHandles$"+Va;function va(e){var t=e[Ss];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ms]||n[Ss]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pu(e);e!==null;){if(n=e[Ss])return n;e=pu(e)}return t}e=n,n=e.parentNode}return null}function Eo(e){return e=e[Ss]||e[Ms],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function nl(e){return e[_o]||null}var rc=[],Ga=-1;function qs(e){return{current:e}}function $r(e){0>Ga||(e.current=rc[Ga],rc[Ga]=null,Ga--)}function Nr(e,t){Ga++,rc[Ga]=e.current,e.current=t}var Gs={},Si=qs(Gs),Ni=qs(!1),ya=Gs;function Xa(e,t){var n=e.type.contextTypes;if(!n)return Gs;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var g={},te;for(te in n)g[te]=t[te];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function ji(e){return e=e.childContextTypes,e!=null}function rl(){$r(Ni),$r(Si)}function gu(e,t,n){if(Si.current!==Gs)throw Error(s(168));Nr(Si,t),Nr(Ni,n)}function mu(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var g in o)if(!(g in t))throw Error(s(108,st(e)||"Unknown",g));return ne({},n,o)}function il(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gs,ya=Si.current,Nr(Si,e),Nr(Ni,Ni.current),!0}function vu(e,t,n){var o=e.stateNode;if(!o)throw Error(s(169));n?(e=mu(e,t,ya),o.__reactInternalMemoizedMergedChildContext=e,$r(Ni),$r(Si),Nr(Si,e)):$r(Ni),Nr(Ni,n)}var Ls=null,sl=!1,ic=!1;function yu(e){Ls===null?Ls=[e]:Ls.push(e)}function nh(e){sl=!0,yu(e)}function Xs(){if(!ic&&Ls!==null){ic=!0;var e=0,t=br;try{var n=Ls;for(br=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Ls=null,sl=!1}catch(g){throw Ls!==null&&(Ls=Ls.slice(e+1)),vn(Ci,Xs),g}finally{br=t,ic=!1}}return null}var Ya=[],Ka=0,al=null,ol=0,ts=[],ns=0,_a=null,Fs=1,Is="";function Ea(e,t){Ya[Ka++]=ol,Ya[Ka++]=al,al=e,ol=t}function _u(e,t,n){ts[ns++]=Fs,ts[ns++]=Is,ts[ns++]=_a,_a=e;var o=Fs;e=Is;var g=32-Ii(o)-1;o&=~(1<<g),n+=1;var te=32-Ii(t)+g;if(30<te){var ht=g-g%5;te=(o&(1<<ht)-1).toString(32),o>>=ht,g-=ht,Fs=1<<32-Ii(t)+g|n<<g|o,Is=te+e}else Fs=1<<te|n<<g|o,Is=e}function sc(e){e.return!==null&&(Ea(e,1),_u(e,1,0))}function ac(e){for(;e===al;)al=Ya[--Ka],Ya[Ka]=null,ol=Ya[--Ka],Ya[Ka]=null;for(;e===_a;)_a=ts[--ns],ts[ns]=null,Is=ts[--ns],ts[ns]=null,Fs=ts[--ns],ts[ns]=null}var Gi=null,Xi=null,Vr=!1,us=null;function Eu(e,t){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Su(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gi=e,Xi=Vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gi=e,Xi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_a!==null?{id:Fs,overflow:Is}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=as(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gi=e,Xi=null,!0):!1;default:return!1}}function oc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lc(e){if(Vr){var t=Xi;if(t){var n=t;if(!Su(e,t)){if(oc(e))throw Error(s(418));t=Vs(n.nextSibling);var o=Gi;t&&Su(e,t)?Eu(o,n):(e.flags=e.flags&-4097|2,Vr=!1,Gi=e)}}else{if(oc(e))throw Error(s(418));e.flags=e.flags&-4097|2,Vr=!1,Gi=e}}}function wu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gi=e}function ll(e){if(e!==Gi)return!1;if(!Vr)return wu(e),Vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jl(e.type,e.memoizedProps)),t&&(t=Xi)){if(oc(e))throw xu(),Error(s(418));for(;t;)Eu(e,t),t=Vs(t.nextSibling)}if(wu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xi=Vs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xi=null}}else Xi=Gi?Vs(e.stateNode.nextSibling):null;return!0}function xu(){for(var e=Xi;e;)e=Vs(e.nextSibling)}function Qa(){Xi=Gi=null,Vr=!1}function cc(e){us===null?us=[e]:us.push(e)}var rh=pt.ReactCurrentBatchConfig;function So(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var o=n.stateNode}if(!o)throw Error(s(147,e));var g=o,te=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===te?t.ref:(t=function(ht){var kt=g.refs;ht===null?delete kt[te]:kt[te]=ht},t._stringRef=te,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function cl(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bu(e){var t=e._init;return t(e._payload)}function Au(e){function t(Xt,Ht){if(e){var Kt=Xt.deletions;Kt===null?(Xt.deletions=[Ht],Xt.flags|=16):Kt.push(Ht)}}function n(Xt,Ht){if(!e)return null;for(;Ht!==null;)t(Xt,Ht),Ht=Ht.sibling;return null}function o(Xt,Ht){for(Xt=new Map;Ht!==null;)Ht.key!==null?Xt.set(Ht.key,Ht):Xt.set(Ht.index,Ht),Ht=Ht.sibling;return Xt}function g(Xt,Ht){return Xt=na(Xt,Ht),Xt.index=0,Xt.sibling=null,Xt}function te(Xt,Ht,Kt){return Xt.index=Kt,e?(Kt=Xt.alternate,Kt!==null?(Kt=Kt.index,Kt<Ht?(Xt.flags|=2,Ht):Kt):(Xt.flags|=2,Ht)):(Xt.flags|=1048576,Ht)}function ht(Xt){return e&&Xt.alternate===null&&(Xt.flags|=2),Xt}function kt(Xt,Ht,Kt,yn){return Ht===null||Ht.tag!==6?(Ht=eu(Kt,Xt.mode,yn),Ht.return=Xt,Ht):(Ht=g(Ht,Kt),Ht.return=Xt,Ht)}function Ft(Xt,Ht,Kt,yn){var Hn=Kt.type;return Hn===wt?hn(Xt,Ht,Kt.props.children,yn,Kt.key):Ht!==null&&(Ht.elementType===Hn||typeof Hn=="object"&&Hn!==null&&Hn.$$typeof===Ct&&bu(Hn)===Ht.type)?(yn=g(Ht,Kt.props),yn.ref=So(Xt,Ht,Kt),yn.return=Xt,yn):(yn=Fl(Kt.type,Kt.key,Kt.props,null,Xt.mode,yn),yn.ref=So(Xt,Ht,Kt),yn.return=Xt,yn)}function Zt(Xt,Ht,Kt,yn){return Ht===null||Ht.tag!==4||Ht.stateNode.containerInfo!==Kt.containerInfo||Ht.stateNode.implementation!==Kt.implementation?(Ht=tu(Kt,Xt.mode,yn),Ht.return=Xt,Ht):(Ht=g(Ht,Kt.children||[]),Ht.return=Xt,Ht)}function hn(Xt,Ht,Kt,yn,Hn){return Ht===null||Ht.tag!==7?(Ht=Ta(Kt,Xt.mode,yn,Hn),Ht.return=Xt,Ht):(Ht=g(Ht,Kt),Ht.return=Xt,Ht)}function gn(Xt,Ht,Kt){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number")return Ht=eu(""+Ht,Xt.mode,Kt),Ht.return=Xt,Ht;if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case nt:return Kt=Fl(Ht.type,Ht.key,Ht.props,null,Xt.mode,Kt),Kt.ref=So(Xt,null,Ht),Kt.return=Xt,Kt;case ft:return Ht=tu(Ht,Xt.mode,Kt),Ht.return=Xt,Ht;case Ct:var yn=Ht._init;return gn(Xt,yn(Ht._payload),Kt)}if(fn(Ht)||Y(Ht))return Ht=Ta(Ht,Xt.mode,Kt,null),Ht.return=Xt,Ht;cl(Xt,Ht)}return null}function dn(Xt,Ht,Kt,yn){var Hn=Ht!==null?Ht.key:null;if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return Hn!==null?null:kt(Xt,Ht,""+Kt,yn);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case nt:return Kt.key===Hn?Ft(Xt,Ht,Kt,yn):null;case ft:return Kt.key===Hn?Zt(Xt,Ht,Kt,yn):null;case Ct:return Hn=Kt._init,dn(Xt,Ht,Hn(Kt._payload),yn)}if(fn(Kt)||Y(Kt))return Hn!==null?null:hn(Xt,Ht,Kt,yn,null);cl(Xt,Kt)}return null}function bn(Xt,Ht,Kt,yn,Hn){if(typeof yn=="string"&&yn!==""||typeof yn=="number")return Xt=Xt.get(Kt)||null,kt(Ht,Xt,""+yn,Hn);if(typeof yn=="object"&&yn!==null){switch(yn.$$typeof){case nt:return Xt=Xt.get(yn.key===null?Kt:yn.key)||null,Ft(Ht,Xt,yn,Hn);case ft:return Xt=Xt.get(yn.key===null?Kt:yn.key)||null,Zt(Ht,Xt,yn,Hn);case Ct:var Gn=yn._init;return bn(Xt,Ht,Kt,Gn(yn._payload),Hn)}if(fn(yn)||Y(yn))return Xt=Xt.get(Kt)||null,hn(Ht,Xt,yn,Hn,null);cl(Ht,yn)}return null}function Dn(Xt,Ht,Kt,yn){for(var Hn=null,Gn=null,Xn=Ht,Jn=Ht=0,pi=null;Xn!==null&&Jn<Kt.length;Jn++){Xn.index>Jn?(pi=Xn,Xn=null):pi=Xn.sibling;var Cr=dn(Xt,Xn,Kt[Jn],yn);if(Cr===null){Xn===null&&(Xn=pi);break}e&&Xn&&Cr.alternate===null&&t(Xt,Xn),Ht=te(Cr,Ht,Jn),Gn===null?Hn=Cr:Gn.sibling=Cr,Gn=Cr,Xn=pi}if(Jn===Kt.length)return n(Xt,Xn),Vr&&Ea(Xt,Jn),Hn;if(Xn===null){for(;Jn<Kt.length;Jn++)Xn=gn(Xt,Kt[Jn],yn),Xn!==null&&(Ht=te(Xn,Ht,Jn),Gn===null?Hn=Xn:Gn.sibling=Xn,Gn=Xn);return Vr&&Ea(Xt,Jn),Hn}for(Xn=o(Xt,Xn);Jn<Kt.length;Jn++)pi=bn(Xn,Xt,Jn,Kt[Jn],yn),pi!==null&&(e&&pi.alternate!==null&&Xn.delete(pi.key===null?Jn:pi.key),Ht=te(pi,Ht,Jn),Gn===null?Hn=pi:Gn.sibling=pi,Gn=pi);return e&&Xn.forEach(function(ra){return t(Xt,ra)}),Vr&&Ea(Xt,Jn),Hn}function Nn(Xt,Ht,Kt,yn){var Hn=Y(Kt);if(typeof Hn!="function")throw Error(s(150));if(Kt=Hn.call(Kt),Kt==null)throw Error(s(151));for(var Gn=Hn=null,Xn=Ht,Jn=Ht=0,pi=null,Cr=Kt.next();Xn!==null&&!Cr.done;Jn++,Cr=Kt.next()){Xn.index>Jn?(pi=Xn,Xn=null):pi=Xn.sibling;var ra=dn(Xt,Xn,Cr.value,yn);if(ra===null){Xn===null&&(Xn=pi);break}e&&Xn&&ra.alternate===null&&t(Xt,Xn),Ht=te(ra,Ht,Jn),Gn===null?Hn=ra:Gn.sibling=ra,Gn=ra,Xn=pi}if(Cr.done)return n(Xt,Xn),Vr&&Ea(Xt,Jn),Hn;if(Xn===null){for(;!Cr.done;Jn++,Cr=Kt.next())Cr=gn(Xt,Cr.value,yn),Cr!==null&&(Ht=te(Cr,Ht,Jn),Gn===null?Hn=Cr:Gn.sibling=Cr,Gn=Cr);return Vr&&Ea(Xt,Jn),Hn}for(Xn=o(Xt,Xn);!Cr.done;Jn++,Cr=Kt.next())Cr=bn(Xn,Xt,Jn,Cr.value,yn),Cr!==null&&(e&&Cr.alternate!==null&&Xn.delete(Cr.key===null?Jn:Cr.key),Ht=te(Cr,Ht,Jn),Gn===null?Hn=Cr:Gn.sibling=Cr,Gn=Cr);return e&&Xn.forEach(function(Oh){return t(Xt,Oh)}),Vr&&Ea(Xt,Jn),Hn}function ni(Xt,Ht,Kt,yn){if(typeof Kt=="object"&&Kt!==null&&Kt.type===wt&&Kt.key===null&&(Kt=Kt.props.children),typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case nt:e:{for(var Hn=Kt.key,Gn=Ht;Gn!==null;){if(Gn.key===Hn){if(Hn=Kt.type,Hn===wt){if(Gn.tag===7){n(Xt,Gn.sibling),Ht=g(Gn,Kt.props.children),Ht.return=Xt,Xt=Ht;break e}}else if(Gn.elementType===Hn||typeof Hn=="object"&&Hn!==null&&Hn.$$typeof===Ct&&bu(Hn)===Gn.type){n(Xt,Gn.sibling),Ht=g(Gn,Kt.props),Ht.ref=So(Xt,Gn,Kt),Ht.return=Xt,Xt=Ht;break e}n(Xt,Gn);break}else t(Xt,Gn);Gn=Gn.sibling}Kt.type===wt?(Ht=Ta(Kt.props.children,Xt.mode,yn,Kt.key),Ht.return=Xt,Xt=Ht):(yn=Fl(Kt.type,Kt.key,Kt.props,null,Xt.mode,yn),yn.ref=So(Xt,Ht,Kt),yn.return=Xt,Xt=yn)}return ht(Xt);case ft:e:{for(Gn=Kt.key;Ht!==null;){if(Ht.key===Gn)if(Ht.tag===4&&Ht.stateNode.containerInfo===Kt.containerInfo&&Ht.stateNode.implementation===Kt.implementation){n(Xt,Ht.sibling),Ht=g(Ht,Kt.children||[]),Ht.return=Xt,Xt=Ht;break e}else{n(Xt,Ht);break}else t(Xt,Ht);Ht=Ht.sibling}Ht=tu(Kt,Xt.mode,yn),Ht.return=Xt,Xt=Ht}return ht(Xt);case Ct:return Gn=Kt._init,ni(Xt,Ht,Gn(Kt._payload),yn)}if(fn(Kt))return Dn(Xt,Ht,Kt,yn);if(Y(Kt))return Nn(Xt,Ht,Kt,yn);cl(Xt,Kt)}return typeof Kt=="string"&&Kt!==""||typeof Kt=="number"?(Kt=""+Kt,Ht!==null&&Ht.tag===6?(n(Xt,Ht.sibling),Ht=g(Ht,Kt),Ht.return=Xt,Xt=Ht):(n(Xt,Ht),Ht=eu(Kt,Xt.mode,yn),Ht.return=Xt,Xt=Ht),ht(Xt)):n(Xt,Ht)}return ni}var Za=Au(!0),ku=Au(!1),ul=qs(null),dl=null,Ja=null,uc=null;function dc(){uc=Ja=dl=null}function hc(e){var t=ul.current;$r(ul),e._currentValue=t}function fc(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function eo(e,t){dl=e,uc=Ja=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(zi=!0),e.firstContext=null)}function rs(e){var t=e._currentValue;if(uc!==e)if(e={context:e,memoizedValue:t,next:null},Ja===null){if(dl===null)throw Error(s(308));Ja=e,dl.dependencies={lanes:0,firstContext:e}}else Ja=Ja.next=e;return t}var Sa=null;function pc(e){Sa===null?Sa=[e]:Sa.push(e)}function Cu(e,t,n,o){var g=t.interleaved;return g===null?(n.next=n,pc(t)):(n.next=g.next,g.next=n),t.interleaved=n,Ds(e,o)}function Ds(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ys=!1;function gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(wr&2)!==0){var g=o.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),o.pending=t,Ds(e,n)}return g=o.interleaved,g===null?(t.next=t,pc(o)):(t.next=g.next,g.next=t),o.interleaved=t,Ds(e,n)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Da(e,n)}}function Pu(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var g=null,te=null;if(n=n.firstBaseUpdate,n!==null){do{var ht={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};te===null?g=te=ht:te=te.next=ht,n=n.next}while(n!==null);te===null?g=te=t:te=te.next=t}else g=te=t;n={baseState:o.baseState,firstBaseUpdate:g,lastBaseUpdate:te,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fl(e,t,n,o){var g=e.updateQueue;Ys=!1;var te=g.firstBaseUpdate,ht=g.lastBaseUpdate,kt=g.shared.pending;if(kt!==null){g.shared.pending=null;var Ft=kt,Zt=Ft.next;Ft.next=null,ht===null?te=Zt:ht.next=Zt,ht=Ft;var hn=e.alternate;hn!==null&&(hn=hn.updateQueue,kt=hn.lastBaseUpdate,kt!==ht&&(kt===null?hn.firstBaseUpdate=Zt:kt.next=Zt,hn.lastBaseUpdate=Ft))}if(te!==null){var gn=g.baseState;ht=0,hn=Zt=Ft=null,kt=te;do{var dn=kt.lane,bn=kt.eventTime;if((o&dn)===dn){hn!==null&&(hn=hn.next={eventTime:bn,lane:0,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null});e:{var Dn=e,Nn=kt;switch(dn=t,bn=n,Nn.tag){case 1:if(Dn=Nn.payload,typeof Dn=="function"){gn=Dn.call(bn,gn,dn);break e}gn=Dn;break e;case 3:Dn.flags=Dn.flags&-65537|128;case 0:if(Dn=Nn.payload,dn=typeof Dn=="function"?Dn.call(bn,gn,dn):Dn,dn==null)break e;gn=ne({},gn,dn);break e;case 2:Ys=!0}}kt.callback!==null&&kt.lane!==0&&(e.flags|=64,dn=g.effects,dn===null?g.effects=[kt]:dn.push(kt))}else bn={eventTime:bn,lane:dn,tag:kt.tag,payload:kt.payload,callback:kt.callback,next:null},hn===null?(Zt=hn=bn,Ft=gn):hn=hn.next=bn,ht|=dn;if(kt=kt.next,kt===null){if(kt=g.shared.pending,kt===null)break;dn=kt,kt=dn.next,dn.next=null,g.lastBaseUpdate=dn,g.shared.pending=null}}while(!0);if(hn===null&&(Ft=gn),g.baseState=Ft,g.firstBaseUpdate=Zt,g.lastBaseUpdate=hn,t=g.shared.interleaved,t!==null){g=t;do ht|=g.lane,g=g.next;while(g!==t)}else te===null&&(g.shared.lanes=0);ba|=ht,e.lanes=ht,e.memoizedState=gn}}function Ru(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],g=o.callback;if(g!==null){if(o.callback=null,o=n,typeof g!="function")throw Error(s(191,g));g.call(o)}}}var wo={},ws=qs(wo),xo=qs(wo),bo=qs(wo);function wa(e){if(e===wo)throw Error(s(174));return e}function mc(e,t){switch(Nr(bo,t),Nr(xo,e),Nr(ws,wo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:er(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=er(t,e)}$r(ws),Nr(ws,t)}function to(){$r(ws),$r(xo),$r(bo)}function Mu(e){wa(bo.current);var t=wa(ws.current),n=er(t,e.type);t!==n&&(Nr(xo,e),Nr(ws,n))}function vc(e){xo.current===e&&($r(ws),$r(xo))}var Xr=qs(0);function pl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yc=[];function _c(){for(var e=0;e<yc.length;e++)yc[e]._workInProgressVersionPrimary=null;yc.length=0}var gl=pt.ReactCurrentDispatcher,Ec=pt.ReactCurrentBatchConfig,xa=0,Yr=null,ui=null,hi=null,ml=!1,Ao=!1,ko=0,ih=0;function wi(){throw Error(s(321))}function Sc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Oi(e[n],t[n]))return!1;return!0}function wc(e,t,n,o,g,te){if(xa=te,Yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gl.current=e===null||e.memoizedState===null?lh:ch,e=n(o,g),Ao){te=0;do{if(Ao=!1,ko=0,25<=te)throw Error(s(301));te+=1,hi=ui=null,t.updateQueue=null,gl.current=uh,e=n(o,g)}while(Ao)}if(gl.current=_l,t=ui!==null&&ui.next!==null,xa=0,hi=ui=Yr=null,ml=!1,t)throw Error(s(300));return e}function xc(){var e=ko!==0;return ko=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Yr.memoizedState=hi=e:hi=hi.next=e,hi}function is(){if(ui===null){var e=Yr.alternate;e=e!==null?e.memoizedState:null}else e=ui.next;var t=hi===null?Yr.memoizedState:hi.next;if(t!==null)hi=t,ui=e;else{if(e===null)throw Error(s(310));ui=e,e={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},hi===null?Yr.memoizedState=hi=e:hi=hi.next=e}return hi}function Co(e,t){return typeof t=="function"?t(e):t}function bc(e){var t=is(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=ui,g=o.baseQueue,te=n.pending;if(te!==null){if(g!==null){var ht=g.next;g.next=te.next,te.next=ht}o.baseQueue=g=te,n.pending=null}if(g!==null){te=g.next,o=o.baseState;var kt=ht=null,Ft=null,Zt=te;do{var hn=Zt.lane;if((xa&hn)===hn)Ft!==null&&(Ft=Ft.next={lane:0,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null}),o=Zt.hasEagerState?Zt.eagerState:e(o,Zt.action);else{var gn={lane:hn,action:Zt.action,hasEagerState:Zt.hasEagerState,eagerState:Zt.eagerState,next:null};Ft===null?(kt=Ft=gn,ht=o):Ft=Ft.next=gn,Yr.lanes|=hn,ba|=hn}Zt=Zt.next}while(Zt!==null&&Zt!==te);Ft===null?ht=o:Ft.next=kt,Oi(o,t.memoizedState)||(zi=!0),t.memoizedState=o,t.baseState=ht,t.baseQueue=Ft,n.lastRenderedState=o}if(e=n.interleaved,e!==null){g=e;do te=g.lane,Yr.lanes|=te,ba|=te,g=g.next;while(g!==e)}else g===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ac(e){var t=is(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var o=n.dispatch,g=n.pending,te=t.memoizedState;if(g!==null){n.pending=null;var ht=g=g.next;do te=e(te,ht.action),ht=ht.next;while(ht!==g);Oi(te,t.memoizedState)||(zi=!0),t.memoizedState=te,t.baseQueue===null&&(t.baseState=te),n.lastRenderedState=te}return[te,o]}function Lu(){}function Fu(e,t){var n=Yr,o=is(),g=t(),te=!Oi(o.memoizedState,g);if(te&&(o.memoizedState=g,zi=!0),o=o.queue,kc(Ou.bind(null,n,o,e),[e]),o.getSnapshot!==t||te||hi!==null&&hi.memoizedState.tag&1){if(n.flags|=2048,To(9,Du.bind(null,n,o,g,t),void 0,null),fi===null)throw Error(s(349));(xa&30)!==0||Iu(n,t,g)}return g}function Iu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Yr.updateQueue,t===null?(t={lastEffect:null,stores:null},Yr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Du(e,t,n,o){t.value=n,t.getSnapshot=o,Nu(t)&&ju(e)}function Ou(e,t,n){return n(function(){Nu(t)&&ju(e)})}function Nu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Oi(e,n)}catch{return!0}}function ju(e){var t=Ds(e,1);t!==null&&ps(t,e,1,-1)}function zu(e){var t=xs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=oh.bind(null,Yr,e),[t.memoizedState,e]}function To(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=Yr.updateQueue,t===null?(t={lastEffect:null,stores:null},Yr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Bu(){return is().memoizedState}function vl(e,t,n,o){var g=xs();Yr.flags|=e,g.memoizedState=To(1|t,n,void 0,o===void 0?null:o)}function yl(e,t,n,o){var g=is();o=o===void 0?null:o;var te=void 0;if(ui!==null){var ht=ui.memoizedState;if(te=ht.destroy,o!==null&&Sc(o,ht.deps)){g.memoizedState=To(t,n,te,o);return}}Yr.flags|=e,g.memoizedState=To(1|t,n,te,o)}function Hu(e,t){return vl(8390656,8,e,t)}function kc(e,t){return yl(2048,8,e,t)}function Uu(e,t){return yl(4,2,e,t)}function $u(e,t){return yl(4,4,e,t)}function Wu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vu(e,t,n){return n=n!=null?n.concat([e]):null,yl(4,4,Wu.bind(null,t,e),n)}function Cc(){}function qu(e,t){var n=is();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Sc(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function Gu(e,t){var n=is();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&Sc(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Xu(e,t,n){return(xa&21)===0?(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=n):(Oi(n,t)||(n=No(),Yr.lanes|=n,ba|=n,e.baseState=!0),t)}function sh(e,t){var n=br;br=n!==0&&4>n?n:4,e(!0);var o=Ec.transition;Ec.transition={};try{e(!1),t()}finally{br=n,Ec.transition=o}}function Yu(){return is().memoizedState}function ah(e,t,n){var o=ea(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},Ku(e))Qu(t,n);else if(n=Cu(e,t,n,o),n!==null){var g=Li();ps(n,e,o,g),Zu(n,t,o)}}function oh(e,t,n){var o=ea(e),g={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Qu(t,g);else{var te=e.alternate;if(e.lanes===0&&(te===null||te.lanes===0)&&(te=t.lastRenderedReducer,te!==null))try{var ht=t.lastRenderedState,kt=te(ht,n);if(g.hasEagerState=!0,g.eagerState=kt,Oi(kt,ht)){var Ft=t.interleaved;Ft===null?(g.next=g,pc(t)):(g.next=Ft.next,Ft.next=g),t.interleaved=g;return}}catch{}finally{}n=Cu(e,t,g,o),n!==null&&(g=Li(),ps(n,e,o,g),Zu(n,t,o))}}function Ku(e){var t=e.alternate;return e===Yr||t!==null&&t===Yr}function Qu(e,t){Ao=ml=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zu(e,t,n){if((n&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Da(e,n)}}var _l={readContext:rs,useCallback:wi,useContext:wi,useEffect:wi,useImperativeHandle:wi,useInsertionEffect:wi,useLayoutEffect:wi,useMemo:wi,useReducer:wi,useRef:wi,useState:wi,useDebugValue:wi,useDeferredValue:wi,useTransition:wi,useMutableSource:wi,useSyncExternalStore:wi,useId:wi,unstable_isNewReconciler:!1},lh={readContext:rs,useCallback:function(e,t){return xs().memoizedState=[e,t===void 0?null:t],e},useContext:rs,useEffect:Hu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vl(4194308,4,Wu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vl(4194308,4,e,t)},useInsertionEffect:function(e,t){return vl(4,2,e,t)},useMemo:function(e,t){var n=xs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=xs();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=ah.bind(null,Yr,e),[o.memoizedState,e]},useRef:function(e){var t=xs();return e={current:e},t.memoizedState=e},useState:zu,useDebugValue:Cc,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=zu(!1),t=e[0];return e=sh.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=Yr,g=xs();if(Vr){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),fi===null)throw Error(s(349));(xa&30)!==0||Iu(o,t,n)}g.memoizedState=n;var te={value:n,getSnapshot:t};return g.queue=te,Hu(Ou.bind(null,o,te,e),[e]),o.flags|=2048,To(9,Du.bind(null,o,te,n,t),void 0,null),n},useId:function(){var e=xs(),t=fi.identifierPrefix;if(Vr){var n=Is,o=Fs;n=(o&~(1<<32-Ii(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=ko++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ih++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ch={readContext:rs,useCallback:qu,useContext:rs,useEffect:kc,useImperativeHandle:Vu,useInsertionEffect:Uu,useLayoutEffect:$u,useMemo:Gu,useReducer:bc,useRef:Bu,useState:function(){return bc(Co)},useDebugValue:Cc,useDeferredValue:function(e){var t=is();return Xu(t,ui.memoizedState,e)},useTransition:function(){var e=bc(Co)[0],t=is().memoizedState;return[e,t]},useMutableSource:Lu,useSyncExternalStore:Fu,useId:Yu,unstable_isNewReconciler:!1},uh={readContext:rs,useCallback:qu,useContext:rs,useEffect:kc,useImperativeHandle:Vu,useInsertionEffect:Uu,useLayoutEffect:$u,useMemo:Gu,useReducer:Ac,useRef:Bu,useState:function(){return Ac(Co)},useDebugValue:Cc,useDeferredValue:function(e){var t=is();return ui===null?t.memoizedState=e:Xu(t,ui.memoizedState,e)},useTransition:function(){var e=Ac(Co)[0],t=is().memoizedState;return[e,t]},useMutableSource:Lu,useSyncExternalStore:Fu,useId:Yu,unstable_isNewReconciler:!1};function ds(e,t){if(e&&e.defaultProps){t=ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Tc(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var El={isMounted:function(e){return(e=e._reactInternals)?Ki(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Li(),g=ea(e),te=Os(o,g);te.payload=t,n!=null&&(te.callback=n),t=Ks(e,te,g),t!==null&&(ps(t,e,g,o),hl(t,e,g))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Li(),g=ea(e),te=Os(o,g);te.tag=1,te.payload=t,n!=null&&(te.callback=n),t=Ks(e,te,g),t!==null&&(ps(t,e,g,o),hl(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Li(),o=ea(e),g=Os(n,o);g.tag=2,t!=null&&(g.callback=t),t=Ks(e,g,o),t!==null&&(ps(t,e,o,n),hl(t,e,o))}};function Ju(e,t,n,o,g,te,ht){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,te,ht):t.prototype&&t.prototype.isPureReactComponent?!Hs(n,o)||!Hs(g,te):!0}function ed(e,t,n){var o=!1,g=Gs,te=t.contextType;return typeof te=="object"&&te!==null?te=rs(te):(g=ji(t)?ya:Si.current,o=t.contextTypes,te=(o=o!=null)?Xa(e,g):Gs),t=new t(n,te),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=El,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=te),t}function td(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&El.enqueueReplaceState(t,t.state,null)}function Pc(e,t,n,o){var g=e.stateNode;g.props=n,g.state=e.memoizedState,g.refs={},gc(e);var te=t.contextType;typeof te=="object"&&te!==null?g.context=rs(te):(te=ji(t)?ya:Si.current,g.context=Xa(e,te)),g.state=e.memoizedState,te=t.getDerivedStateFromProps,typeof te=="function"&&(Tc(e,t,te,n),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&El.enqueueReplaceState(g,g.state,null),fl(e,n,g,o),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var n="",o=t;do n+=ut(o),o=o.return;while(o);var g=n}catch(te){g=`
Error generating stack: `+te.message+`
`+te.stack}return{value:e,source:t,stack:g,digest:null}}function Rc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dh=typeof WeakMap=="function"?WeakMap:Map;function nd(e,t,n){n=Os(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Cl||(Cl=!0,qc=o),Mc(e,t)},n}function rd(e,t,n){n=Os(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var g=t.value;n.payload=function(){return o(g)},n.callback=function(){Mc(e,t)}}var te=e.stateNode;return te!==null&&typeof te.componentDidCatch=="function"&&(n.callback=function(){Mc(e,t),typeof o!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var ht=t.stack;this.componentDidCatch(t.value,{componentStack:ht!==null?ht:""})}),n}function id(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new dh;var g=new Set;o.set(t,g)}else g=o.get(t),g===void 0&&(g=new Set,o.set(t,g));g.has(n)||(g.add(n),e=Ah.bind(null,e,t,n),t.then(e,e))}function sd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ad(e,t,n,o,g){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Os(-1,1),t.tag=2,Ks(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=g,e)}var hh=pt.ReactCurrentOwner,zi=!1;function Mi(e,t,n,o){t.child=e===null?ku(t,null,n,o):Za(t,e.child,n,o)}function od(e,t,n,o,g){n=n.render;var te=t.ref;return eo(t,g),o=wc(e,t,n,o,te,g),n=xc(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,Ns(e,t,g)):(Vr&&n&&sc(t),t.flags|=1,Mi(e,t,o,g),t.child)}function ld(e,t,n,o,g){if(e===null){var te=n.type;return typeof te=="function"&&!Jc(te)&&te.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=te,cd(e,t,te,o,g)):(e=Fl(n.type,null,o,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(te=e.child,(e.lanes&g)===0){var ht=te.memoizedProps;if(n=n.compare,n=n!==null?n:Hs,n(ht,o)&&e.ref===t.ref)return Ns(e,t,g)}return t.flags|=1,e=na(te,o),e.ref=t.ref,e.return=t,t.child=e}function cd(e,t,n,o,g){if(e!==null){var te=e.memoizedProps;if(Hs(te,o)&&e.ref===t.ref)if(zi=!1,t.pendingProps=o=te,(e.lanes&g)!==0)(e.flags&131072)!==0&&(zi=!0);else return t.lanes=e.lanes,Ns(e,t,g)}return Lc(e,t,n,o,g)}function ud(e,t,n){var o=t.pendingProps,g=o.children,te=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Nr(io,Yi),Yi|=n;else{if((n&1073741824)===0)return e=te!==null?te.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Nr(io,Yi),Yi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=te!==null?te.baseLanes:n,Nr(io,Yi),Yi|=o}else te!==null?(o=te.baseLanes|n,t.memoizedState=null):o=n,Nr(io,Yi),Yi|=o;return Mi(e,t,g,n),t.child}function dd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Lc(e,t,n,o,g){var te=ji(n)?ya:Si.current;return te=Xa(t,te),eo(t,g),n=wc(e,t,n,o,te,g),o=xc(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,Ns(e,t,g)):(Vr&&o&&sc(t),t.flags|=1,Mi(e,t,n,g),t.child)}function hd(e,t,n,o,g){if(ji(n)){var te=!0;il(t)}else te=!1;if(eo(t,g),t.stateNode===null)wl(e,t),ed(t,n,o),Pc(t,n,o,g),o=!0;else if(e===null){var ht=t.stateNode,kt=t.memoizedProps;ht.props=kt;var Ft=ht.context,Zt=n.contextType;typeof Zt=="object"&&Zt!==null?Zt=rs(Zt):(Zt=ji(n)?ya:Si.current,Zt=Xa(t,Zt));var hn=n.getDerivedStateFromProps,gn=typeof hn=="function"||typeof ht.getSnapshotBeforeUpdate=="function";gn||typeof ht.UNSAFE_componentWillReceiveProps!="function"&&typeof ht.componentWillReceiveProps!="function"||(kt!==o||Ft!==Zt)&&td(t,ht,o,Zt),Ys=!1;var dn=t.memoizedState;ht.state=dn,fl(t,o,ht,g),Ft=t.memoizedState,kt!==o||dn!==Ft||Ni.current||Ys?(typeof hn=="function"&&(Tc(t,n,hn,o),Ft=t.memoizedState),(kt=Ys||Ju(t,n,kt,o,dn,Ft,Zt))?(gn||typeof ht.UNSAFE_componentWillMount!="function"&&typeof ht.componentWillMount!="function"||(typeof ht.componentWillMount=="function"&&ht.componentWillMount(),typeof ht.UNSAFE_componentWillMount=="function"&&ht.UNSAFE_componentWillMount()),typeof ht.componentDidMount=="function"&&(t.flags|=4194308)):(typeof ht.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=Ft),ht.props=o,ht.state=Ft,ht.context=Zt,o=kt):(typeof ht.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{ht=t.stateNode,Tu(e,t),kt=t.memoizedProps,Zt=t.type===t.elementType?kt:ds(t.type,kt),ht.props=Zt,gn=t.pendingProps,dn=ht.context,Ft=n.contextType,typeof Ft=="object"&&Ft!==null?Ft=rs(Ft):(Ft=ji(n)?ya:Si.current,Ft=Xa(t,Ft));var bn=n.getDerivedStateFromProps;(hn=typeof bn=="function"||typeof ht.getSnapshotBeforeUpdate=="function")||typeof ht.UNSAFE_componentWillReceiveProps!="function"&&typeof ht.componentWillReceiveProps!="function"||(kt!==gn||dn!==Ft)&&td(t,ht,o,Ft),Ys=!1,dn=t.memoizedState,ht.state=dn,fl(t,o,ht,g);var Dn=t.memoizedState;kt!==gn||dn!==Dn||Ni.current||Ys?(typeof bn=="function"&&(Tc(t,n,bn,o),Dn=t.memoizedState),(Zt=Ys||Ju(t,n,Zt,o,dn,Dn,Ft)||!1)?(hn||typeof ht.UNSAFE_componentWillUpdate!="function"&&typeof ht.componentWillUpdate!="function"||(typeof ht.componentWillUpdate=="function"&&ht.componentWillUpdate(o,Dn,Ft),typeof ht.UNSAFE_componentWillUpdate=="function"&&ht.UNSAFE_componentWillUpdate(o,Dn,Ft)),typeof ht.componentDidUpdate=="function"&&(t.flags|=4),typeof ht.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof ht.componentDidUpdate!="function"||kt===e.memoizedProps&&dn===e.memoizedState||(t.flags|=4),typeof ht.getSnapshotBeforeUpdate!="function"||kt===e.memoizedProps&&dn===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Dn),ht.props=o,ht.state=Dn,ht.context=Ft,o=Zt):(typeof ht.componentDidUpdate!="function"||kt===e.memoizedProps&&dn===e.memoizedState||(t.flags|=4),typeof ht.getSnapshotBeforeUpdate!="function"||kt===e.memoizedProps&&dn===e.memoizedState||(t.flags|=1024),o=!1)}return Fc(e,t,n,o,te,g)}function Fc(e,t,n,o,g,te){dd(e,t);var ht=(t.flags&128)!==0;if(!o&&!ht)return g&&vu(t,n,!1),Ns(e,t,te);o=t.stateNode,hh.current=t;var kt=ht&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&ht?(t.child=Za(t,e.child,null,te),t.child=Za(t,null,kt,te)):Mi(e,t,kt,te),t.memoizedState=o.state,g&&vu(t,n,!0),t.child}function fd(e){var t=e.stateNode;t.pendingContext?gu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gu(e,t.context,!1),mc(e,t.containerInfo)}function pd(e,t,n,o,g){return Qa(),cc(g),t.flags|=256,Mi(e,t,n,o),t.child}var Ic={dehydrated:null,treeContext:null,retryLane:0};function Dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function gd(e,t,n){var o=t.pendingProps,g=Xr.current,te=!1,ht=(t.flags&128)!==0,kt;if((kt=ht)||(kt=e!==null&&e.memoizedState===null?!1:(g&2)!==0),kt?(te=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),Nr(Xr,g&1),e===null)return lc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(ht=o.children,e=o.fallback,te?(o=t.mode,te=t.child,ht={mode:"hidden",children:ht},(o&1)===0&&te!==null?(te.childLanes=0,te.pendingProps=ht):te=Il(ht,o,0,null),e=Ta(e,o,n,null),te.return=t,e.return=t,te.sibling=e,t.child=te,t.child.memoizedState=Dc(n),t.memoizedState=Ic,e):Oc(t,ht));if(g=e.memoizedState,g!==null&&(kt=g.dehydrated,kt!==null))return fh(e,t,ht,o,kt,g,n);if(te){te=o.fallback,ht=t.mode,g=e.child,kt=g.sibling;var Ft={mode:"hidden",children:o.children};return(ht&1)===0&&t.child!==g?(o=t.child,o.childLanes=0,o.pendingProps=Ft,t.deletions=null):(o=na(g,Ft),o.subtreeFlags=g.subtreeFlags&14680064),kt!==null?te=na(kt,te):(te=Ta(te,ht,n,null),te.flags|=2),te.return=t,o.return=t,o.sibling=te,t.child=o,o=te,te=t.child,ht=e.child.memoizedState,ht=ht===null?Dc(n):{baseLanes:ht.baseLanes|n,cachePool:null,transitions:ht.transitions},te.memoizedState=ht,te.childLanes=e.childLanes&~n,t.memoizedState=Ic,o}return te=e.child,e=te.sibling,o=na(te,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Oc(e,t){return t=Il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sl(e,t,n,o){return o!==null&&cc(o),Za(t,e.child,null,n),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fh(e,t,n,o,g,te,ht){if(n)return t.flags&256?(t.flags&=-257,o=Rc(Error(s(422))),Sl(e,t,ht,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(te=o.fallback,g=t.mode,o=Il({mode:"visible",children:o.children},g,0,null),te=Ta(te,g,ht,null),te.flags|=2,o.return=t,te.return=t,o.sibling=te,t.child=o,(t.mode&1)!==0&&Za(t,e.child,null,ht),t.child.memoizedState=Dc(ht),t.memoizedState=Ic,te);if((t.mode&1)===0)return Sl(e,t,ht,null);if(g.data==="$!"){if(o=g.nextSibling&&g.nextSibling.dataset,o)var kt=o.dgst;return o=kt,te=Error(s(419)),o=Rc(te,o,void 0),Sl(e,t,ht,o)}if(kt=(ht&e.childLanes)!==0,zi||kt){if(o=fi,o!==null){switch(ht&-ht){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(o.suspendedLanes|ht))!==0?0:g,g!==0&&g!==te.retryLane&&(te.retryLane=g,Ds(e,g),ps(o,e,g,-1))}return Zc(),o=Rc(Error(s(421))),Sl(e,t,ht,o)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=kh.bind(null,e),g._reactRetry=t,null):(e=te.treeContext,Xi=Vs(g.nextSibling),Gi=t,Vr=!0,us=null,e!==null&&(ts[ns++]=Fs,ts[ns++]=Is,ts[ns++]=_a,Fs=e.id,Is=e.overflow,_a=t),t=Oc(t,o.children),t.flags|=4096,t)}function md(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),fc(e.return,t,n)}function Nc(e,t,n,o,g){var te=e.memoizedState;te===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:g}:(te.isBackwards=t,te.rendering=null,te.renderingStartTime=0,te.last=o,te.tail=n,te.tailMode=g)}function vd(e,t,n){var o=t.pendingProps,g=o.revealOrder,te=o.tail;if(Mi(e,t,o.children,n),o=Xr.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&md(e,n,t);else if(e.tag===19)md(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Nr(Xr,o),(t.mode&1)===0)t.memoizedState=null;else switch(g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&pl(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),Nc(t,!1,g,n,te);break;case"backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&pl(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}Nc(t,!0,n,null,te);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wl(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ba|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=na(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=na(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ph(e,t,n){switch(t.tag){case 3:fd(t),Qa();break;case 5:Mu(t);break;case 1:ji(t.type)&&il(t);break;case 4:mc(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,g=t.memoizedProps.value;Nr(ul,o._currentValue),o._currentValue=g;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Nr(Xr,Xr.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?gd(e,t,n):(Nr(Xr,Xr.current&1),e=Ns(e,t,n),e!==null?e.sibling:null);Nr(Xr,Xr.current&1);break;case 19:if(o=(n&t.childLanes)!==0,(e.flags&128)!==0){if(o)return vd(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Nr(Xr,Xr.current),o)break;return null;case 22:case 23:return t.lanes=0,ud(e,t,n)}return Ns(e,t,n)}var yd,jc,_d,Ed;yd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},jc=function(){},_d=function(e,t,n,o){var g=e.memoizedProps;if(g!==o){e=t.stateNode,wa(ws.current);var te=null;switch(n){case"input":g=un(e,g),o=un(e,o),te=[];break;case"select":g=ne({},g,{value:void 0}),o=ne({},o,{value:void 0}),te=[];break;case"textarea":g=_n(e,g),o=_n(e,o),te=[];break;default:typeof g.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=tl)}Ut(n,o);var ht;n=null;for(Zt in g)if(!o.hasOwnProperty(Zt)&&g.hasOwnProperty(Zt)&&g[Zt]!=null)if(Zt==="style"){var kt=g[Zt];for(ht in kt)kt.hasOwnProperty(ht)&&(n||(n={}),n[ht]="")}else Zt!=="dangerouslySetInnerHTML"&&Zt!=="children"&&Zt!=="suppressContentEditableWarning"&&Zt!=="suppressHydrationWarning"&&Zt!=="autoFocus"&&(c.hasOwnProperty(Zt)?te||(te=[]):(te=te||[]).push(Zt,null));for(Zt in o){var Ft=o[Zt];if(kt=g?.[Zt],o.hasOwnProperty(Zt)&&Ft!==kt&&(Ft!=null||kt!=null))if(Zt==="style")if(kt){for(ht in kt)!kt.hasOwnProperty(ht)||Ft&&Ft.hasOwnProperty(ht)||(n||(n={}),n[ht]="");for(ht in Ft)Ft.hasOwnProperty(ht)&&kt[ht]!==Ft[ht]&&(n||(n={}),n[ht]=Ft[ht])}else n||(te||(te=[]),te.push(Zt,n)),n=Ft;else Zt==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,kt=kt?kt.__html:void 0,Ft!=null&&kt!==Ft&&(te=te||[]).push(Zt,Ft)):Zt==="children"?typeof Ft!="string"&&typeof Ft!="number"||(te=te||[]).push(Zt,""+Ft):Zt!=="suppressContentEditableWarning"&&Zt!=="suppressHydrationWarning"&&(c.hasOwnProperty(Zt)?(Ft!=null&&Zt==="onScroll"&&Ur("scroll",e),te||kt===Ft||(te=[])):(te=te||[]).push(Zt,Ft))}n&&(te=te||[]).push("style",n);var Zt=te;(t.updateQueue=Zt)&&(t.flags|=4)}},Ed=function(e,t,n,o){n!==o&&(t.flags|=4)};function Po(e,t){if(!Vr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function xi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,o|=g.subtreeFlags&14680064,o|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,o|=g.subtreeFlags,o|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function gh(e,t,n){var o=t.pendingProps;switch(ac(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xi(t),null;case 1:return ji(t.type)&&rl(),xi(t),null;case 3:return o=t.stateNode,to(),$r(Ni),$r(Si),_c(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,us!==null&&(Yc(us),us=null))),jc(e,t),xi(t),null;case 5:vc(t);var g=wa(bo.current);if(n=t.type,e!==null&&t.stateNode!=null)_d(e,t,n,o,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return xi(t),null}if(e=wa(ws.current),ll(t)){o=t.stateNode,n=t.type;var te=t.memoizedProps;switch(o[Ss]=t,o[_o]=te,e=(t.mode&1)!==0,n){case"dialog":Ur("cancel",o),Ur("close",o);break;case"iframe":case"object":case"embed":Ur("load",o);break;case"video":case"audio":for(g=0;g<mo.length;g++)Ur(mo[g],o);break;case"source":Ur("error",o);break;case"img":case"image":case"link":Ur("error",o),Ur("load",o);break;case"details":Ur("toggle",o);break;case"input":Yt(o,te),Ur("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!te.multiple},Ur("invalid",o);break;case"textarea":An(o,te),Ur("invalid",o)}Ut(n,te),g=null;for(var ht in te)if(te.hasOwnProperty(ht)){var kt=te[ht];ht==="children"?typeof kt=="string"?o.textContent!==kt&&(te.suppressHydrationWarning!==!0&&el(o.textContent,kt,e),g=["children",kt]):typeof kt=="number"&&o.textContent!==""+kt&&(te.suppressHydrationWarning!==!0&&el(o.textContent,kt,e),g=["children",""+kt]):c.hasOwnProperty(ht)&&kt!=null&&ht==="onScroll"&&Ur("scroll",o)}switch(n){case"input":xt(o),Gt(o,te,!0);break;case"textarea":xt(o),Yn(o);break;case"select":case"option":break;default:typeof te.onClick=="function"&&(o.onclick=tl)}o=g,t.updateQueue=o,o!==null&&(t.flags|=4)}else{ht=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ar(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=ht.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=ht.createElement(n,{is:o.is}):(e=ht.createElement(n),n==="select"&&(ht=e,o.multiple?ht.multiple=!0:o.size&&(ht.size=o.size))):e=ht.createElementNS(e,n),e[Ss]=t,e[_o]=o,yd(e,t,!1,!1),t.stateNode=e;e:{switch(ht=mn(n,o),n){case"dialog":Ur("cancel",e),Ur("close",e),g=o;break;case"iframe":case"object":case"embed":Ur("load",e),g=o;break;case"video":case"audio":for(g=0;g<mo.length;g++)Ur(mo[g],e);g=o;break;case"source":Ur("error",e),g=o;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),g=o;break;case"details":Ur("toggle",e),g=o;break;case"input":Yt(e,o),g=un(e,o),Ur("invalid",e);break;case"option":g=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},g=ne({},o,{value:void 0}),Ur("invalid",e);break;case"textarea":An(e,o),g=_n(e,o),Ur("invalid",e);break;default:g=o}Ut(n,g),kt=g;for(te in kt)if(kt.hasOwnProperty(te)){var Ft=kt[te];te==="style"?sn(e,Ft):te==="dangerouslySetInnerHTML"?(Ft=Ft?Ft.__html:void 0,Ft!=null&&dr(e,Ft)):te==="children"?typeof Ft=="string"?(n!=="textarea"||Ft!=="")&&hr(e,Ft):typeof Ft=="number"&&hr(e,""+Ft):te!=="suppressContentEditableWarning"&&te!=="suppressHydrationWarning"&&te!=="autoFocus"&&(c.hasOwnProperty(te)?Ft!=null&&te==="onScroll"&&Ur("scroll",e):Ft!=null&&mt(e,te,Ft,ht))}switch(n){case"input":xt(e),Gt(e,o,!1);break;case"textarea":xt(e),Yn(e);break;case"option":o.value!=null&&e.setAttribute("value",""+ot(o.value));break;case"select":e.multiple=!!o.multiple,te=o.value,te!=null?an(e,!!o.multiple,te,!1):o.defaultValue!=null&&an(e,!!o.multiple,o.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=tl)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xi(t),null;case 6:if(e&&t.stateNode!=null)Ed(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(n=wa(bo.current),wa(ws.current),ll(t)){if(o=t.stateNode,n=t.memoizedProps,o[Ss]=t,(te=o.nodeValue!==n)&&(e=Gi,e!==null))switch(e.tag){case 3:el(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&el(o.nodeValue,n,(e.mode&1)!==0)}te&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[Ss]=t,t.stateNode=o}return xi(t),null;case 13:if($r(Xr),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vr&&Xi!==null&&(t.mode&1)!==0&&(t.flags&128)===0)xu(),Qa(),t.flags|=98560,te=!1;else if(te=ll(t),o!==null&&o.dehydrated!==null){if(e===null){if(!te)throw Error(s(318));if(te=t.memoizedState,te=te!==null?te.dehydrated:null,!te)throw Error(s(317));te[Ss]=t}else Qa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xi(t),te=!1}else us!==null&&(Yc(us),us=null),te=!0;if(!te)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Xr.current&1)!==0?di===0&&(di=3):Zc())),t.updateQueue!==null&&(t.flags|=4),xi(t),null);case 4:return to(),jc(e,t),e===null&&vo(t.stateNode.containerInfo),xi(t),null;case 10:return hc(t.type._context),xi(t),null;case 17:return ji(t.type)&&rl(),xi(t),null;case 19:if($r(Xr),te=t.memoizedState,te===null)return xi(t),null;if(o=(t.flags&128)!==0,ht=te.rendering,ht===null)if(o)Po(te,!1);else{if(di!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(ht=pl(e),ht!==null){for(t.flags|=128,Po(te,!1),o=ht.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)te=n,e=o,te.flags&=14680066,ht=te.alternate,ht===null?(te.childLanes=0,te.lanes=e,te.child=null,te.subtreeFlags=0,te.memoizedProps=null,te.memoizedState=null,te.updateQueue=null,te.dependencies=null,te.stateNode=null):(te.childLanes=ht.childLanes,te.lanes=ht.lanes,te.child=ht.child,te.subtreeFlags=0,te.deletions=null,te.memoizedProps=ht.memoizedProps,te.memoizedState=ht.memoizedState,te.updateQueue=ht.updateQueue,te.type=ht.type,e=ht.dependencies,te.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Nr(Xr,Xr.current&1|2),t.child}e=e.sibling}te.tail!==null&&rr()>so&&(t.flags|=128,o=!0,Po(te,!1),t.lanes=4194304)}else{if(!o)if(e=pl(ht),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Po(te,!0),te.tail===null&&te.tailMode==="hidden"&&!ht.alternate&&!Vr)return xi(t),null}else 2*rr()-te.renderingStartTime>so&&n!==1073741824&&(t.flags|=128,o=!0,Po(te,!1),t.lanes=4194304);te.isBackwards?(ht.sibling=t.child,t.child=ht):(n=te.last,n!==null?n.sibling=ht:t.child=ht,te.last=ht)}return te.tail!==null?(t=te.tail,te.rendering=t,te.tail=t.sibling,te.renderingStartTime=rr(),t.sibling=null,n=Xr.current,Nr(Xr,o?n&1|2:n&1),t):(xi(t),null);case 22:case 23:return Qc(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Yi&1073741824)!==0&&(xi(t),t.subtreeFlags&6&&(t.flags|=8192)):xi(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function mh(e,t){switch(ac(t),t.tag){case 1:return ji(t.type)&&rl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(),$r(Ni),$r(Si),_c(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return vc(t),null;case 13:if($r(Xr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Qa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $r(Xr),null;case 4:return to(),null;case 10:return hc(t.type._context),null;case 22:case 23:return Qc(),null;case 24:return null;default:return null}}var xl=!1,bi=!1,vh=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function ro(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){Zr(e,t,o)}else n.current=null}function zc(e,t,n){try{n()}catch(o){Zr(e,t,o)}}var Sd=!1;function yh(e,t){if(Ql=At,e=Ha(),fa(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var g=o.anchorOffset,te=o.focusNode;o=o.focusOffset;try{n.nodeType,te.nodeType}catch{n=null;break e}var ht=0,kt=-1,Ft=-1,Zt=0,hn=0,gn=e,dn=null;t:for(;;){for(var bn;gn!==n||g!==0&&gn.nodeType!==3||(kt=ht+g),gn!==te||o!==0&&gn.nodeType!==3||(Ft=ht+o),gn.nodeType===3&&(ht+=gn.nodeValue.length),(bn=gn.firstChild)!==null;)dn=gn,gn=bn;for(;;){if(gn===e)break t;if(dn===n&&++Zt===g&&(kt=ht),dn===te&&++hn===o&&(Ft=ht),(bn=gn.nextSibling)!==null)break;gn=dn,dn=gn.parentNode}gn=bn}n=kt===-1||Ft===-1?null:{start:kt,end:Ft}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zl={focusedElem:e,selectionRange:n},At=!1,Rn=t;Rn!==null;)if(t=Rn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rn=e;else for(;Rn!==null;){t=Rn;try{var Dn=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(Dn!==null){var Nn=Dn.memoizedProps,ni=Dn.memoizedState,Xt=t.stateNode,Ht=Xt.getSnapshotBeforeUpdate(t.elementType===t.type?Nn:ds(t.type,Nn),ni);Xt.__reactInternalSnapshotBeforeUpdate=Ht}break;case 3:var Kt=t.stateNode.containerInfo;Kt.nodeType===1?Kt.textContent="":Kt.nodeType===9&&Kt.documentElement&&Kt.removeChild(Kt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(yn){Zr(t,t.return,yn)}if(e=t.sibling,e!==null){e.return=t.return,Rn=e;break}Rn=t.return}return Dn=Sd,Sd=!1,Dn}function Ro(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var g=o=o.next;do{if((g.tag&e)===e){var te=g.destroy;g.destroy=void 0,te!==void 0&&zc(t,n,te)}g=g.next}while(g!==o)}}function bl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function Bc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ss],delete t[_o],delete t[nc],delete t[eh],delete t[th])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function bd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=tl));else if(o!==4&&(e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function Uc(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}var vi=null,hs=!1;function Qs(e,t,n){for(n=n.child;n!==null;)Ad(e,t,n),n=n.sibling}function Ad(e,t,n){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(ks,n)}catch{}switch(n.tag){case 5:bi||ro(n,t);case 6:var o=vi,g=hs;vi=null,Qs(e,t,n),vi=o,hs=g,vi!==null&&(hs?(e=vi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):vi.removeChild(n.stateNode));break;case 18:vi!==null&&(hs?(e=vi,n=n.stateNode,e.nodeType===8?tc(e.parentNode,n):e.nodeType===1&&tc(e,n),Bt(e)):tc(vi,n.stateNode));break;case 4:o=vi,g=hs,vi=n.stateNode.containerInfo,hs=!0,Qs(e,t,n),vi=o,hs=g;break;case 0:case 11:case 14:case 15:if(!bi&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){g=o=o.next;do{var te=g,ht=te.destroy;te=te.tag,ht!==void 0&&((te&2)!==0||(te&4)!==0)&&zc(n,t,ht),g=g.next}while(g!==o)}Qs(e,t,n);break;case 1:if(!bi&&(ro(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(kt){Zr(n,t,kt)}Qs(e,t,n);break;case 21:Qs(e,t,n);break;case 22:n.mode&1?(bi=(o=bi)||n.memoizedState!==null,Qs(e,t,n),bi=o):Qs(e,t,n);break;default:Qs(e,t,n)}}function kd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vh),t.forEach(function(o){var g=Ch.bind(null,e,o);n.has(o)||(n.add(o),o.then(g,g))})}}function fs(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var g=n[o];try{var te=e,ht=t,kt=ht;e:for(;kt!==null;){switch(kt.tag){case 5:vi=kt.stateNode,hs=!1;break e;case 3:vi=kt.stateNode.containerInfo,hs=!0;break e;case 4:vi=kt.stateNode.containerInfo,hs=!0;break e}kt=kt.return}if(vi===null)throw Error(s(160));Ad(te,ht,g),vi=null,hs=!1;var Ft=g.alternate;Ft!==null&&(Ft.return=null),g.return=null}catch(Zt){Zr(g,t,Zt)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cd(t,e),t=t.sibling}function Cd(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fs(t,e),bs(e),o&4){try{Ro(3,e,e.return),bl(3,e)}catch(Nn){Zr(e,e.return,Nn)}try{Ro(5,e,e.return)}catch(Nn){Zr(e,e.return,Nn)}}break;case 1:fs(t,e),bs(e),o&512&&n!==null&&ro(n,n.return);break;case 5:if(fs(t,e),bs(e),o&512&&n!==null&&ro(n,n.return),e.flags&32){var g=e.stateNode;try{hr(g,"")}catch(Nn){Zr(e,e.return,Nn)}}if(o&4&&(g=e.stateNode,g!=null)){var te=e.memoizedProps,ht=n!==null?n.memoizedProps:te,kt=e.type,Ft=e.updateQueue;if(e.updateQueue=null,Ft!==null)try{kt==="input"&&te.type==="radio"&&te.name!=null&&Qt(g,te),mn(kt,ht);var Zt=mn(kt,te);for(ht=0;ht<Ft.length;ht+=2){var hn=Ft[ht],gn=Ft[ht+1];hn==="style"?sn(g,gn):hn==="dangerouslySetInnerHTML"?dr(g,gn):hn==="children"?hr(g,gn):mt(g,hn,gn,Zt)}switch(kt){case"input":Jt(g,te);break;case"textarea":Mn(g,te);break;case"select":var dn=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!te.multiple;var bn=te.value;bn!=null?an(g,!!te.multiple,bn,!1):dn!==!!te.multiple&&(te.defaultValue!=null?an(g,!!te.multiple,te.defaultValue,!0):an(g,!!te.multiple,te.multiple?[]:"",!1))}g[_o]=te}catch(Nn){Zr(e,e.return,Nn)}}break;case 6:if(fs(t,e),bs(e),o&4){if(e.stateNode===null)throw Error(s(162));g=e.stateNode,te=e.memoizedProps;try{g.nodeValue=te}catch(Nn){Zr(e,e.return,Nn)}}break;case 3:if(fs(t,e),bs(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(Nn){Zr(e,e.return,Nn)}break;case 4:fs(t,e),bs(e);break;case 13:fs(t,e),bs(e),g=e.child,g.flags&8192&&(te=g.memoizedState!==null,g.stateNode.isHidden=te,!te||g.alternate!==null&&g.alternate.memoizedState!==null||(Vc=rr())),o&4&&kd(e);break;case 22:if(hn=n!==null&&n.memoizedState!==null,e.mode&1?(bi=(Zt=bi)||hn,fs(t,e),bi=Zt):fs(t,e),bs(e),o&8192){if(Zt=e.memoizedState!==null,(e.stateNode.isHidden=Zt)&&!hn&&(e.mode&1)!==0)for(Rn=e,hn=e.child;hn!==null;){for(gn=Rn=hn;Rn!==null;){switch(dn=Rn,bn=dn.child,dn.tag){case 0:case 11:case 14:case 15:Ro(4,dn,dn.return);break;case 1:ro(dn,dn.return);var Dn=dn.stateNode;if(typeof Dn.componentWillUnmount=="function"){o=dn,n=dn.return;try{t=o,Dn.props=t.memoizedProps,Dn.state=t.memoizedState,Dn.componentWillUnmount()}catch(Nn){Zr(o,n,Nn)}}break;case 5:ro(dn,dn.return);break;case 22:if(dn.memoizedState!==null){Rd(gn);continue}}bn!==null?(bn.return=dn,Rn=bn):Rd(gn)}hn=hn.sibling}e:for(hn=null,gn=e;;){if(gn.tag===5){if(hn===null){hn=gn;try{g=gn.stateNode,Zt?(te=g.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none"):(kt=gn.stateNode,Ft=gn.memoizedProps.style,ht=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null,kt.style.display=Sr("display",ht))}catch(Nn){Zr(e,e.return,Nn)}}}else if(gn.tag===6){if(hn===null)try{gn.stateNode.nodeValue=Zt?"":gn.memoizedProps}catch(Nn){Zr(e,e.return,Nn)}}else if((gn.tag!==22&&gn.tag!==23||gn.memoizedState===null||gn===e)&&gn.child!==null){gn.child.return=gn,gn=gn.child;continue}if(gn===e)break e;for(;gn.sibling===null;){if(gn.return===null||gn.return===e)break e;hn===gn&&(hn=null),gn=gn.return}hn===gn&&(hn=null),gn.sibling.return=gn.return,gn=gn.sibling}}break;case 19:fs(t,e),bs(e),o&4&&kd(e);break;case 21:break;default:fs(t,e),bs(e)}}function bs(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xd(n)){var o=n;break e}n=n.return}throw Error(s(160))}switch(o.tag){case 5:var g=o.stateNode;o.flags&32&&(hr(g,""),o.flags&=-33);var te=bd(e);Uc(e,te,g);break;case 3:case 4:var ht=o.stateNode.containerInfo,kt=bd(e);Hc(e,kt,ht);break;default:throw Error(s(161))}}catch(Ft){Zr(e,e.return,Ft)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _h(e,t,n){Rn=e,Td(e)}function Td(e,t,n){for(var o=(e.mode&1)!==0;Rn!==null;){var g=Rn,te=g.child;if(g.tag===22&&o){var ht=g.memoizedState!==null||xl;if(!ht){var kt=g.alternate,Ft=kt!==null&&kt.memoizedState!==null||bi;kt=xl;var Zt=bi;if(xl=ht,(bi=Ft)&&!Zt)for(Rn=g;Rn!==null;)ht=Rn,Ft=ht.child,ht.tag===22&&ht.memoizedState!==null?Md(g):Ft!==null?(Ft.return=ht,Rn=Ft):Md(g);for(;te!==null;)Rn=te,Td(te),te=te.sibling;Rn=g,xl=kt,bi=Zt}Pd(e)}else(g.subtreeFlags&8772)!==0&&te!==null?(te.return=g,Rn=te):Pd(e)}}function Pd(e){for(;Rn!==null;){var t=Rn;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:bi||bl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!bi)if(n===null)o.componentDidMount();else{var g=t.elementType===t.type?n.memoizedProps:ds(t.type,n.memoizedProps);o.componentDidUpdate(g,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var te=t.updateQueue;te!==null&&Ru(t,te,o);break;case 3:var ht=t.updateQueue;if(ht!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ru(t,ht,n)}break;case 5:var kt=t.stateNode;if(n===null&&t.flags&4){n=kt;var Ft=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Ft.autoFocus&&n.focus();break;case"img":Ft.src&&(n.src=Ft.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var Zt=t.alternate;if(Zt!==null){var hn=Zt.memoizedState;if(hn!==null){var gn=hn.dehydrated;gn!==null&&Bt(gn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}bi||t.flags&512&&Bc(t)}catch(dn){Zr(t,t.return,dn)}}if(t===e){Rn=null;break}if(n=t.sibling,n!==null){n.return=t.return,Rn=n;break}Rn=t.return}}function Rd(e){for(;Rn!==null;){var t=Rn;if(t===e){Rn=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Rn=n;break}Rn=t.return}}function Md(e){for(;Rn!==null;){var t=Rn;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{bl(4,t)}catch(Ft){Zr(t,n,Ft)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var g=t.return;try{o.componentDidMount()}catch(Ft){Zr(t,g,Ft)}}var te=t.return;try{Bc(t)}catch(Ft){Zr(t,te,Ft)}break;case 5:var ht=t.return;try{Bc(t)}catch(Ft){Zr(t,ht,Ft)}}}catch(Ft){Zr(t,t.return,Ft)}if(t===e){Rn=null;break}var kt=t.sibling;if(kt!==null){kt.return=t.return,Rn=kt;break}Rn=t.return}}var Eh=Math.ceil,Al=pt.ReactCurrentDispatcher,$c=pt.ReactCurrentOwner,ss=pt.ReactCurrentBatchConfig,wr=0,fi=null,ai=null,yi=0,Yi=0,io=qs(0),di=0,Mo=null,ba=0,kl=0,Wc=0,Lo=null,Bi=null,Vc=0,so=1/0,js=null,Cl=!1,qc=null,Zs=null,Tl=!1,Js=null,Pl=0,Fo=0,Gc=null,Rl=-1,Ml=0;function Li(){return(wr&6)!==0?rr():Rl!==-1?Rl:Rl=rr()}function ea(e){return(e.mode&1)===0?1:(wr&2)!==0&&yi!==0?yi&-yi:rh.transition!==null?(Ml===0&&(Ml=No()),Ml):(e=br,e!==0||(e=window.event,e=e===void 0?16:pn(e.type)),e)}function ps(e,t,n,o){if(50<Fo)throw Fo=0,Gc=null,Error(s(185));Ts(e,n,o),((wr&2)===0||e!==fi)&&(e===fi&&((wr&2)===0&&(kl|=n),di===4&&ta(e,yi)),Hi(e,o),n===1&&wr===0&&(t.mode&1)===0&&(so=rr()+500,sl&&Xs()))}function Hi(e,t){var n=e.callbackNode;Oo(e,t);var o=Fa(e,e===fi?yi:0);if(o===0)n!==null&&Ln(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&Ln(n),t===1)e.tag===0?nh(Fd.bind(null,e)):yu(Fd.bind(null,e)),Zd(function(){(wr&6)===0&&Xs()}),n=null;else{switch(jo(o)){case 1:n=Ci;break;case 4:n=gs;break;case 16:n=ms;break;case 536870912:n=aa;break;default:n=ms}n=Hd(n,Ld.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ld(e,t){if(Rl=-1,Ml=0,(wr&6)!==0)throw Error(s(327));var n=e.callbackNode;if(ao()&&e.callbackNode!==n)return null;var o=Fa(e,e===fi?yi:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Ll(e,o);else{t=o;var g=wr;wr|=2;var te=Dd();(fi!==e||yi!==t)&&(js=null,so=rr()+500,ka(e,t));do try{xh();break}catch(kt){Id(e,kt)}while(!0);dc(),Al.current=te,wr=g,ai!==null?t=0:(fi=null,yi=0,t=di)}if(t!==0){if(t===2&&(g=Ia(e),g!==0&&(o=g,t=Xc(e,g))),t===1)throw n=Mo,ka(e,0),ta(e,o),Hi(e,rr()),n;if(t===6)ta(e,o);else{if(g=e.current.alternate,(o&30)===0&&!Sh(g)&&(t=Ll(e,o),t===2&&(te=Ia(e),te!==0&&(o=te,t=Xc(e,te))),t===1))throw n=Mo,ka(e,0),ta(e,o),Hi(e,rr()),n;switch(e.finishedWork=g,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:Ca(e,Bi,js);break;case 3:if(ta(e,o),(o&130023424)===o&&(t=Vc+500-rr(),10<t)){if(Fa(e,0)!==0)break;if(g=e.suspendedLanes,(g&o)!==o){Li(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=ec(Ca.bind(null,e,Bi,js),t);break}Ca(e,Bi,js);break;case 4:if(ta(e,o),(o&4194240)===o)break;for(t=e.eventTimes,g=-1;0<o;){var ht=31-Ii(o);te=1<<ht,ht=t[ht],ht>g&&(g=ht),o&=~te}if(o=g,o=rr()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Eh(o/1960))-o,10<o){e.timeoutHandle=ec(Ca.bind(null,e,Bi,js),o);break}Ca(e,Bi,js);break;case 5:Ca(e,Bi,js);break;default:throw Error(s(329))}}}return Hi(e,rr()),e.callbackNode===n?Ld.bind(null,e):null}function Xc(e,t){var n=Lo;return e.current.memoizedState.isDehydrated&&(ka(e,t).flags|=256),e=Ll(e,t),e!==2&&(t=Bi,Bi=n,t!==null&&Yc(t)),e}function Yc(e){Bi===null?Bi=e:Bi.push.apply(Bi,e)}function Sh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var g=n[o],te=g.getSnapshot;g=g.value;try{if(!Oi(te(),g))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t){for(t&=~Wc,t&=~kl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ii(t),o=1<<n;e[n]=-1,t&=~o}}function Fd(e){if((wr&6)!==0)throw Error(s(327));ao();var t=Fa(e,0);if((t&1)===0)return Hi(e,rr()),null;var n=Ll(e,t);if(e.tag!==0&&n===2){var o=Ia(e);o!==0&&(t=o,n=Xc(e,o))}if(n===1)throw n=Mo,ka(e,0),ta(e,t),Hi(e,rr()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ca(e,Bi,js),Hi(e,rr()),null}function Kc(e,t){var n=wr;wr|=1;try{return e(t)}finally{wr=n,wr===0&&(so=rr()+500,sl&&Xs())}}function Aa(e){Js!==null&&Js.tag===0&&(wr&6)===0&&ao();var t=wr;wr|=1;var n=ss.transition,o=br;try{if(ss.transition=null,br=1,e)return e()}finally{br=o,ss.transition=n,wr=t,(wr&6)===0&&Xs()}}function Qc(){Yi=io.current,$r(io)}function ka(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qd(n)),ai!==null)for(n=ai.return;n!==null;){var o=n;switch(ac(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&rl();break;case 3:to(),$r(Ni),$r(Si),_c();break;case 5:vc(o);break;case 4:to();break;case 13:$r(Xr);break;case 19:$r(Xr);break;case 10:hc(o.type._context);break;case 22:case 23:Qc()}n=n.return}if(fi=e,ai=e=na(e.current,null),yi=Yi=t,di=0,Mo=null,Wc=kl=ba=0,Bi=Lo=null,Sa!==null){for(t=0;t<Sa.length;t++)if(n=Sa[t],o=n.interleaved,o!==null){n.interleaved=null;var g=o.next,te=n.pending;if(te!==null){var ht=te.next;te.next=g,o.next=ht}n.pending=o}Sa=null}return e}function Id(e,t){do{var n=ai;try{if(dc(),gl.current=_l,ml){for(var o=Yr.memoizedState;o!==null;){var g=o.queue;g!==null&&(g.pending=null),o=o.next}ml=!1}if(xa=0,hi=ui=Yr=null,Ao=!1,ko=0,$c.current=null,n===null||n.return===null){di=1,Mo=t,ai=null;break}e:{var te=e,ht=n.return,kt=n,Ft=t;if(t=yi,kt.flags|=32768,Ft!==null&&typeof Ft=="object"&&typeof Ft.then=="function"){var Zt=Ft,hn=kt,gn=hn.tag;if((hn.mode&1)===0&&(gn===0||gn===11||gn===15)){var dn=hn.alternate;dn?(hn.updateQueue=dn.updateQueue,hn.memoizedState=dn.memoizedState,hn.lanes=dn.lanes):(hn.updateQueue=null,hn.memoizedState=null)}var bn=sd(ht);if(bn!==null){bn.flags&=-257,ad(bn,ht,kt,te,t),bn.mode&1&&id(te,Zt,t),t=bn,Ft=Zt;var Dn=t.updateQueue;if(Dn===null){var Nn=new Set;Nn.add(Ft),t.updateQueue=Nn}else Dn.add(Ft);break e}else{if((t&1)===0){id(te,Zt,t),Zc();break e}Ft=Error(s(426))}}else if(Vr&&kt.mode&1){var ni=sd(ht);if(ni!==null){(ni.flags&65536)===0&&(ni.flags|=256),ad(ni,ht,kt,te,t),cc(no(Ft,kt));break e}}te=Ft=no(Ft,kt),di!==4&&(di=2),Lo===null?Lo=[te]:Lo.push(te),te=ht;do{switch(te.tag){case 3:te.flags|=65536,t&=-t,te.lanes|=t;var Xt=nd(te,Ft,t);Pu(te,Xt);break e;case 1:kt=Ft;var Ht=te.type,Kt=te.stateNode;if((te.flags&128)===0&&(typeof Ht.getDerivedStateFromError=="function"||Kt!==null&&typeof Kt.componentDidCatch=="function"&&(Zs===null||!Zs.has(Kt)))){te.flags|=65536,t&=-t,te.lanes|=t;var yn=rd(te,kt,t);Pu(te,yn);break e}}te=te.return}while(te!==null)}Nd(n)}catch(Hn){t=Hn,ai===n&&n!==null&&(ai=n=n.return);continue}break}while(!0)}function Dd(){var e=Al.current;return Al.current=_l,e===null?_l:e}function Zc(){(di===0||di===3||di===2)&&(di=4),fi===null||(ba&268435455)===0&&(kl&268435455)===0||ta(fi,yi)}function Ll(e,t){var n=wr;wr|=2;var o=Dd();(fi!==e||yi!==t)&&(js=null,ka(e,t));do try{wh();break}catch(g){Id(e,g)}while(!0);if(dc(),wr=n,Al.current=o,ai!==null)throw Error(s(261));return fi=null,yi=0,di}function wh(){for(;ai!==null;)Od(ai)}function xh(){for(;ai!==null&&!Lr();)Od(ai)}function Od(e){var t=Bd(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,t===null?Nd(e):ai=t,$c.current=null}function Nd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=gh(n,t,Yi),n!==null){ai=n;return}}else{if(n=mh(n,t),n!==null){n.flags&=32767,ai=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{di=6,ai=null;return}}if(t=t.sibling,t!==null){ai=t;return}ai=t=e}while(t!==null);di===0&&(di=5)}function Ca(e,t,n){var o=br,g=ss.transition;try{ss.transition=null,br=1,bh(e,t,n,o)}finally{ss.transition=g,br=o}return null}function bh(e,t,n,o){do ao();while(Js!==null);if((wr&6)!==0)throw Error(s(327));n=e.finishedWork;var g=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var te=n.lanes|n.childLanes;if(Wl(e,te),e===fi&&(ai=fi=null,yi=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Tl||(Tl=!0,Hd(ms,function(){return ao(),null})),te=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||te){te=ss.transition,ss.transition=null;var ht=br;br=1;var kt=wr;wr|=4,$c.current=null,yh(e,n),Cd(n,e),fo(Zl),At=!!Ql,Zl=Ql=null,e.current=n,_h(n),ri(),wr=kt,br=ht,ss.transition=te}else e.current=n;if(Tl&&(Tl=!1,Js=e,Pl=g),te=e.pendingLanes,te===0&&(Zs=null),Do(n.stateNode),Hi(e,rr()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)g=t[n],o(g.value,{componentStack:g.stack,digest:g.digest});if(Cl)throw Cl=!1,e=qc,qc=null,e;return(Pl&1)!==0&&e.tag!==0&&ao(),te=e.pendingLanes,(te&1)!==0?e===Gc?Fo++:(Fo=0,Gc=e):Fo=0,Xs(),null}function ao(){if(Js!==null){var e=jo(Pl),t=ss.transition,n=br;try{if(ss.transition=null,br=16>e?16:e,Js===null)var o=!1;else{if(e=Js,Js=null,Pl=0,(wr&6)!==0)throw Error(s(331));var g=wr;for(wr|=4,Rn=e.current;Rn!==null;){var te=Rn,ht=te.child;if((Rn.flags&16)!==0){var kt=te.deletions;if(kt!==null){for(var Ft=0;Ft<kt.length;Ft++){var Zt=kt[Ft];for(Rn=Zt;Rn!==null;){var hn=Rn;switch(hn.tag){case 0:case 11:case 15:Ro(8,hn,te)}var gn=hn.child;if(gn!==null)gn.return=hn,Rn=gn;else for(;Rn!==null;){hn=Rn;var dn=hn.sibling,bn=hn.return;if(wd(hn),hn===Zt){Rn=null;break}if(dn!==null){dn.return=bn,Rn=dn;break}Rn=bn}}}var Dn=te.alternate;if(Dn!==null){var Nn=Dn.child;if(Nn!==null){Dn.child=null;do{var ni=Nn.sibling;Nn.sibling=null,Nn=ni}while(Nn!==null)}}Rn=te}}if((te.subtreeFlags&2064)!==0&&ht!==null)ht.return=te,Rn=ht;else e:for(;Rn!==null;){if(te=Rn,(te.flags&2048)!==0)switch(te.tag){case 0:case 11:case 15:Ro(9,te,te.return)}var Xt=te.sibling;if(Xt!==null){Xt.return=te.return,Rn=Xt;break e}Rn=te.return}}var Ht=e.current;for(Rn=Ht;Rn!==null;){ht=Rn;var Kt=ht.child;if((ht.subtreeFlags&2064)!==0&&Kt!==null)Kt.return=ht,Rn=Kt;else e:for(ht=Ht;Rn!==null;){if(kt=Rn,(kt.flags&2048)!==0)try{switch(kt.tag){case 0:case 11:case 15:bl(9,kt)}}catch(Hn){Zr(kt,kt.return,Hn)}if(kt===ht){Rn=null;break e}var yn=kt.sibling;if(yn!==null){yn.return=kt.return,Rn=yn;break e}Rn=kt.return}}if(wr=g,Xs(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(ks,e)}catch{}o=!0}return o}finally{br=n,ss.transition=t}}return!1}function jd(e,t,n){t=no(n,t),t=nd(e,t,1),e=Ks(e,t,1),t=Li(),e!==null&&(Ts(e,1,t),Hi(e,t))}function Zr(e,t,n){if(e.tag===3)jd(e,e,n);else for(;t!==null;){if(t.tag===3){jd(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Zs===null||!Zs.has(o))){e=no(n,e),e=rd(t,e,1),t=Ks(t,e,1),e=Li(),t!==null&&(Ts(t,1,e),Hi(t,e));break}}t=t.return}}function Ah(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Li(),e.pingedLanes|=e.suspendedLanes&n,fi===e&&(yi&n)===n&&(di===4||di===3&&(yi&130023424)===yi&&500>rr()-Vc?ka(e,0):Wc|=n),Hi(e,t)}function zd(e,t){t===0&&((e.mode&1)===0?t=1:(t=La,La<<=1,(La&130023424)===0&&(La=4194304)));var n=Li();e=Ds(e,t),e!==null&&(Ts(e,t,n),Hi(e,n))}function kh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zd(e,n)}function Ch(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),zd(e,n)}var Bd;Bd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ni.current)zi=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return zi=!1,ph(e,t,n);zi=(e.flags&131072)!==0}else zi=!1,Vr&&(t.flags&1048576)!==0&&_u(t,ol,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;wl(e,t),e=t.pendingProps;var g=Xa(t,Si.current);eo(t,n),g=wc(null,t,o,e,g,n);var te=xc();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ji(o)?(te=!0,il(t)):te=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,gc(t),g.updater=El,t.stateNode=g,g._reactInternals=t,Pc(t,o,e,n),t=Fc(null,t,o,!0,te,n)):(t.tag=0,Vr&&te&&sc(t),Mi(null,t,g,n),t=t.child),t;case 16:o=t.elementType;e:{switch(wl(e,t),e=t.pendingProps,g=o._init,o=g(o._payload),t.type=o,g=t.tag=Ph(o),e=ds(o,e),g){case 0:t=Lc(null,t,o,e,n);break e;case 1:t=hd(null,t,o,e,n);break e;case 11:t=od(null,t,o,e,n);break e;case 14:t=ld(null,t,o,ds(o.type,e),n);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,g=t.pendingProps,g=t.elementType===o?g:ds(o,g),Lc(e,t,o,g,n);case 1:return o=t.type,g=t.pendingProps,g=t.elementType===o?g:ds(o,g),hd(e,t,o,g,n);case 3:e:{if(fd(t),e===null)throw Error(s(387));o=t.pendingProps,te=t.memoizedState,g=te.element,Tu(e,t),fl(t,o,null,n);var ht=t.memoizedState;if(o=ht.element,te.isDehydrated)if(te={element:o,isDehydrated:!1,cache:ht.cache,pendingSuspenseBoundaries:ht.pendingSuspenseBoundaries,transitions:ht.transitions},t.updateQueue.baseState=te,t.memoizedState=te,t.flags&256){g=no(Error(s(423)),t),t=pd(e,t,o,n,g);break e}else if(o!==g){g=no(Error(s(424)),t),t=pd(e,t,o,n,g);break e}else for(Xi=Vs(t.stateNode.containerInfo.firstChild),Gi=t,Vr=!0,us=null,n=ku(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qa(),o===g){t=Ns(e,t,n);break e}Mi(e,t,o,n)}t=t.child}return t;case 5:return Mu(t),e===null&&lc(t),o=t.type,g=t.pendingProps,te=e!==null?e.memoizedProps:null,ht=g.children,Jl(o,g)?ht=null:te!==null&&Jl(o,te)&&(t.flags|=32),dd(e,t),Mi(e,t,ht,n),t.child;case 6:return e===null&&lc(t),null;case 13:return gd(e,t,n);case 4:return mc(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Za(t,null,o,n):Mi(e,t,o,n),t.child;case 11:return o=t.type,g=t.pendingProps,g=t.elementType===o?g:ds(o,g),od(e,t,o,g,n);case 7:return Mi(e,t,t.pendingProps,n),t.child;case 8:return Mi(e,t,t.pendingProps.children,n),t.child;case 12:return Mi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,g=t.pendingProps,te=t.memoizedProps,ht=g.value,Nr(ul,o._currentValue),o._currentValue=ht,te!==null)if(Oi(te.value,ht)){if(te.children===g.children&&!Ni.current){t=Ns(e,t,n);break e}}else for(te=t.child,te!==null&&(te.return=t);te!==null;){var kt=te.dependencies;if(kt!==null){ht=te.child;for(var Ft=kt.firstContext;Ft!==null;){if(Ft.context===o){if(te.tag===1){Ft=Os(-1,n&-n),Ft.tag=2;var Zt=te.updateQueue;if(Zt!==null){Zt=Zt.shared;var hn=Zt.pending;hn===null?Ft.next=Ft:(Ft.next=hn.next,hn.next=Ft),Zt.pending=Ft}}te.lanes|=n,Ft=te.alternate,Ft!==null&&(Ft.lanes|=n),fc(te.return,n,t),kt.lanes|=n;break}Ft=Ft.next}}else if(te.tag===10)ht=te.type===t.type?null:te.child;else if(te.tag===18){if(ht=te.return,ht===null)throw Error(s(341));ht.lanes|=n,kt=ht.alternate,kt!==null&&(kt.lanes|=n),fc(ht,n,t),ht=te.sibling}else ht=te.child;if(ht!==null)ht.return=te;else for(ht=te;ht!==null;){if(ht===t){ht=null;break}if(te=ht.sibling,te!==null){te.return=ht.return,ht=te;break}ht=ht.return}te=ht}Mi(e,t,g.children,n),t=t.child}return t;case 9:return g=t.type,o=t.pendingProps.children,eo(t,n),g=rs(g),o=o(g),t.flags|=1,Mi(e,t,o,n),t.child;case 14:return o=t.type,g=ds(o,t.pendingProps),g=ds(o.type,g),ld(e,t,o,g,n);case 15:return cd(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,g=t.pendingProps,g=t.elementType===o?g:ds(o,g),wl(e,t),t.tag=1,ji(o)?(e=!0,il(t)):e=!1,eo(t,n),ed(t,o,g),Pc(t,o,g,n),Fc(null,t,o,!0,e,n);case 19:return vd(e,t,n);case 22:return ud(e,t,n)}throw Error(s(156,t.tag))};function Hd(e,t){return vn(e,t)}function Th(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(e,t,n,o){return new Th(e,t,n,o)}function Jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ph(e){if(typeof e=="function")return Jc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vt)return 11;if(e===Tt)return 14}return 2}function na(e,t){var n=e.alternate;return n===null?(n=as(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fl(e,t,n,o,g,te){var ht=2;if(o=e,typeof e=="function")Jc(e)&&(ht=1);else if(typeof e=="string")ht=5;else e:switch(e){case wt:return Ta(n.children,g,te,t);case Pt:ht=8,g|=8;break;case St:return e=as(12,n,t,g|2),e.elementType=St,e.lanes=te,e;case Dt:return e=as(13,n,t,g),e.elementType=Dt,e.lanes=te,e;case $t:return e=as(19,n,t,g),e.elementType=$t,e.lanes=te,e;case lt:return Il(n,g,te,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jt:ht=10;break e;case _t:ht=9;break e;case Vt:ht=11;break e;case Tt:ht=14;break e;case Ct:ht=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=as(ht,n,t,g),t.elementType=e,t.type=o,t.lanes=te,t}function Ta(e,t,n,o){return e=as(7,e,o,t),e.lanes=n,e}function Il(e,t,n,o){return e=as(22,e,o,t),e.elementType=lt,e.lanes=n,e.stateNode={isHidden:!1},e}function eu(e,t,n){return e=as(6,e,null,t),e.lanes=n,e}function tu(e,t,n){return t=as(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rh(e,t,n,o,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=o,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function nu(e,t,n,o,g,te,ht,kt,Ft){return e=new Rh(e,t,n,kt,Ft),t===1?(t=1,te===!0&&(t|=8)):t=0,te=as(3,null,null,t),e.current=te,te.stateNode=e,te.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(te),e}function Mh(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ft,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function Ud(e){if(!e)return Gs;e=e._reactInternals;e:{if(Ki(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ji(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(ji(n))return mu(e,n,t)}return t}function $d(e,t,n,o,g,te,ht,kt,Ft){return e=nu(n,o,!0,e,g,te,ht,kt,Ft),e.context=Ud(null),n=e.current,o=Li(),g=ea(n),te=Os(o,g),te.callback=t??null,Ks(n,te,g),e.current.lanes=g,Ts(e,g,o),Hi(e,o),e}function Dl(e,t,n,o){var g=t.current,te=Li(),ht=ea(g);return n=Ud(n),t.context===null?t.context=n:t.pendingContext=n,t=Os(te,ht),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Ks(g,t,ht),e!==null&&(ps(e,g,ht,te),hl(e,g,ht)),ht}function Ol(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ru(e,t){Wd(e,t),(e=e.alternate)&&Wd(e,t)}function Lh(){return null}var Vd=typeof reportError=="function"?reportError:function(e){console.error(e)};function iu(e){this._internalRoot=e}Nl.prototype.render=iu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Dl(e,t,null,null)},Nl.prototype.unmount=iu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Aa(function(){Dl(null,e,null,null)}),t[Ms]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ps();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zi.length&&t!==0&&t<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&dt(e)}};function su(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qd(){}function Fh(e,t,n,o,g){if(g){if(typeof o=="function"){var te=o;o=function(){var Zt=Ol(ht);te.call(Zt)}}var ht=$d(t,o,e,0,null,!1,!1,"",qd);return e._reactRootContainer=ht,e[Ms]=ht.current,vo(e.nodeType===8?e.parentNode:e),Aa(),ht}for(;g=e.lastChild;)e.removeChild(g);if(typeof o=="function"){var kt=o;o=function(){var Zt=Ol(Ft);kt.call(Zt)}}var Ft=nu(e,0,!1,null,null,!1,!1,"",qd);return e._reactRootContainer=Ft,e[Ms]=Ft.current,vo(e.nodeType===8?e.parentNode:e),Aa(function(){Dl(t,Ft,n,o)}),Ft}function zl(e,t,n,o,g){var te=n._reactRootContainer;if(te){var ht=te;if(typeof g=="function"){var kt=g;g=function(){var Ft=Ol(ht);kt.call(Ft)}}Dl(t,ht,e,g)}else ht=Fh(n,t,e,g,o);return Ol(ht)}Oa=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cs(t.pendingLanes);n!==0&&(Da(t,n|1),Hi(t,rr()),(wr&6)===0&&(so=rr()+500,Xs()))}break;case 13:Aa(function(){var o=Ds(e,1);if(o!==null){var g=Li();ps(o,e,1,g)}}),ru(e,1)}},co=function(e){if(e.tag===13){var t=Ds(e,134217728);if(t!==null){var n=Li();ps(t,e,134217728,n)}ru(e,134217728)}},zo=function(e){if(e.tag===13){var t=ea(e),n=Ds(e,t);if(n!==null){var o=Li();ps(n,e,t,o)}ru(e,t)}},Ps=function(){return br},Bo=function(e,t){var n=br;try{return br=e,t()}finally{br=n}},Zn=function(e,t,n){switch(t){case"input":if(Jt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var g=nl(o);if(!g)throw Error(s(90));Rt(o),Jt(o,g)}}}break;case"textarea":Mn(e,n);break;case"select":t=n.value,t!=null&&an(e,!!n.multiple,t,!1)}},zr=Kc,_i=Aa;var Ih={usingClientEntryPoint:!1,Events:[Eo,qa,nl,jr,vr,Kc]},Io={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dh={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bn(e),e===null?null:e.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||Lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bl.isDisabled&&Bl.supportsFiber)try{ks=Bl.inject(Dh),Ti=Bl}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih,reactDom_production_min.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!su(t))throw Error(s(200));return Mh(e,t,null,n)},reactDom_production_min.createRoot=function(e,t){if(!su(e))throw Error(s(299));var n=!1,o="",g=Vd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=nu(e,1,!1,null,null,n,!1,o,g),e[Ms]=t.current,vo(e.nodeType===8?e.parentNode:e),new iu(t)},reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Bn(t),e=e===null?null:e.stateNode,e},reactDom_production_min.flushSync=function(e){return Aa(e)},reactDom_production_min.hydrate=function(e,t,n){if(!jl(t))throw Error(s(200));return zl(null,e,t,!0,n)},reactDom_production_min.hydrateRoot=function(e,t,n){if(!su(e))throw Error(s(405));var o=n!=null&&n.hydratedSources||null,g=!1,te="",ht=Vd;if(n!=null&&(n.unstable_strictMode===!0&&(g=!0),n.identifierPrefix!==void 0&&(te=n.identifierPrefix),n.onRecoverableError!==void 0&&(ht=n.onRecoverableError)),t=$d(t,null,e,1,n??null,g,!1,te,ht),e[Ms]=t.current,vo(e),o)for(e=0;e<o.length;e++)n=o[e],g=n._getVersion,g=g(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,g]:t.mutableSourceEagerHydrationData.push(n,g);return new Nl(t)},reactDom_production_min.render=function(e,t,n){if(!jl(t))throw Error(s(200));return zl(null,e,t,!1,n)},reactDom_production_min.unmountComponentAtNode=function(e){if(!jl(e))throw Error(s(40));return e._reactRootContainer?(Aa(function(){zl(null,null,e,!1,function(){e._reactRootContainer=null,e[Ms]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Kc,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!jl(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return zl(e,t,n,!1,o)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(i){console.error(i)}}return r(),reactDom.exports=requireReactDom_production_min(),reactDom.exports}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var r=requireReactDom();return client.createRoot=r.createRoot,client.hydrateRoot=r.hydrateRoot,client}var clientExports=requireClient();const ReactDOM=getDefaultExportFromCjs(clientExports);var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=G,dist.serialize=f;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,i=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,l=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function G(y,Z){const d=new a,me=y.length;if(me<2)return d;const et=Z?.decode||u;let E=0;do{const ct=y.indexOf("=",E);if(ct===-1)break;const mt=y.indexOf(";",E),pt=mt===-1?me:mt;if(ct>pt){E=y.lastIndexOf(";",ct-1)+1;continue}const nt=tt(y,E,ct),ft=it(y,ct,nt),wt=y.slice(nt,ft);if(d[wt]===void 0){let Pt=tt(y,ct+1,pt),St=it(y,pt,Pt);const jt=et(y.slice(Pt,St));d[wt]=jt}E=pt+1}while(E<me);return d}function tt(y,Z,d){do{const me=y.charCodeAt(Z);if(me!==32&&me!==9)return Z}while(++Z<d);return d}function it(y,Z,d){for(;Z>d;){const me=y.charCodeAt(--Z);if(me!==32&&me!==9)return Z+1}return d}function f(y,Z,d){const me=d?.encode||encodeURIComponent;if(!r.test(y))throw new TypeError(`argument name is invalid: ${y}`);const et=me(Z);if(!i.test(et))throw new TypeError(`argument val is invalid: ${Z}`);let E=y+"="+et;if(!d)return E;if(d.maxAge!==void 0){if(!Number.isInteger(d.maxAge))throw new TypeError(`option maxAge is invalid: ${d.maxAge}`);E+="; Max-Age="+d.maxAge}if(d.domain){if(!s.test(d.domain))throw new TypeError(`option domain is invalid: ${d.domain}`);E+="; Domain="+d.domain}if(d.path){if(!l.test(d.path))throw new TypeError(`option path is invalid: ${d.path}`);E+="; Path="+d.path}if(d.expires){if(!p(d.expires)||!Number.isFinite(d.expires.valueOf()))throw new TypeError(`option expires is invalid: ${d.expires}`);E+="; Expires="+d.expires.toUTCString()}if(d.httpOnly&&(E+="; HttpOnly"),d.secure&&(E+="; Secure"),d.partitioned&&(E+="; Partitioned"),d.priority)switch(typeof d.priority=="string"?d.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${d.priority}`)}if(d.sameSite)switch(typeof d.sameSite=="string"?d.sameSite.toLowerCase():d.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${d.sameSite}`)}return E}function u(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function p(y){return c.call(y)==="[object Date]"}return dist}requireDist();var PopStateEventType="popstate";function createBrowserHistory(r={}){function i(l,c){let{pathname:a,search:G,hash:tt}=l.location;return createLocation("",{pathname:a,search:G,hash:tt},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function s(l,c){return typeof c=="string"?c:createPath(c)}return getUrlBasedHistory(i,s,null,r)}function invariant(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}function warning(r,i){if(!r){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(r,i){return{usr:r.state,key:r.key,idx:i}}function createLocation(r,i,s=null,l){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof i=="string"?parsePath(i):i,state:s,key:i&&i.key||l||createKey()}}function createPath({pathname:r="/",search:i="",hash:s=""}){return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function parsePath(r){let i={};if(r){let s=r.indexOf("#");s>=0&&(i.hash=r.substring(s),r=r.substring(0,s));let l=r.indexOf("?");l>=0&&(i.search=r.substring(l),r=r.substring(0,l)),r&&(i.pathname=r)}return i}function getUrlBasedHistory(r,i,s,l={}){let{window:c=document.defaultView,v5Compat:a=!1}=l,G=c.history,tt="POP",it=null,f=u();f==null&&(f=0,G.replaceState({...G.state,idx:f},""));function u(){return(G.state||{idx:null}).idx}function p(){tt="POP";let et=u(),E=et==null?null:et-f;f=et,it&&it({action:tt,location:me.location,delta:E})}function y(et,E){tt="PUSH";let ct=createLocation(me.location,et,E);f=u()+1;let mt=getHistoryState(ct,f),pt=me.createHref(ct);try{G.pushState(mt,"",pt)}catch(nt){if(nt instanceof DOMException&&nt.name==="DataCloneError")throw nt;c.location.assign(pt)}a&&it&&it({action:tt,location:me.location,delta:1})}function Z(et,E){tt="REPLACE";let ct=createLocation(me.location,et,E);f=u();let mt=getHistoryState(ct,f),pt=me.createHref(ct);G.replaceState(mt,"",pt),a&&it&&it({action:tt,location:me.location,delta:0})}function d(et){return createBrowserURLImpl(et)}let me={get action(){return tt},get location(){return r(c,G)},listen(et){if(it)throw new Error("A history only accepts one active listener");return c.addEventListener(PopStateEventType,p),it=et,()=>{c.removeEventListener(PopStateEventType,p),it=null}},createHref(et){return i(c,et)},createURL:d,encodeLocation(et){let E=d(et);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:Z,go(et){return G.go(et)}};return me}function createBrowserURLImpl(r,i=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),invariant(s,"No window.location.(origin|href) available to create URL");let l=typeof r=="string"?r:createPath(r);return l=l.replace(/ $/,"%20"),!i&&l.startsWith("//")&&(l=s+l),new URL(l,s)}function matchRoutes(r,i,s="/"){return matchRoutesImpl(r,i,s,!1)}function matchRoutesImpl(r,i,s,l){let c=typeof i=="string"?parsePath(i):i,a=stripBasename(c.pathname||"/",s);if(a==null)return null;let G=flattenRoutes(r);rankRouteBranches(G);let tt=null;for(let it=0;tt==null&&it<G.length;++it){let f=decodePath(a);tt=matchRouteBranch(G[it],f,l)}return tt}function flattenRoutes(r,i=[],s=[],l=""){let c=(a,G,tt)=>{let it={relativePath:tt===void 0?a.path||"":tt,caseSensitive:a.caseSensitive===!0,childrenIndex:G,route:a};it.relativePath.startsWith("/")&&(invariant(it.relativePath.startsWith(l),`Absolute route path "${it.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),it.relativePath=it.relativePath.slice(l.length));let f=joinPaths([l,it.relativePath]),u=s.concat(it);a.children&&a.children.length>0&&(invariant(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),flattenRoutes(a.children,i,u,f)),!(a.path==null&&!a.index)&&i.push({path:f,score:computeScore(f,a.index),routesMeta:u})};return r.forEach((a,G)=>{if(a.path===""||!a.path?.includes("?"))c(a,G);else for(let tt of explodeOptionalSegments(a.path))c(a,G,tt)}),i}function explodeOptionalSegments(r){let i=r.split("/");if(i.length===0)return[];let[s,...l]=i,c=s.endsWith("?"),a=s.replace(/\?$/,"");if(l.length===0)return c?[a,""]:[a];let G=explodeOptionalSegments(l.join("/")),tt=[];return tt.push(...G.map(it=>it===""?a:[a,it].join("/"))),c&&tt.push(...G),tt.map(it=>r.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(r){r.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(l=>l.childrenIndex),s.routesMeta.map(l=>l.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=r=>r==="*";function computeScore(r,i){let s=r.split("/"),l=s.length;return s.some(isSplat)&&(l+=splatPenalty),i&&(l+=indexRouteValue),s.filter(c=>!isSplat(c)).reduce((c,a)=>c+(paramRe.test(a)?dynamicSegmentValue:a===""?emptySegmentValue:staticSegmentValue),l)}function compareIndexes(r,i){return r.length===i.length&&r.slice(0,-1).every((l,c)=>l===i[c])?r[r.length-1]-i[i.length-1]:0}function matchRouteBranch(r,i,s=!1){let{routesMeta:l}=r,c={},a="/",G=[];for(let tt=0;tt<l.length;++tt){let it=l[tt],f=tt===l.length-1,u=a==="/"?i:i.slice(a.length)||"/",p=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:f},u),y=it.route;if(!p&&f&&s&&!l[l.length-1].route.index&&(p=matchPath({path:it.relativePath,caseSensitive:it.caseSensitive,end:!1},u)),!p)return null;Object.assign(c,p.params),G.push({params:c,pathname:joinPaths([a,p.pathname]),pathnameBase:normalizePathname(joinPaths([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=joinPaths([a,p.pathnameBase]))}return G}function matchPath(r,i){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[s,l]=compilePath(r.path,r.caseSensitive,r.end),c=i.match(s);if(!c)return null;let a=c[0],G=a.replace(/(.)\/+$/,"$1"),tt=c.slice(1);return{params:l.reduce((f,{paramName:u,isOptional:p},y)=>{if(u==="*"){let d=tt[y]||"";G=a.slice(0,a.length-d.length).replace(/(.)\/+$/,"$1")}const Z=tt[y];return p&&!Z?f[u]=void 0:f[u]=(Z||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:G,pattern:r}}function compilePath(r,i=!1,s=!0){warning(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let l=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(G,tt,it)=>(l.push({paramName:tt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(l.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,i?void 0:"i"),l]}function decodePath(r){try{return r.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return warning(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),r}}function stripBasename(r,i){if(i==="/")return r;if(!r.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,l=r.charAt(s);return l&&l!=="/"?null:r.slice(s)||"/"}function resolvePath(r,i="/"){let{pathname:s,search:l="",hash:c=""}=typeof r=="string"?parsePath(r):r;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(l),hash:normalizeHash(c)}}function resolvePathname(r,i){let s=i.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?s.length>1&&s.pop():c!=="."&&s.push(c)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(r,i,s,l){return`Cannot include a '${r}' character in a manually specified \`to.${i}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(r){return r.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(r){let i=getPathContributingMatches(r);return i.map((s,l)=>l===i.length-1?s.pathname:s.pathnameBase)}function resolveTo(r,i,s,l=!1){let c;typeof r=="string"?c=parsePath(r):(c={...r},invariant(!c.pathname||!c.pathname.includes("?"),getInvalidPathError("?","pathname","search",c)),invariant(!c.pathname||!c.pathname.includes("#"),getInvalidPathError("#","pathname","hash",c)),invariant(!c.search||!c.search.includes("#"),getInvalidPathError("#","search","hash",c)));let a=r===""||c.pathname==="",G=a?"/":c.pathname,tt;if(G==null)tt=s;else{let p=i.length-1;if(!l&&G.startsWith("..")){let y=G.split("/");for(;y[0]==="..";)y.shift(),p-=1;c.pathname=y.join("/")}tt=p>=0?i[p]:"/"}let it=resolvePath(c,tt),f=G&&G!=="/"&&G.endsWith("/"),u=(a||G===".")&&s.endsWith("/");return!it.pathname.endsWith("/")&&(f||u)&&(it.pathname+="/"),it}var joinPaths=r=>r.join("/").replace(/\/\/+/g,"/"),normalizePathname=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,normalizeHash=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function isRouteErrorResponse(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(r,{relative:i}={}){invariant(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:l}=reactExports.useContext(NavigationContext),{hash:c,pathname:a,search:G}=useResolvedPath(r,{relative:i}),tt=a;return s!=="/"&&(tt=a==="/"?s:joinPaths([s,a])),l.createHref({pathname:tt,search:G,hash:c})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(r){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(r)}function useNavigate(){let{isDataRoute:r}=reactExports.useContext(RouteContext);return r?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let r=reactExports.useContext(DataRouterContext),{basename:i,navigator:s}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),{pathname:c}=useLocation(),a=JSON.stringify(getResolveToMatches(l)),G=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{G.current=!0}),reactExports.useCallback((it,f={})=>{if(warning(G.current,navigateEffectWarning),!G.current)return;if(typeof it=="number"){s.go(it);return}let u=resolveTo(it,JSON.parse(a),c,f.relative==="path");r==null&&i!=="/"&&(u.pathname=u.pathname==="/"?i:joinPaths([i,u.pathname])),(f.replace?s.replace:s.push)(u,f.state,f)},[i,s,a,c,r])}reactExports.createContext(null);function useParams(){let{matches:r}=reactExports.useContext(RouteContext),i=r[r.length-1];return i?i.params:{}}function useResolvedPath(r,{relative:i}={}){let{matches:s}=reactExports.useContext(RouteContext),{pathname:l}=useLocation(),c=JSON.stringify(getResolveToMatches(s));return reactExports.useMemo(()=>resolveTo(r,JSON.parse(c),l,i==="path"),[r,c,l,i])}function useRoutes(r,i){return useRoutesImpl(r,i)}function useRoutesImpl(r,i,s,l){invariant(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=reactExports.useContext(NavigationContext),{matches:a}=reactExports.useContext(RouteContext),G=a[a.length-1],tt=G?G.params:{},it=G?G.pathname:"/",f=G?G.pathnameBase:"/",u=G&&G.route;{let E=u&&u.path||"";warningOnce(it,!u||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${it}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=useLocation(),y;if(i){let E=typeof i=="string"?parsePath(i):i;invariant(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=p;let Z=y.pathname||"/",d=Z;if(f!=="/"){let E=f.replace(/^\//,"").split("/");d="/"+Z.replace(/^\//,"").split("/").slice(E.length).join("/")}let me=matchRoutes(r,{pathname:d});warning(u||me!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),warning(me==null||me[me.length-1].route.element!==void 0||me[me.length-1].route.Component!==void 0||me[me.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let et=_renderMatches(me&&me.map(E=>Object.assign({},E,{params:Object.assign({},tt,E.params),pathname:joinPaths([f,c.encodeLocation?c.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:joinPaths([f,c.encodeLocation?c.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),a,s,l);return i&&et?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},et):et}function DefaultErrorComponent(){let r=useRouteError(),i=isRouteErrorResponse(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),s=r instanceof Error?r.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},a={padding:"2px 4px",backgroundColor:l},G=null;return console.error("Error handled by React Router default ErrorBoundary:",r),G=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:a},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:a},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:c},s):null,G)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:r,match:i,children:s}){let l=reactExports.useContext(DataRouterContext);return l&&l.static&&l.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=i.route.id),reactExports.createElement(RouteContext.Provider,{value:r},s)}function _renderMatches(r,i=[],s=null,l=null){if(r==null){if(!s)return null;if(s.errors)r=s.matches;else if(i.length===0&&!s.initialized&&s.matches.length>0)r=s.matches;else return null}let c=r,a=s?.errors;if(a!=null){let it=c.findIndex(f=>f.route.id&&a?.[f.route.id]!==void 0);invariant(it>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),c=c.slice(0,Math.min(c.length,it+1))}let G=!1,tt=-1;if(s)for(let it=0;it<c.length;it++){let f=c[it];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(tt=it),f.route.id){let{loaderData:u,errors:p}=s,y=f.route.loader&&!u.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){G=!0,tt>=0?c=c.slice(0,tt+1):c=[c[0]];break}}}return c.reduceRight((it,f,u)=>{let p,y=!1,Z=null,d=null;s&&(p=a&&f.route.id?a[f.route.id]:void 0,Z=f.route.errorElement||defaultErrorElement,G&&(tt<0&&u===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,d=null):tt===u&&(y=!0,d=f.route.hydrateFallbackElement||null)));let me=i.concat(c.slice(0,u+1)),et=()=>{let E;return p?E=Z:y?E=d:f.route.Component?E=reactExports.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=it,reactExports.createElement(RenderedRoute,{match:f,routeContext:{outlet:it,matches:me,isDataRoute:s!=null},children:E})};return s&&(f.route.ErrorBoundary||f.route.errorElement||u===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:Z,error:p,children:et(),routeContext:{outlet:null,matches:me,isDataRoute:!0}}):et()},null)}function getDataRouterConsoleError(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(r){let i=reactExports.useContext(DataRouterContext);return invariant(i,getDataRouterConsoleError(r)),i}function useDataRouterState(r){let i=reactExports.useContext(DataRouterStateContext);return invariant(i,getDataRouterConsoleError(r)),i}function useRouteContext(r){let i=reactExports.useContext(RouteContext);return invariant(i,getDataRouterConsoleError(r)),i}function useCurrentRouteId(r){let i=useRouteContext(r),s=i.matches[i.matches.length-1];return invariant(s.route.id,`${r} can only be used on routes that contain a unique "id"`),s.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let r=reactExports.useContext(RouteErrorContext),i=useDataRouterState("useRouteError"),s=useCurrentRouteId("useRouteError");return r!==void 0?r:i.errors?.[s]}function useNavigateStable(){let{router:r}=useDataRouterContext("useNavigate"),i=useCurrentRouteId("useNavigate"),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(async(c,a={})=>{warning(s.current,navigateEffectWarning),s.current&&(typeof c=="number"?r.navigate(c):await r.navigate(c,{fromRouteId:i,...a}))},[r,i])}var alreadyWarned={};function warningOnce(r,i,s){!i&&!alreadyWarned[r]&&(alreadyWarned[r]=!0,warning(!1,s))}reactExports.memo(DataRoutes);function DataRoutes({routes:r,future:i,state:s}){return useRoutesImpl(r,void 0,s,i)}function Route(r){invariant(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:r="/",children:i=null,location:s,navigationType:l="POP",navigator:c,static:a=!1}){invariant(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let G=r.replace(/^\/*/,"/"),tt=reactExports.useMemo(()=>({basename:G,navigator:c,static:a,future:{}}),[G,c,a]);typeof s=="string"&&(s=parsePath(s));let{pathname:it="/",search:f="",hash:u="",state:p=null,key:y="default"}=s,Z=reactExports.useMemo(()=>{let d=stripBasename(it,G);return d==null?null:{location:{pathname:d,search:f,hash:u,state:p,key:y},navigationType:l}},[G,it,f,u,p,y,l]);return warning(Z!=null,`<Router basename="${G}"> is not able to match the URL "${it}${f}${u}" because it does not start with the basename, so the <Router> won't render anything.`),Z==null?null:reactExports.createElement(NavigationContext.Provider,{value:tt},reactExports.createElement(LocationContext.Provider,{children:i,value:Z}))}function Routes({children:r,location:i}){return useRoutes(createRoutesFromChildren(r),i)}function createRoutesFromChildren(r,i=[]){let s=[];return reactExports.Children.forEach(r,(l,c)=>{if(!reactExports.isValidElement(l))return;let a=[...i,c];if(l.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(l.props.children,a));return}invariant(l.type===Route,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant(!l.props.index||!l.props.children,"An index route cannot have child routes.");let G={id:l.props.id||a.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(G.children=createRoutesFromChildren(l.props.children,a)),s.push(G)}),s}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(r){return r!=null&&typeof r.tagName=="string"}function isButtonElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="button"}function isFormElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="form"}function isInputElement(r){return isHtmlElement(r)&&r.tagName.toLowerCase()==="input"}function isModifiedEvent(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function shouldProcessLinkClick(r,i){return r.button===0&&(!i||i==="_self")&&!isModifiedEvent(r)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(r){return r!=null&&!supportedFormEncTypes.has(r)?(warning(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):r}function getFormSubmissionInfo(r,i){let s,l,c,a,G;if(isFormElement(r)){let tt=r.getAttribute("action");l=tt?stripBasename(tt,i):null,s=r.getAttribute("method")||defaultMethod,c=getFormEncType(r.getAttribute("enctype"))||defaultEncType,a=new FormData(r)}else if(isButtonElement(r)||isInputElement(r)&&(r.type==="submit"||r.type==="image")){let tt=r.form;if(tt==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let it=r.getAttribute("formaction")||tt.getAttribute("action");if(l=it?stripBasename(it,i):null,s=r.getAttribute("formmethod")||tt.getAttribute("method")||defaultMethod,c=getFormEncType(r.getAttribute("formenctype"))||getFormEncType(tt.getAttribute("enctype"))||defaultEncType,a=new FormData(tt,r),!isFormDataSubmitterSupported()){let{name:f,type:u,value:p}=r;if(u==="image"){let y=f?`${f}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else f&&a.append(f,p)}}else{if(isHtmlElement(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=defaultMethod,l=null,c=defaultEncType,G=r}return a&&c==="text/plain"&&(G=a,a=void 0),{action:l,method:s.toLowerCase(),encType:c,formData:a,body:G}}function invariant2(r,i){if(r===!1||r===null||typeof r>"u")throw new Error(i)}async function loadRouteModule(r,i){if(r.id in i)return i[r.id];try{let s=await import(r.module);return i[r.id]=s,s}catch(s){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function getKeyedPrefetchLinks(r,i,s){let l=await Promise.all(r.map(async c=>{let a=i.routes[c.route.id];if(a){let G=await loadRouteModule(a,s);return G.links?G.links():[]}return[]}));return dedupeLinkDescriptors(l.flat(1).filter(isHtmlLinkDescriptor).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function getNewMatchesForLinks(r,i,s,l,c,a){let G=(it,f)=>s[f]?it.route.id!==s[f].route.id:!0,tt=(it,f)=>s[f].pathname!==it.pathname||s[f].route.path?.endsWith("*")&&s[f].params["*"]!==it.params["*"];return a==="assets"?i.filter((it,f)=>G(it,f)||tt(it,f)):a==="data"?i.filter((it,f)=>{let u=l.routes[it.route.id];if(!u||!u.hasLoader)return!1;if(G(it,f)||tt(it,f))return!0;if(it.route.shouldRevalidate){let p=it.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:it.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function getModuleLinkHrefs(r,i,{includeHydrateFallback:s}={}){return dedupeHrefs(r.map(l=>{let c=i.routes[l.route.id];if(!c)return[];let a=[c.module];return c.clientActionModule&&(a=a.concat(c.clientActionModule)),c.clientLoaderModule&&(a=a.concat(c.clientLoaderModule)),s&&c.hydrateFallbackModule&&(a=a.concat(c.hydrateFallbackModule)),c.imports&&(a=a.concat(c.imports)),a}).flat(1))}function dedupeHrefs(r){return[...new Set(r)]}function sortKeys(r){let i={},s=Object.keys(r).sort();for(let l of s)i[l]=r[l];return i}function dedupeLinkDescriptors(r,i){let s=new Set;return new Set(i),r.reduce((l,c)=>{let a=JSON.stringify(sortKeys(c));return s.has(a)||(s.add(a),l.push({key:a,link:c})),l},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(r,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname="_root.data":i&&stripBasename(s.pathname,i)==="/"?s.pathname=`${i.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function useDataRouterContext2(){let r=reactExports.useContext(DataRouterContext);return invariant2(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function useDataRouterStateContext(){let r=reactExports.useContext(DataRouterStateContext);return invariant2(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let r=reactExports.useContext(FrameworkContext);return invariant2(r,"You must render this element inside a <HydratedRouter> element"),r}function usePrefetchBehavior(r,i){let s=reactExports.useContext(FrameworkContext),[l,c]=reactExports.useState(!1),[a,G]=reactExports.useState(!1),{onFocus:tt,onBlur:it,onMouseEnter:f,onMouseLeave:u,onTouchStart:p}=i,y=reactExports.useRef(null);reactExports.useEffect(()=>{if(r==="render"&&G(!0),r==="viewport"){let me=E=>{E.forEach(ct=>{G(ct.isIntersecting)})},et=new IntersectionObserver(me,{threshold:.5});return y.current&&et.observe(y.current),()=>{et.disconnect()}}},[r]),reactExports.useEffect(()=>{if(l){let me=setTimeout(()=>{G(!0)},100);return()=>{clearTimeout(me)}}},[l]);let Z=()=>{c(!0)},d=()=>{c(!1),G(!1)};return s?r!=="intent"?[a,y,{}]:[a,y,{onFocus:composeEventHandlers(tt,Z),onBlur:composeEventHandlers(it,d),onMouseEnter:composeEventHandlers(f,Z),onMouseLeave:composeEventHandlers(u,d),onTouchStart:composeEventHandlers(p,Z)}]:[!1,y,{}]}function composeEventHandlers(r,i){return s=>{r&&r(s),s.defaultPrevented||i(s)}}function PrefetchPageLinks({page:r,...i}){let{router:s}=useDataRouterContext2(),l=reactExports.useMemo(()=>matchRoutes(s.routes,r,s.basename),[s.routes,r,s.basename]);return l?reactExports.createElement(PrefetchPageLinksImpl,{page:r,matches:l,...i}):null}function useKeyedPrefetchLinks(r){let{manifest:i,routeModules:s}=useFrameworkContext(),[l,c]=reactExports.useState([]);return reactExports.useEffect(()=>{let a=!1;return getKeyedPrefetchLinks(r,i,s).then(G=>{a||c(G)}),()=>{a=!0}},[r,i,s]),l}function PrefetchPageLinksImpl({page:r,matches:i,...s}){let l=useLocation(),{manifest:c,routeModules:a}=useFrameworkContext(),{basename:G}=useDataRouterContext2(),{loaderData:tt,matches:it}=useDataRouterStateContext(),f=reactExports.useMemo(()=>getNewMatchesForLinks(r,i,it,c,l,"data"),[r,i,it,c,l]),u=reactExports.useMemo(()=>getNewMatchesForLinks(r,i,it,c,l,"assets"),[r,i,it,c,l]),p=reactExports.useMemo(()=>{if(r===l.pathname+l.search+l.hash)return[];let d=new Set,me=!1;if(i.forEach(E=>{let ct=c.routes[E.route.id];!ct||!ct.hasLoader||(!f.some(mt=>mt.route.id===E.route.id)&&E.route.id in tt&&a[E.route.id]?.shouldRevalidate||ct.hasClientLoader?me=!0:d.add(E.route.id))}),d.size===0)return[];let et=singleFetchUrl(r,G);return me&&d.size>0&&et.searchParams.set("_routes",i.filter(E=>d.has(E.route.id)).map(E=>E.route.id).join(",")),[et.pathname+et.search]},[G,tt,l,c,f,i,r,a]),y=reactExports.useMemo(()=>getModuleLinkHrefs(u,c),[u,c]),Z=useKeyedPrefetchLinks(u);return reactExports.createElement(reactExports.Fragment,null,p.map(d=>reactExports.createElement("link",{key:d,rel:"prefetch",as:"fetch",href:d,...s})),y.map(d=>reactExports.createElement("link",{key:d,rel:"modulepreload",href:d,...s})),Z.map(({key:d,link:me})=>reactExports.createElement("link",{key:d,...me})))}function mergeRefs(...r){return i=>{r.forEach(s=>{typeof s=="function"?s(i):s!=null&&(s.current=i)})}}var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.6.3")}catch{}function BrowserRouter({basename:r,children:i,window:s}){let l=reactExports.useRef();l.current==null&&(l.current=createBrowserHistory({window:s,v5Compat:!0}));let c=l.current,[a,G]=reactExports.useState({action:c.action,location:c.location}),tt=reactExports.useCallback(it=>{reactExports.startTransition(()=>G(it))},[G]);return reactExports.useLayoutEffect(()=>c.listen(tt),[c,tt]),reactExports.createElement(Router,{basename:r,children:i,location:a.location,navigationType:a.action,navigator:c})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:i,discover:s="render",prefetch:l="none",relative:c,reloadDocument:a,replace:G,state:tt,target:it,to:f,preventScrollReset:u,viewTransition:p,...y},Z){let{basename:d}=reactExports.useContext(NavigationContext),me=typeof f=="string"&&ABSOLUTE_URL_REGEX2.test(f),et,E=!1;if(typeof f=="string"&&me&&(et=f,isBrowser))try{let St=new URL(window.location.href),jt=f.startsWith("//")?new URL(St.protocol+f):new URL(f),_t=stripBasename(jt.pathname,d);jt.origin===St.origin&&_t!=null?f=_t+jt.search+jt.hash:E=!0}catch{warning(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ct=useHref(f,{relative:c}),[mt,pt,nt]=usePrefetchBehavior(l,y),ft=useLinkClickHandler(f,{replace:G,state:tt,target:it,preventScrollReset:u,relative:c,viewTransition:p});function wt(St){i&&i(St),St.defaultPrevented||ft(St)}let Pt=reactExports.createElement("a",{...y,...nt,href:et||ct,onClick:E||a?i:wt,ref:mergeRefs(Z,pt),target:it,"data-discover":!me&&s==="render"?"true":void 0});return mt&&!me?reactExports.createElement(reactExports.Fragment,null,Pt,reactExports.createElement(PrefetchPageLinks,{page:ct})):Pt});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":i="page",caseSensitive:s=!1,className:l="",end:c=!1,style:a,to:G,viewTransition:tt,children:it,...f},u){let p=useResolvedPath(G,{relative:f.relative}),y=useLocation(),Z=reactExports.useContext(DataRouterStateContext),{navigator:d,basename:me}=reactExports.useContext(NavigationContext),et=Z!=null&&useViewTransitionState(p)&&tt===!0,E=d.encodeLocation?d.encodeLocation(p).pathname:p.pathname,ct=y.pathname,mt=Z&&Z.navigation&&Z.navigation.location?Z.navigation.location.pathname:null;s||(ct=ct.toLowerCase(),mt=mt?mt.toLowerCase():null,E=E.toLowerCase()),mt&&me&&(mt=stripBasename(mt,me)||mt);const pt=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let nt=ct===E||!c&&ct.startsWith(E)&&ct.charAt(pt)==="/",ft=mt!=null&&(mt===E||!c&&mt.startsWith(E)&&mt.charAt(E.length)==="/"),wt={isActive:nt,isPending:ft,isTransitioning:et},Pt=nt?i:void 0,St;typeof l=="function"?St=l(wt):St=[l,nt?"active":null,ft?"pending":null,et?"transitioning":null].filter(Boolean).join(" ");let jt=typeof a=="function"?a(wt):a;return reactExports.createElement(Link,{...f,"aria-current":Pt,className:St,ref:u,style:jt,to:G,viewTransition:tt},typeof it=="function"?it(wt):it)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:r="render",fetcherKey:i,navigate:s,reloadDocument:l,replace:c,state:a,method:G=defaultMethod,action:tt,onSubmit:it,relative:f,preventScrollReset:u,viewTransition:p,...y},Z)=>{let d=useSubmit(),me=useFormAction(tt,{relative:f}),et=G.toLowerCase()==="get"?"get":"post",E=typeof tt=="string"&&ABSOLUTE_URL_REGEX2.test(tt),ct=mt=>{if(it&&it(mt),mt.defaultPrevented)return;mt.preventDefault();let pt=mt.nativeEvent.submitter,nt=pt?.getAttribute("formmethod")||G;d(pt||mt.currentTarget,{fetcherKey:i,method:nt,navigate:s,replace:c,state:a,relative:f,preventScrollReset:u,viewTransition:p})};return reactExports.createElement("form",{ref:Z,method:et,action:me,onSubmit:l?it:ct,...y,"data-discover":!E&&r==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(r){let i=reactExports.useContext(DataRouterContext);return invariant(i,getDataRouterConsoleError2(r)),i}function useLinkClickHandler(r,{target:i,replace:s,state:l,preventScrollReset:c,relative:a,viewTransition:G}={}){let tt=useNavigate(),it=useLocation(),f=useResolvedPath(r,{relative:a});return reactExports.useCallback(u=>{if(shouldProcessLinkClick(u,i)){u.preventDefault();let p=s!==void 0?s:createPath(it)===createPath(f);tt(r,{replace:p,state:l,preventScrollReset:c,relative:a,viewTransition:G})}},[it,tt,f,s,l,i,r,c,a,G])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:r}=useDataRouterContext3("useSubmit"),{basename:i}=reactExports.useContext(NavigationContext),s=useRouteId();return reactExports.useCallback(async(l,c={})=>{let{action:a,method:G,encType:tt,formData:it,body:f}=getFormSubmissionInfo(l,i);if(c.navigate===!1){let u=c.fetcherKey||getUniqueFetcherId();await r.fetch(u,s,c.action||a,{preventScrollReset:c.preventScrollReset,formData:it,body:f,formMethod:c.method||G,formEncType:c.encType||tt,flushSync:c.flushSync})}else await r.navigate(c.action||a,{preventScrollReset:c.preventScrollReset,formData:it,body:f,formMethod:c.method||G,formEncType:c.encType||tt,replace:c.replace,state:c.state,fromRouteId:s,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,s])}function useFormAction(r,{relative:i}={}){let{basename:s}=reactExports.useContext(NavigationContext),l=reactExports.useContext(RouteContext);invariant(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),a={...useResolvedPath(r||".",{relative:i})},G=useLocation();if(r==null){a.search=G.search;let tt=new URLSearchParams(a.search),it=tt.getAll("index");if(it.some(u=>u==="")){tt.delete("index"),it.filter(p=>p).forEach(p=>tt.append("index",p));let u=tt.toString();a.search=u?`?${u}`:""}}return(!r||r===".")&&c.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(a.pathname=a.pathname==="/"?s:joinPaths([s,a.pathname])),createPath(a)}function useViewTransitionState(r,i={}){let s=reactExports.useContext(ViewTransitionContext);invariant(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=useDataRouterContext3("useViewTransitionState"),c=useResolvedPath(r,{relative:i.relative});if(!s.isTransitioning)return!1;let a=stripBasename(s.currentLocation.pathname,l)||s.currentLocation.pathname,G=stripBasename(s.nextLocation.pathname,l)||s.nextLocation.pathname;return matchPath(c.pathname,G)!=null||matchPath(c.pathname,a)!=null}[...NO_BODY_STATUS_CODES];const NotFoundPage=()=>{const r=useLocation();return jsxRuntimeExports.jsxs("div",{className:"flex flex-col justify-center items-center min-h-screen w-full bg-[var(--background-color)]",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"404 - Page Not Found"}),jsxRuntimeExports.jsxs("p",{className:"text-lg text-gray-700 mb-6",children:["No match for `",jsxRuntimeExports.jsx("code",{children:r.pathname}),"`"]}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/login",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow-md transition duration-300",children:"Go to Login"})]})},backgroundContainer="_backgroundContainer_1kw5q_5",input="_input_1kw5q_29",iconContainer="_iconContainer_1kw5q_67",hiddenFileInput="_hiddenFileInput_1kw5q_89",styles$d={backgroundContainer,input,iconContainer,hiddenFileInput},icon$1="_icon_1r1lx_1",styles$c={icon:icon$1},FileUploadIcon=r=>jsxRuntimeExports.jsx("svg",{className:styles$c.icon,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -960 960 960",fill:"currentColor",...r,children:jsxRuntimeExports.jsx("path",{d:"M720-330q0 104-73 177T470-80q-104 0-177-73t-73-177v-370q0-75 52.5-127.5T400-880q75 0 127.5 52.5T580-700v350q0 46-32 78t-78 32q-46 0-78-32t-32-78v-370h80v370q0 13 8.5 21.5T470-320q13 0 21.5-8.5T500-350v-350q-1-42-29.5-71T400-800q-42 0-71 29t-29 71v370q-1 71 49 120.5T470-160q70 0 119-49.5T640-330v-390h80v390Z"})});function PromptInput(r){const i=React.useRef(null),s=()=>{i.current?.click()},l=c=>{c.target.files&&c.target.files.length>0?r.onFileChange?.(Array.from(c.target.files)):r.onFileChange?.(null)};return jsxRuntimeExports.jsxs("div",{className:styles$d.backgroundContainer,children:[jsxRuntimeExports.jsx("input",{className:styles$d.input,type:"text",placeholder:r.label,autoComplete:"off",value:r.value,onChange:r.onChange,onKeyDown:r.onKeyDown}),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{id:"file-input",type:"file",ref:i,onChange:l,className:styles$d.hiddenFileInput,multiple:!0}),jsxRuntimeExports.jsx("div",{className:styles$d.iconContainer,onClick:s,children:jsxRuntimeExports.jsx(FileUploadIcon,{})})]})]})}const chatContainer$1="_chatContainer_5l57y_15",messageDisplay="_messageDisplay_5l57y_55",inputArea="_inputArea_5l57y_91",uploadedFilesContainer="_uploadedFilesContainer_5l57y_119",errorPopup="_errorPopup_5l57y_161",errorMessage="_errorMessage_5l57y_191",closeButton$1="_closeButton_5l57y_199",chatPlaceholder="_chatPlaceholder_5l57y_253",chatPlaceholderTitle="_chatPlaceholderTitle_5l57y_275",chatPlaceholderDescription="_chatPlaceholderDescription_5l57y_285",styles$b={chatContainer:chatContainer$1,messageDisplay,inputArea,uploadedFilesContainer,errorPopup,errorMessage,closeButton:closeButton$1,chatPlaceholder,chatPlaceholderTitle,chatPlaceholderDescription},text$1="_text_1gurn_5",fontSizeSmall="_fontSizeSmall_1gurn_19",fontSizeMedium="_fontSizeMedium_1gurn_27",fontSizeLarge="_fontSizeLarge_1gurn_35",fontSizeHuge="_fontSizeHuge_1gurn_43",fontSizeHugest="_fontSizeHugest_1gurn_51",colorPrimary="_colorPrimary_1gurn_59",colorSecondary="_colorSecondary_1gurn_67",colorButton="_colorButton_1gurn_75",colorHover="_colorHover_1gurn_83",styles$a={text:text$1,fontSizeSmall,fontSizeMedium,fontSizeLarge,fontSizeHuge,fontSizeHugest,colorPrimary,colorSecondary,colorButton,colorHover};function Text(r){const{children:i,fontSize:s="medium",fontWeight:l="regular",colorVariant:c="default",interactable:a=!1,onClick:G,textTransform:tt="none",display:it,className:f,style:u,as:p="p"}=r,y=p,Z={small:styles$a.fontSizeSmall,medium:styles$a.fontSizeMedium,large:styles$a.fontSizeLarge,huge:styles$a.fontSizeHuge,hugest:styles$a.fontSizeHugest}[s],d={default:"",primary:styles$a.colorPrimary,secondary:styles$a.colorSecondary,button:styles$a.colorButton,hover:styles$a.colorHover}[c],me=[styles$a.text,f,d,Z].filter(Boolean).join(" "),et={fontWeight:l==="bold"?"bold":"regular",userSelect:a?"auto":"none",WebkitUserSelect:a?"auto":"none",MozUserSelect:a?"auto":"none",textTransform:tt,display:it,...u};return jsxRuntimeExports.jsx(y,{className:me,style:et,onClick:G,children:i})}const messageContainer="_messageContainer_1c815_5",userMessageContainer="_userMessageContainer_1c815_23",systemMessageContainer="_systemMessageContainer_1c815_33",messageBox="_messageBox_1c815_47",userMessageBox="_userMessageBox_1c815_61",systemMessageBox="_systemMessageBox_1c815_71",attachedFiles="_attachedFiles_1c815_81",markdownContent="_markdownContent_1c815_129",styles$9={messageContainer,userMessageContainer,systemMessageContainer,messageBox,userMessageBox,systemMessageBox,attachedFiles,markdownContent};function M(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var w=M();function H(r){w=r}var C={exec:()=>null};function h(r,i=""){let s=typeof r=="string"?r:r.source,l={replace:(c,a)=>{let G=typeof a=="string"?a:a.source;return G=G.replace(m.caret,"$1"),s=s.replace(c,G),l},getRegex:()=>new RegExp(s,i)};return l}var m={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:r=>new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}#`),htmlBeginRegex:r=>new RegExp(`^ {0,${Math.min(3,r-1)}}<(?:[a-z].*>|!--)`,"i")},xe=/^(?:[ \t]*(?:\n|$))+/,be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Te=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,I=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,we=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,j=/(?:[*+-]|\d{1,9}[.)])/,re=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,ie=h(re).replace(/bull/g,j).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ye=h(re).replace(/bull/g,j).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),F=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Re=/^[^\n]+/,Q=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Se=h(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Q).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$e=h(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,j).getRegex(),v="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",U=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,_e=h("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",U).replace("tag",v).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oe=h(F).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),Le=h(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",oe).getRegex(),K={blockquote:Le,code:be,def:Se,fences:Te,heading:we,hr:I,html:_e,lheading:ie,list:$e,newline:xe,paragraph:oe,table:C,text:Re},se=h("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex(),ze={...K,lheading:ye,table:se,paragraph:h(F).replace("hr",I).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",se).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",v).getRegex()},Me={...K,html:h(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",U).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:h(F).replace("hr",I).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ie).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Pe=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ae=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,le=/^( {2,}|\\)\n(?!\s*$)/,Ee=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,D=/[\p{P}\p{S}]/u,X=/[\s\p{P}\p{S}]/u,ae=/[^\s\p{P}\p{S}]/u,Ce=h(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,X).getRegex(),ce=/(?!~)[\p{P}\p{S}]/u,Ie=/(?!~)[\s\p{P}\p{S}]/u,Oe=/(?:[^\s\p{P}\p{S}]|~)/u,Be=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,pe=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,qe=h(pe,"u").replace(/punct/g,D).getRegex(),ve=h(pe,"u").replace(/punct/g,ce).getRegex(),ue="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",De=h(ue,"gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,X).replace(/punct/g,D).getRegex(),Ze=h(ue,"gu").replace(/notPunctSpace/g,Oe).replace(/punctSpace/g,Ie).replace(/punct/g,ce).getRegex(),Ge=h("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,ae).replace(/punctSpace/g,X).replace(/punct/g,D).getRegex(),He=h(/\\(punct)/,"gu").replace(/punct/g,D).getRegex(),Ne=h(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),je=h(U).replace("(?:-->|$)","-->").getRegex(),Fe=h("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",je).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),q=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Qe=h(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",q).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),he=h(/^!?\[(label)\]\[(ref)\]/).replace("label",q).replace("ref",Q).getRegex(),ke=h(/^!?\[(ref)\](?:\[\])?/).replace("ref",Q).getRegex(),Ue=h("reflink|nolink(?!\\()","g").replace("reflink",he).replace("nolink",ke).getRegex(),W={_backpedal:C,anyPunctuation:He,autolink:Ne,blockSkip:Be,br:le,code:Ae,del:C,emStrongLDelim:qe,emStrongRDelimAst:De,emStrongRDelimUnd:Ge,escape:Pe,link:Qe,nolink:ke,punctuation:Ce,reflink:he,reflinkSearch:Ue,tag:Fe,text:Ee,url:C},Ke={...W,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",q).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",q).getRegex()},N={...W,emStrongRDelimAst:Ze,emStrongLDelim:ve,url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Xe={...N,br:h(le).replace("{2,}","*").getRegex(),text:h(N.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},O={normal:K,gfm:ze,pedantic:Me},P={normal:W,gfm:N,breaks:Xe,pedantic:Ke},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ge=r=>We[r];function R(r,i){if(i){if(m.escapeTest.test(r))return r.replace(m.escapeReplace,ge)}else if(m.escapeTestNoEncode.test(r))return r.replace(m.escapeReplaceNoEncode,ge);return r}function J(r){try{r=encodeURI(r).replace(m.percentDecode,"%")}catch{return null}return r}function V(r,i){let s=r.replace(m.findPipe,(a,G,tt)=>{let it=!1,f=G;for(;--f>=0&&tt[f]==="\\";)it=!it;return it?"|":" |"}),l=s.split(m.splitPipe),c=0;if(l[0].trim()||l.shift(),l.length>0&&!l.at(-1)?.trim()&&l.pop(),i)if(l.length>i)l.splice(i);else for(;l.length<i;)l.push("");for(;c<l.length;c++)l[c]=l[c].trim().replace(m.slashPipe,"|");return l}function A(r,i,s){let l=r.length;if(l===0)return"";let c=0;for(;c<l&&r.charAt(l-c-1)===i;)c++;return r.slice(0,l-c)}function fe(r,i){if(r.indexOf(i[1])===-1)return-1;let s=0;for(let l=0;l<r.length;l++)if(r[l]==="\\")l++;else if(r[l]===i[0])s++;else if(r[l]===i[1]&&(s--,s<0))return l;return s>0?-2:-1}function de(r,i,s,l,c){let a=i.href,G=i.title||null,tt=r[1].replace(c.other.outputLinkReplace,"$1");l.state.inLink=!0;let it={type:r[0].charAt(0)==="!"?"image":"link",raw:s,href:a,title:G,text:tt,tokens:l.inlineTokens(tt)};return l.state.inLink=!1,it}function Je(r,i,s){let l=r.match(s.other.indentCodeCompensation);if(l===null)return i;let c=l[1];return i.split(`
`).map(a=>{let G=a.match(s.other.beginningSpace);if(G===null)return a;let[tt]=G;return tt.length>=c.length?a.slice(c.length):a}).join(`
`)}var S=class{options;rules;lexer;constructor(r){this.options=r||w}space(r){let i=this.rules.block.newline.exec(r);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(r){let i=this.rules.block.code.exec(r);if(i){let s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:A(s,`
`)}}}fences(r){let i=this.rules.block.fences.exec(r);if(i){let s=i[0],l=Je(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:l}}}heading(r){let i=this.rules.block.heading.exec(r);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){let l=A(s,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(s=l.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(r){let i=this.rules.block.hr.exec(r);if(i)return{type:"hr",raw:A(i[0],`
`)}}blockquote(r){let i=this.rules.block.blockquote.exec(r);if(i){let s=A(i[0],`
`).split(`
`),l="",c="",a=[];for(;s.length>0;){let G=!1,tt=[],it;for(it=0;it<s.length;it++)if(this.rules.other.blockquoteStart.test(s[it]))tt.push(s[it]),G=!0;else if(!G)tt.push(s[it]);else break;s=s.slice(it);let f=tt.join(`
`),u=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${f}`:f,c=c?`${c}
${u}`:u;let p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,a,!0),this.lexer.state.top=p,s.length===0)break;let y=a.at(-1);if(y?.type==="code")break;if(y?.type==="blockquote"){let Z=y,d=Z.raw+`
`+s.join(`
`),me=this.blockquote(d);a[a.length-1]=me,l=l.substring(0,l.length-Z.raw.length)+me.raw,c=c.substring(0,c.length-Z.text.length)+me.text;break}else if(y?.type==="list"){let Z=y,d=Z.raw+`
`+s.join(`
`),me=this.list(d);a[a.length-1]=me,l=l.substring(0,l.length-y.raw.length)+me.raw,c=c.substring(0,c.length-Z.raw.length)+me.raw,s=d.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:a,text:c}}}list(r){let i=this.rules.block.list.exec(r);if(i){let s=i[1].trim(),l=s.length>1,c={type:"list",raw:"",ordered:l,start:l?+s.slice(0,-1):"",loose:!1,items:[]};s=l?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=l?s:"[*+-]");let a=this.rules.other.listItemRegex(s),G=!1;for(;r;){let it=!1,f="",u="";if(!(i=a.exec(r))||this.rules.block.hr.test(r))break;f=i[0],r=r.substring(f.length);let p=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,E=>" ".repeat(3*E.length)),y=r.split(`
`,1)[0],Z=!p.trim(),d=0;if(this.options.pedantic?(d=2,u=p.trimStart()):Z?d=i[1].length+1:(d=i[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,u=p.slice(d),d+=i[1].length),Z&&this.rules.other.blankLine.test(y)&&(f+=y+`
`,r=r.substring(y.length+1),it=!0),!it){let E=this.rules.other.nextBulletRegex(d),ct=this.rules.other.hrRegex(d),mt=this.rules.other.fencesBeginRegex(d),pt=this.rules.other.headingBeginRegex(d),nt=this.rules.other.htmlBeginRegex(d);for(;r;){let ft=r.split(`
`,1)[0],wt;if(y=ft,this.options.pedantic?(y=y.replace(this.rules.other.listReplaceNesting,"  "),wt=y):wt=y.replace(this.rules.other.tabCharGlobal,"    "),mt.test(y)||pt.test(y)||nt.test(y)||E.test(y)||ct.test(y))break;if(wt.search(this.rules.other.nonSpaceChar)>=d||!y.trim())u+=`
`+wt.slice(d);else{if(Z||p.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||mt.test(p)||pt.test(p)||ct.test(p))break;u+=`
`+y}!Z&&!y.trim()&&(Z=!0),f+=ft+`
`,r=r.substring(ft.length+1),p=wt.slice(d)}}c.loose||(G?c.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(G=!0));let me=null,et;this.options.gfm&&(me=this.rules.other.listIsTask.exec(u),me&&(et=me[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),c.items.push({type:"list_item",raw:f,task:!!me,checked:et,loose:!1,text:u,tokens:[]}),c.raw+=f}let tt=c.items.at(-1);if(tt)tt.raw=tt.raw.trimEnd(),tt.text=tt.text.trimEnd();else return;c.raw=c.raw.trimEnd();for(let it=0;it<c.items.length;it++)if(this.lexer.state.top=!1,c.items[it].tokens=this.lexer.blockTokens(c.items[it].text,[]),!c.loose){let f=c.items[it].tokens.filter(p=>p.type==="space"),u=f.length>0&&f.some(p=>this.rules.other.anyLine.test(p.raw));c.loose=u}if(c.loose)for(let it=0;it<c.items.length;it++)c.items[it].loose=!0;return c}}html(r){let i=this.rules.block.html.exec(r);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(r){let i=this.rules.block.def.exec(r);if(i){let s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:l,title:c}}}table(r){let i=this.rules.block.table.exec(r);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;let s=V(i[1]),l=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),c=i[3]?.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===l.length){for(let G of l)this.rules.other.tableAlignRight.test(G)?a.align.push("right"):this.rules.other.tableAlignCenter.test(G)?a.align.push("center"):this.rules.other.tableAlignLeft.test(G)?a.align.push("left"):a.align.push(null);for(let G=0;G<s.length;G++)a.header.push({text:s[G],tokens:this.lexer.inline(s[G]),header:!0,align:a.align[G]});for(let G of c)a.rows.push(V(G,a.header.length).map((tt,it)=>({text:tt,tokens:this.lexer.inline(tt),header:!1,align:a.align[it]})));return a}}lheading(r){let i=this.rules.block.lheading.exec(r);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(r){let i=this.rules.block.paragraph.exec(r);if(i){let s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(r){let i=this.rules.block.text.exec(r);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(r){let i=this.rules.inline.escape.exec(r);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(r){let i=this.rules.inline.tag.exec(r);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(r){let i=this.rules.inline.link.exec(r);if(i){let s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;let a=A(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{let a=fe(i[2],"()");if(a===-2)return;if(a>-1){let G=(i[0].indexOf("!")===0?5:4)+i[1].length+a;i[2]=i[2].substring(0,a),i[0]=i[0].substring(0,G).trim(),i[3]=""}}let l=i[2],c="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(l);a&&(l=a[1],c=a[3])}else c=i[3]?i[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?l=l.slice(1):l=l.slice(1,-1)),de(i,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(r,i){let s;if((s=this.rules.inline.reflink.exec(r))||(s=this.rules.inline.nolink.exec(r))){let l=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),c=i[l.toLowerCase()];if(!c){let a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return de(s,c,s[0],this.lexer,this.rules)}}emStrong(r,i,s=""){let l=this.rules.inline.emStrongLDelim.exec(r);if(!(!l||l[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(l[1]||l[2])||!s||this.rules.inline.punctuation.exec(s))){let c=[...l[0]].length-1,a,G,tt=c,it=0,f=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,i=i.slice(-1*r.length+c);(l=f.exec(i))!=null;){if(a=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!a)continue;if(G=[...a].length,l[3]||l[4]){tt+=G;continue}else if((l[5]||l[6])&&c%3&&!((c+G)%3)){it+=G;continue}if(tt-=G,tt>0)continue;G=Math.min(G,G+tt+it);let u=[...l[0]][0].length,p=r.slice(0,c+l.index+u+G);if(Math.min(c,G)%2){let Z=p.slice(1,-1);return{type:"em",raw:p,text:Z,tokens:this.lexer.inlineTokens(Z)}}let y=p.slice(2,-2);return{type:"strong",raw:p,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(r){let i=this.rules.inline.code.exec(r);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," "),l=this.rules.other.nonSpaceChar.test(s),c=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return l&&c&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(r){let i=this.rules.inline.br.exec(r);if(i)return{type:"br",raw:i[0]}}del(r){let i=this.rules.inline.del.exec(r);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(r){let i=this.rules.inline.autolink.exec(r);if(i){let s,l;return i[2]==="@"?(s=i[1],l="mailto:"+s):(s=i[1],l=s),{type:"link",raw:i[0],text:s,href:l,tokens:[{type:"text",raw:s,text:s}]}}}url(r){let i;if(i=this.rules.inline.url.exec(r)){let s,l;if(i[2]==="@")s=i[0],l="mailto:"+s;else{let c;do c=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])?.[0]??"";while(c!==i[0]);s=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:s,href:l,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(r){let i=this.rules.inline.text.exec(r);if(i){let s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}},b=class au{tokens;options;state;tokenizer;inlineQueue;constructor(i){this.tokens=[],this.tokens.links=Object.create(null),this.options=i||w,this.options.tokenizer=this.options.tokenizer||new S,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let s={other:m,block:O.normal,inline:P.normal};this.options.pedantic?(s.block=O.pedantic,s.inline=P.pedantic):this.options.gfm&&(s.block=O.gfm,this.options.breaks?s.inline=P.breaks:s.inline=P.gfm),this.tokenizer.rules=s}static get rules(){return{block:O,inline:P}}static lex(i,s){return new au(s).lex(i)}static lexInline(i,s){return new au(s).inlineTokens(i)}lex(i){i=i.replace(m.carriageReturn,`
`),this.blockTokens(i,this.tokens);for(let s=0;s<this.inlineQueue.length;s++){let l=this.inlineQueue[s];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(i,s=[],l=!1){for(this.options.pedantic&&(i=i.replace(m.tabCharGlobal,"    ").replace(m.spaceLine,""));i;){let c;if(this.options.extensions?.block?.some(G=>(c=G.call({lexer:this},i,s))?(i=i.substring(c.raw.length),s.push(c),!0):!1))continue;if(c=this.tokenizer.space(i)){i=i.substring(c.raw.length);let G=s.at(-1);c.raw.length===1&&G!==void 0?G.raw+=`
`:s.push(c);continue}if(c=this.tokenizer.code(i)){i=i.substring(c.raw.length);let G=s.at(-1);G?.type==="paragraph"||G?.type==="text"?(G.raw+=`
`+c.raw,G.text+=`
`+c.text,this.inlineQueue.at(-1).src=G.text):s.push(c);continue}if(c=this.tokenizer.fences(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.heading(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.hr(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.blockquote(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.list(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.html(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.def(i)){i=i.substring(c.raw.length);let G=s.at(-1);G?.type==="paragraph"||G?.type==="text"?(G.raw+=`
`+c.raw,G.text+=`
`+c.raw,this.inlineQueue.at(-1).src=G.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(i)){i=i.substring(c.raw.length),s.push(c);continue}if(c=this.tokenizer.lheading(i)){i=i.substring(c.raw.length),s.push(c);continue}let a=i;if(this.options.extensions?.startBlock){let G=1/0,tt=i.slice(1),it;this.options.extensions.startBlock.forEach(f=>{it=f.call({lexer:this},tt),typeof it=="number"&&it>=0&&(G=Math.min(G,it))}),G<1/0&&G>=0&&(a=i.substring(0,G+1))}if(this.state.top&&(c=this.tokenizer.paragraph(a))){let G=s.at(-1);l&&G?.type==="paragraph"?(G.raw+=`
`+c.raw,G.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=G.text):s.push(c),l=a.length!==i.length,i=i.substring(c.raw.length);continue}if(c=this.tokenizer.text(i)){i=i.substring(c.raw.length);let G=s.at(-1);G?.type==="text"?(G.raw+=`
`+c.raw,G.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=G.text):s.push(c);continue}if(i){let G="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(G);break}else throw new Error(G)}}return this.state.top=!0,s}inline(i,s=[]){return this.inlineQueue.push({src:i,tokens:s}),s}inlineTokens(i,s=[]){let l=i,c=null;if(this.tokens.links){let tt=Object.keys(this.tokens.links);if(tt.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)tt.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,c.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(c=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,c.index)+"["+"a".repeat(c[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,G="";for(;i;){a||(G=""),a=!1;let tt;if(this.options.extensions?.inline?.some(f=>(tt=f.call({lexer:this},i,s))?(i=i.substring(tt.raw.length),s.push(tt),!0):!1))continue;if(tt=this.tokenizer.escape(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.tag(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.link(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.reflink(i,this.tokens.links)){i=i.substring(tt.raw.length);let f=s.at(-1);tt.type==="text"&&f?.type==="text"?(f.raw+=tt.raw,f.text+=tt.text):s.push(tt);continue}if(tt=this.tokenizer.emStrong(i,l,G)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.codespan(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.br(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.del(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(tt=this.tokenizer.autolink(i)){i=i.substring(tt.raw.length),s.push(tt);continue}if(!this.state.inLink&&(tt=this.tokenizer.url(i))){i=i.substring(tt.raw.length),s.push(tt);continue}let it=i;if(this.options.extensions?.startInline){let f=1/0,u=i.slice(1),p;this.options.extensions.startInline.forEach(y=>{p=y.call({lexer:this},u),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(it=i.substring(0,f+1))}if(tt=this.tokenizer.inlineText(it)){i=i.substring(tt.raw.length),tt.raw.slice(-1)!=="_"&&(G=tt.raw.slice(-1)),a=!0;let f=s.at(-1);f?.type==="text"?(f.raw+=tt.raw,f.text+=tt.text):s.push(tt);continue}if(i){let f="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return s}},$=class{options;parser;constructor(r){this.options=r||w}space(r){return""}code({text:r,lang:i,escaped:s}){let l=(i||"").match(m.notSpaceStart)?.[0],c=r.replace(m.endingNewline,"")+`
`;return l?'<pre><code class="language-'+R(l)+'">'+(s?c:R(c,!0))+`</code></pre>
`:"<pre><code>"+(s?c:R(c,!0))+`</code></pre>
`}blockquote({tokens:r}){return`<blockquote>
${this.parser.parse(r)}</blockquote>
`}html({text:r}){return r}heading({tokens:r,depth:i}){return`<h${i}>${this.parser.parseInline(r)}</h${i}>
`}hr(r){return`<hr>
`}list(r){let i=r.ordered,s=r.start,l="";for(let G=0;G<r.items.length;G++){let tt=r.items[G];l+=this.listitem(tt)}let c=i?"ol":"ul",a=i&&s!==1?' start="'+s+'"':"";return"<"+c+a+`>
`+l+"</"+c+`>
`}listitem(r){let i="";if(r.task){let s=this.checkbox({checked:!!r.checked});r.loose?r.tokens[0]?.type==="paragraph"?(r.tokens[0].text=s+" "+r.tokens[0].text,r.tokens[0].tokens&&r.tokens[0].tokens.length>0&&r.tokens[0].tokens[0].type==="text"&&(r.tokens[0].tokens[0].text=s+" "+R(r.tokens[0].tokens[0].text),r.tokens[0].tokens[0].escaped=!0)):r.tokens.unshift({type:"text",raw:s+" ",text:s+" ",escaped:!0}):i+=s+" "}return i+=this.parser.parse(r.tokens,!!r.loose),`<li>${i}</li>
`}checkbox({checked:r}){return"<input "+(r?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:r}){return`<p>${this.parser.parseInline(r)}</p>
`}table(r){let i="",s="";for(let c=0;c<r.header.length;c++)s+=this.tablecell(r.header[c]);i+=this.tablerow({text:s});let l="";for(let c=0;c<r.rows.length;c++){let a=r.rows[c];s="";for(let G=0;G<a.length;G++)s+=this.tablecell(a[G]);l+=this.tablerow({text:s})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+l+`</table>
`}tablerow({text:r}){return`<tr>
${r}</tr>
`}tablecell(r){let i=this.parser.parseInline(r.tokens),s=r.header?"th":"td";return(r.align?`<${s} align="${r.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:r}){return`<strong>${this.parser.parseInline(r)}</strong>`}em({tokens:r}){return`<em>${this.parser.parseInline(r)}</em>`}codespan({text:r}){return`<code>${R(r,!0)}</code>`}br(r){return"<br>"}del({tokens:r}){return`<del>${this.parser.parseInline(r)}</del>`}link({href:r,title:i,tokens:s}){let l=this.parser.parseInline(s),c=J(r);if(c===null)return l;r=c;let a='<a href="'+r+'"';return i&&(a+=' title="'+R(i)+'"'),a+=">"+l+"</a>",a}image({href:r,title:i,text:s,tokens:l}){l&&(s=this.parser.parseInline(l,this.parser.textRenderer));let c=J(r);if(c===null)return R(s);r=c;let a=`<img src="${r}" alt="${s}"`;return i&&(a+=` title="${R(i)}"`),a+=">",a}text(r){return"tokens"in r&&r.tokens?this.parser.parseInline(r.tokens):"escaped"in r&&r.escaped?r.text:R(r.text)}},_=class{strong({text:r}){return r}em({text:r}){return r}codespan({text:r}){return r}del({text:r}){return r}html({text:r}){return r}text({text:r}){return r}link({text:r}){return""+r}image({text:r}){return""+r}br(){return""}},T=class ou{options;renderer;textRenderer;constructor(i){this.options=i||w,this.options.renderer=this.options.renderer||new $,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _}static parse(i,s){return new ou(s).parse(i)}static parseInline(i,s){return new ou(s).parseInline(i)}parse(i,s=!0){let l="";for(let c=0;c<i.length;c++){let a=i[c];if(this.options.extensions?.renderers?.[a.type]){let tt=a,it=this.options.extensions.renderers[tt.type].call({parser:this},tt);if(it!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(tt.type)){l+=it||"";continue}}let G=a;switch(G.type){case"space":{l+=this.renderer.space(G);continue}case"hr":{l+=this.renderer.hr(G);continue}case"heading":{l+=this.renderer.heading(G);continue}case"code":{l+=this.renderer.code(G);continue}case"table":{l+=this.renderer.table(G);continue}case"blockquote":{l+=this.renderer.blockquote(G);continue}case"list":{l+=this.renderer.list(G);continue}case"html":{l+=this.renderer.html(G);continue}case"paragraph":{l+=this.renderer.paragraph(G);continue}case"text":{let tt=G,it=this.renderer.text(tt);for(;c+1<i.length&&i[c+1].type==="text";)tt=i[++c],it+=`
`+this.renderer.text(tt);s?l+=this.renderer.paragraph({type:"paragraph",raw:it,text:it,tokens:[{type:"text",raw:it,text:it,escaped:!0}]}):l+=it;continue}default:{let tt='Token with "'+G.type+'" type was not found.';if(this.options.silent)return console.error(tt),"";throw new Error(tt)}}}return l}parseInline(i,s=this.renderer){let l="";for(let c=0;c<i.length;c++){let a=i[c];if(this.options.extensions?.renderers?.[a.type]){let tt=this.options.extensions.renderers[a.type].call({parser:this},a);if(tt!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){l+=tt||"";continue}}let G=a;switch(G.type){case"escape":{l+=s.text(G);break}case"html":{l+=s.html(G);break}case"link":{l+=s.link(G);break}case"image":{l+=s.image(G);break}case"strong":{l+=s.strong(G);break}case"em":{l+=s.em(G);break}case"codespan":{l+=s.codespan(G);break}case"br":{l+=s.br(G);break}case"del":{l+=s.del(G);break}case"text":{l+=s.text(G);break}default:{let tt='Token with "'+G.type+'" type was not found.';if(this.options.silent)return console.error(tt),"";throw new Error(tt)}}}return l}},L=class{options;block;constructor(r){this.options=r||w}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(r){return r}postprocess(r){return r}processAllTokens(r){return r}provideLexer(){return this.block?b.lex:b.lexInline}provideParser(){return this.block?T.parse:T.parseInline}},B=class{defaults=M();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=T;Renderer=$;TextRenderer=_;Lexer=b;Tokenizer=S;Hooks=L;constructor(...r){this.use(...r)}walkTokens(r,i){let s=[];for(let l of r)switch(s=s.concat(i.call(this,l)),l.type){case"table":{let c=l;for(let a of c.header)s=s.concat(this.walkTokens(a.tokens,i));for(let a of c.rows)for(let G of a)s=s.concat(this.walkTokens(G.tokens,i));break}case"list":{let c=l;s=s.concat(this.walkTokens(c.items,i));break}default:{let c=l;this.defaults.extensions?.childTokens?.[c.type]?this.defaults.extensions.childTokens[c.type].forEach(a=>{let G=c[a].flat(1/0);s=s.concat(this.walkTokens(G,i))}):c.tokens&&(s=s.concat(this.walkTokens(c.tokens,i)))}}return s}use(...r){let i=this.defaults.extensions||{renderers:{},childTokens:{}};return r.forEach(s=>{let l={...s};if(l.async=this.defaults.async||l.async||!1,s.extensions&&(s.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){let a=i.renderers[c.name];a?i.renderers[c.name]=function(...G){let tt=c.renderer.apply(this,G);return tt===!1&&(tt=a.apply(this,G)),tt}:i.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=i[c.level];a?a.unshift(c.tokenizer):i[c.level]=[c.tokenizer],c.start&&(c.level==="block"?i.startBlock?i.startBlock.push(c.start):i.startBlock=[c.start]:c.level==="inline"&&(i.startInline?i.startInline.push(c.start):i.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(i.childTokens[c.name]=c.childTokens)}),l.extensions=i),s.renderer){let c=this.defaults.renderer||new $(this.defaults);for(let a in s.renderer){if(!(a in c))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let G=a,tt=s.renderer[G],it=c[G];c[G]=(...f)=>{let u=tt.apply(c,f);return u===!1&&(u=it.apply(c,f)),u||""}}l.renderer=c}if(s.tokenizer){let c=this.defaults.tokenizer||new S(this.defaults);for(let a in s.tokenizer){if(!(a in c))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let G=a,tt=s.tokenizer[G],it=c[G];c[G]=(...f)=>{let u=tt.apply(c,f);return u===!1&&(u=it.apply(c,f)),u}}l.tokenizer=c}if(s.hooks){let c=this.defaults.hooks||new L;for(let a in s.hooks){if(!(a in c))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let G=a,tt=s.hooks[G],it=c[G];L.passThroughHooks.has(a)?c[G]=f=>{if(this.defaults.async)return Promise.resolve(tt.call(c,f)).then(p=>it.call(c,p));let u=tt.call(c,f);return it.call(c,u)}:c[G]=(...f)=>{let u=tt.apply(c,f);return u===!1&&(u=it.apply(c,f)),u}}l.hooks=c}if(s.walkTokens){let c=this.defaults.walkTokens,a=s.walkTokens;l.walkTokens=function(G){let tt=[];return tt.push(a.call(this,G)),c&&(tt=tt.concat(c.call(this,G))),tt}}this.defaults={...this.defaults,...l}}),this}setOptions(r){return this.defaults={...this.defaults,...r},this}lexer(r,i){return b.lex(r,i??this.defaults)}parser(r,i){return T.parse(r,i??this.defaults)}parseMarkdown(r){return(i,s)=>{let l={...s},c={...this.defaults,...l},a=this.onError(!!c.silent,!!c.async);if(this.defaults.async===!0&&l.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));c.hooks&&(c.hooks.options=c,c.hooks.block=r);let G=c.hooks?c.hooks.provideLexer():r?b.lex:b.lexInline,tt=c.hooks?c.hooks.provideParser():r?T.parse:T.parseInline;if(c.async)return Promise.resolve(c.hooks?c.hooks.preprocess(i):i).then(it=>G(it,c)).then(it=>c.hooks?c.hooks.processAllTokens(it):it).then(it=>c.walkTokens?Promise.all(this.walkTokens(it,c.walkTokens)).then(()=>it):it).then(it=>tt(it,c)).then(it=>c.hooks?c.hooks.postprocess(it):it).catch(a);try{c.hooks&&(i=c.hooks.preprocess(i));let it=G(i,c);c.hooks&&(it=c.hooks.processAllTokens(it)),c.walkTokens&&this.walkTokens(it,c.walkTokens);let f=tt(it,c);return c.hooks&&(f=c.hooks.postprocess(f)),f}catch(it){return a(it)}}}onError(r,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,r){let l="<p>An error occurred:</p><pre>"+R(s.message+"",!0)+"</pre>";return i?Promise.resolve(l):l}if(i)return Promise.reject(s);throw s}}},z=new B;function k(r,i){return z.parse(r,i)}k.options=k.setOptions=function(r){return z.setOptions(r),k.defaults=z.defaults,H(k.defaults),k};k.getDefaults=M;k.defaults=w;k.use=function(...r){return z.use(...r),k.defaults=z.defaults,H(k.defaults),k};k.walkTokens=function(r,i){return z.walkTokens(r,i)};k.parseInline=z.parseInline;k.Parser=T;k.parser=T.parse;k.Renderer=$;k.TextRenderer=_;k.Lexer=b;k.lexer=b.lex;k.Tokenizer=S;k.Hooks=L;k.parse=k;k.options;k.setOptions;k.use;k.walkTokens;k.parseInline;T.parse;b.lex;/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(i){return i});seal||(seal=function(i){return i});apply||(apply=function(i,s,l){return i.apply(s,l)});construct||(construct=function(i,s){return new i(...s)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(r){return function(i){i instanceof RegExp&&(i.lastIndex=0);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return apply(r,i,l)}}function unconstruct(r){return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return construct(r,s)}}function addToSet(r,i){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(r,null);let l=i.length;for(;l--;){let c=i[l];if(typeof c=="string"){const a=s(c);a!==c&&(isFrozen(i)||(i[l]=a),c=a)}r[c]=!0}return r}function cleanArray(r){for(let i=0;i<r.length;i++)objectHasOwnProperty(r,i)||(r[i]=null);return r}function clone(r){const i=create(null);for(const[s,l]of entries(r))objectHasOwnProperty(r,s)&&(Array.isArray(l)?i[s]=cleanArray(l):l&&typeof l=="object"&&l.constructor===Object?i[s]=clone(l):i[s]=l);return i}function lookupGetter(r,i){for(;r!==null;){const l=getOwnPropertyDescriptor(r,i);if(l){if(l.get)return unapply(l.get);if(typeof l.value=="function")return unapply(l.value)}r=getPrototypeOf(r)}function s(){return null}return s}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE={element:1,text:3,progressingInstruction:7,comment:8,document:9},getGlobal=function(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function(i,s){if(typeof i!="object"||typeof i.createPolicy!="function")return null;let l=null;const c="data-tt-policy-suffix";s&&s.hasAttribute(c)&&(l=s.getAttribute(c));const a="dompurify"+(l?"#"+l:"");try{return i.createPolicy(a,{createHTML(G){return G},createScriptURL(G){return G}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},_createHooksMap=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function createDOMPurify(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const i=Bn=>createDOMPurify(Bn);if(i.version="3.2.6",i.removed=[],!r||!r.document||r.document.nodeType!==NODE_TYPE.document||!r.Element)return i.isSupported=!1,i;let{document:s}=r;const l=s,c=l.currentScript,{DocumentFragment:a,HTMLTemplateElement:G,Node:tt,Element:it,NodeFilter:f,NamedNodeMap:u=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:p,DOMParser:y,trustedTypes:Z}=r,d=it.prototype,me=lookupGetter(d,"cloneNode"),et=lookupGetter(d,"remove"),E=lookupGetter(d,"nextSibling"),ct=lookupGetter(d,"childNodes"),mt=lookupGetter(d,"parentNode");if(typeof G=="function"){const Bn=s.createElement("template");Bn.content&&Bn.content.ownerDocument&&(s=Bn.content.ownerDocument)}let pt,nt="";const{implementation:ft,createNodeIterator:wt,createDocumentFragment:Pt,getElementsByTagName:St}=s,{importNode:jt}=l;let _t=_createHooksMap();i.isSupported=typeof entries=="function"&&typeof mt=="function"&&ft&&ft.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Vt,ERB_EXPR:Dt,TMPLIT_EXPR:$t,DATA_ATTR:Tt,ARIA_ATTR:Ct,IS_SCRIPT_OR_DATA:lt,ATTR_WHITESPACE:Ve,CUSTOM_ELEMENT:Y}=EXPRESSIONS;let{IS_ALLOWED_URI:ne}=EXPRESSIONS,ee=null;const rt=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let at=null;const vt=addToSet({},[...html,...svg,...mathMl,...xml]);let ut=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),x=null,st=null,ot=!0,gt=!0,yt=!1,xt=!0,Rt=!1,qt=!0,un=!1,Yt=!1,Qt=!1,Jt=!1,Gt=!1,nn=!1,fn=!0,an=!1;const _n="user-content-";let An=!0,Mn=!1,Yn={},ar=null;const er=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Tr=null;const dr=addToSet({},["audio","video","img","source","image","track"]);let hr=null;const or=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),oi="http://www.w3.org/1998/Math/MathML",Sr="http://www.w3.org/2000/svg",sn="http://www.w3.org/1999/xhtml";let Wt=sn,Ut=!1,mn=null;const lr=addToSet({},[oi,Sr,sn],stringToString);let zn=addToSet({},["mi","mo","mn","ms","mtext"]),Zn=addToSet({},["annotation-xml"]);const Jr=addToSet({},["title","style","font","a","script"]);let Dr=null;const gi=["application/xhtml+xml","text/html"],jr="text/html";let vr=null,zr=null;const _i=s.createElement("form"),xr=function(Ot){return Ot instanceof RegExp||Ot instanceof Function},mi=function(){let Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(zr&&zr===Ot)){if((!Ot||typeof Ot!="object")&&(Ot={}),Ot=clone(Ot),Dr=gi.indexOf(Ot.PARSER_MEDIA_TYPE)===-1?jr:Ot.PARSER_MEDIA_TYPE,vr=Dr==="application/xhtml+xml"?stringToString:stringToLowerCase,ee=objectHasOwnProperty(Ot,"ALLOWED_TAGS")?addToSet({},Ot.ALLOWED_TAGS,vr):rt,at=objectHasOwnProperty(Ot,"ALLOWED_ATTR")?addToSet({},Ot.ALLOWED_ATTR,vr):vt,mn=objectHasOwnProperty(Ot,"ALLOWED_NAMESPACES")?addToSet({},Ot.ALLOWED_NAMESPACES,stringToString):lr,hr=objectHasOwnProperty(Ot,"ADD_URI_SAFE_ATTR")?addToSet(clone(or),Ot.ADD_URI_SAFE_ATTR,vr):or,Tr=objectHasOwnProperty(Ot,"ADD_DATA_URI_TAGS")?addToSet(clone(dr),Ot.ADD_DATA_URI_TAGS,vr):dr,ar=objectHasOwnProperty(Ot,"FORBID_CONTENTS")?addToSet({},Ot.FORBID_CONTENTS,vr):er,x=objectHasOwnProperty(Ot,"FORBID_TAGS")?addToSet({},Ot.FORBID_TAGS,vr):clone({}),st=objectHasOwnProperty(Ot,"FORBID_ATTR")?addToSet({},Ot.FORBID_ATTR,vr):clone({}),Yn=objectHasOwnProperty(Ot,"USE_PROFILES")?Ot.USE_PROFILES:!1,ot=Ot.ALLOW_ARIA_ATTR!==!1,gt=Ot.ALLOW_DATA_ATTR!==!1,yt=Ot.ALLOW_UNKNOWN_PROTOCOLS||!1,xt=Ot.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Rt=Ot.SAFE_FOR_TEMPLATES||!1,qt=Ot.SAFE_FOR_XML!==!1,un=Ot.WHOLE_DOCUMENT||!1,Jt=Ot.RETURN_DOM||!1,Gt=Ot.RETURN_DOM_FRAGMENT||!1,nn=Ot.RETURN_TRUSTED_TYPE||!1,Qt=Ot.FORCE_BODY||!1,fn=Ot.SANITIZE_DOM!==!1,an=Ot.SANITIZE_NAMED_PROPS||!1,An=Ot.KEEP_CONTENT!==!1,Mn=Ot.IN_PLACE||!1,ne=Ot.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,Wt=Ot.NAMESPACE||sn,zn=Ot.MATHML_TEXT_INTEGRATION_POINTS||zn,Zn=Ot.HTML_INTEGRATION_POINTS||Zn,ut=Ot.CUSTOM_ELEMENT_HANDLING||{},Ot.CUSTOM_ELEMENT_HANDLING&&xr(Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ut.tagNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&xr(Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ut.attributeNameCheck=Ot.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ot.CUSTOM_ELEMENT_HANDLING&&typeof Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ut.allowCustomizedBuiltInElements=Ot.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Rt&&(gt=!1),Gt&&(Jt=!0),Yn&&(ee=addToSet({},text),at=[],Yn.html===!0&&(addToSet(ee,html$1),addToSet(at,html)),Yn.svg===!0&&(addToSet(ee,svg$1),addToSet(at,svg),addToSet(at,xml)),Yn.svgFilters===!0&&(addToSet(ee,svgFilters),addToSet(at,svg),addToSet(at,xml)),Yn.mathMl===!0&&(addToSet(ee,mathMl$1),addToSet(at,mathMl),addToSet(at,xml))),Ot.ADD_TAGS&&(ee===rt&&(ee=clone(ee)),addToSet(ee,Ot.ADD_TAGS,vr)),Ot.ADD_ATTR&&(at===vt&&(at=clone(at)),addToSet(at,Ot.ADD_ATTR,vr)),Ot.ADD_URI_SAFE_ATTR&&addToSet(hr,Ot.ADD_URI_SAFE_ATTR,vr),Ot.FORBID_CONTENTS&&(ar===er&&(ar=clone(ar)),addToSet(ar,Ot.FORBID_CONTENTS,vr)),An&&(ee["#text"]=!0),un&&addToSet(ee,["html","head","body"]),ee.table&&(addToSet(ee,["tbody"]),delete x.tbody),Ot.TRUSTED_TYPES_POLICY){if(typeof Ot.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ot.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');pt=Ot.TRUSTED_TYPES_POLICY,nt=pt.createHTML("")}else pt===void 0&&(pt=_createTrustedTypesPolicy(Z,c)),pt!==null&&typeof nt=="string"&&(nt=pt.createHTML(""));freeze&&freeze(Ot),zr=Ot}},li=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Fi=addToSet({},[...mathMl$1,...mathMlDisallowed]),Ai=function(Ot){let vn=mt(Ot);(!vn||!vn.tagName)&&(vn={namespaceURI:Wt,tagName:"template"});const Ln=stringToLowerCase(Ot.tagName),Lr=stringToLowerCase(vn.tagName);return mn[Ot.namespaceURI]?Ot.namespaceURI===Sr?vn.namespaceURI===sn?Ln==="svg":vn.namespaceURI===oi?Ln==="svg"&&(Lr==="annotation-xml"||zn[Lr]):!!li[Ln]:Ot.namespaceURI===oi?vn.namespaceURI===sn?Ln==="math":vn.namespaceURI===Sr?Ln==="math"&&Zn[Lr]:!!Fi[Ln]:Ot.namespaceURI===sn?vn.namespaceURI===Sr&&!Zn[Lr]||vn.namespaceURI===oi&&!zn[Lr]?!1:!Fi[Ln]&&(Jr[Ln]||!li[Ln]):!!(Dr==="application/xhtml+xml"&&mn[Ot.namespaceURI]):!1},Kr=function(Ot){arrayPush(i.removed,{element:Ot});try{mt(Ot).removeChild(Ot)}catch{et(Ot)}},Pr=function(Ot,vn){try{arrayPush(i.removed,{attribute:vn.getAttributeNode(Ot),from:vn})}catch{arrayPush(i.removed,{attribute:null,from:vn})}if(vn.removeAttribute(Ot),Ot==="is")if(Jt||Gt)try{Kr(vn)}catch{}else try{vn.setAttribute(Ot,"")}catch{}},ki=function(Ot){let vn=null,Ln=null;if(Qt)Ot="<remove></remove>"+Ot;else{const rr=stringMatch(Ot,/^[\r\n\t ]+/);Ln=rr&&rr[0]}Dr==="application/xhtml+xml"&&Wt===sn&&(Ot='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ot+"</body></html>");const Lr=pt?pt.createHTML(Ot):Ot;if(Wt===sn)try{vn=new y().parseFromString(Lr,Dr)}catch{}if(!vn||!vn.documentElement){vn=ft.createDocument(Wt,"template",null);try{vn.documentElement.innerHTML=Ut?nt:Lr}catch{}}const ri=vn.body||vn.documentElement;return Ot&&Ln&&ri.insertBefore(s.createTextNode(Ln),ri.childNodes[0]||null),Wt===sn?St.call(vn,un?"html":"body")[0]:un?vn.documentElement:ri},Ui=function(Ot){return wt.call(Ot.ownerDocument||Ot,Ot,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},As=function(Ot){return Ot instanceof p&&(typeof Ot.nodeName!="string"||typeof Ot.textContent!="string"||typeof Ot.removeChild!="function"||!(Ot.attributes instanceof u)||typeof Ot.removeAttribute!="function"||typeof Ot.setAttribute!="function"||typeof Ot.namespaceURI!="string"||typeof Ot.insertBefore!="function"||typeof Ot.hasChildNodes!="function")},Pa=function(Ot){return typeof tt=="function"&&Ot instanceof tt};function $i(Bn,Ot,vn){arrayForEach(Bn,Ln=>{Ln.call(i,Ot,vn,zr)})}const Ra=function(Ot){let vn=null;if($i(_t.beforeSanitizeElements,Ot,null),As(Ot))return Kr(Ot),!0;const Ln=vr(Ot.nodeName);if($i(_t.uponSanitizeElement,Ot,{tagName:Ln,allowedTags:ee}),qt&&Ot.hasChildNodes()&&!Pa(Ot.firstElementChild)&&regExpTest(/<[/\w!]/g,Ot.innerHTML)&&regExpTest(/<[/\w!]/g,Ot.textContent)||Ot.nodeType===NODE_TYPE.progressingInstruction||qt&&Ot.nodeType===NODE_TYPE.comment&&regExpTest(/<[/\w]/g,Ot.data))return Kr(Ot),!0;if(!ee[Ln]||x[Ln]){if(!x[Ln]&&ia(Ln)&&(ut.tagNameCheck instanceof RegExp&&regExpTest(ut.tagNameCheck,Ln)||ut.tagNameCheck instanceof Function&&ut.tagNameCheck(Ln)))return!1;if(An&&!ar[Ln]){const Lr=mt(Ot)||Ot.parentNode,ri=ct(Ot)||Ot.childNodes;if(ri&&Lr){const rr=ri.length;for(let ei=rr-1;ei>=0;--ei){const Ci=me(ri[ei],!0);Ci.__removalCount=(Ot.__removalCount||0)+1,Lr.insertBefore(Ci,E(Ot))}}}return Kr(Ot),!0}return Ot instanceof it&&!Ai(Ot)||(Ln==="noscript"||Ln==="noembed"||Ln==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,Ot.innerHTML)?(Kr(Ot),!0):(Rt&&Ot.nodeType===NODE_TYPE.text&&(vn=Ot.textContent,arrayForEach([Vt,Dt,$t],Lr=>{vn=stringReplace(vn,Lr," ")}),Ot.textContent!==vn&&(arrayPush(i.removed,{element:Ot.cloneNode()}),Ot.textContent=vn)),$i(_t.afterSanitizeElements,Ot,null),!1)},Ki=function(Ot,vn,Ln){if(fn&&(vn==="id"||vn==="name")&&(Ln in s||Ln in _i))return!1;if(!(gt&&!st[vn]&&regExpTest(Tt,vn))){if(!(ot&&regExpTest(Ct,vn))){if(!at[vn]||st[vn]){if(!(ia(Ot)&&(ut.tagNameCheck instanceof RegExp&&regExpTest(ut.tagNameCheck,Ot)||ut.tagNameCheck instanceof Function&&ut.tagNameCheck(Ot))&&(ut.attributeNameCheck instanceof RegExp&&regExpTest(ut.attributeNameCheck,vn)||ut.attributeNameCheck instanceof Function&&ut.attributeNameCheck(vn))||vn==="is"&&ut.allowCustomizedBuiltInElements&&(ut.tagNameCheck instanceof RegExp&&regExpTest(ut.tagNameCheck,Ln)||ut.tagNameCheck instanceof Function&&ut.tagNameCheck(Ln))))return!1}else if(!hr[vn]){if(!regExpTest(ne,stringReplace(Ln,Ve,""))){if(!((vn==="src"||vn==="xlink:href"||vn==="href")&&Ot!=="script"&&stringIndexOf(Ln,"data:")===0&&Tr[Ot])){if(!(yt&&!regExpTest(lt,stringReplace(Ln,Ve,"")))){if(Ln)return!1}}}}}}return!0},ia=function(Ot){return Ot!=="annotation-xml"&&stringMatch(Ot,Y)},sa=function(Ot){$i(_t.beforeSanitizeAttributes,Ot,null);const{attributes:vn}=Ot;if(!vn||As(Ot))return;const Ln={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:at,forceKeepAttr:void 0};let Lr=vn.length;for(;Lr--;){const ri=vn[Lr],{name:rr,namespaceURI:ei,value:Ci}=ri,gs=vr(rr),ms=Ci;let ii=rr==="value"?ms:stringTrim(ms);if(Ln.attrName=gs,Ln.attrValue=ii,Ln.keepAttr=!0,Ln.forceKeepAttr=void 0,$i(_t.uponSanitizeAttribute,Ot,Ln),ii=Ln.attrValue,an&&(gs==="id"||gs==="name")&&(Pr(rr,Ot),ii=_n+ii),qt&&regExpTest(/((--!?|])>)|<\/(style|title)/i,ii)){Pr(rr,Ot);continue}if(Ln.forceKeepAttr)continue;if(!Ln.keepAttr){Pr(rr,Ot);continue}if(!xt&&regExpTest(/\/>/i,ii)){Pr(rr,Ot);continue}Rt&&arrayForEach([Vt,Dt,$t],ks=>{ii=stringReplace(ii,ks," ")});const aa=vr(Ot.nodeName);if(!Ki(aa,gs,ii)){Pr(rr,Ot);continue}if(pt&&typeof Z=="object"&&typeof Z.getAttributeType=="function"&&!ei)switch(Z.getAttributeType(aa,gs)){case"TrustedHTML":{ii=pt.createHTML(ii);break}case"TrustedScriptURL":{ii=pt.createScriptURL(ii);break}}if(ii!==ms)try{ei?Ot.setAttributeNS(ei,rr,ii):Ot.setAttribute(rr,ii),As(Ot)?Kr(Ot):arrayPop(i.removed)}catch{Pr(rr,Ot)}}$i(_t.afterSanitizeAttributes,Ot,null)},oo=function Bn(Ot){let vn=null;const Ln=Ui(Ot);for($i(_t.beforeSanitizeShadowDOM,Ot,null);vn=Ln.nextNode();)$i(_t.uponSanitizeShadowNode,vn,null),Ra(vn),sa(vn),vn.content instanceof a&&Bn(vn.content);$i(_t.afterSanitizeShadowDOM,Ot,null)};return i.sanitize=function(Bn){let Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vn=null,Ln=null,Lr=null,ri=null;if(Ut=!Bn,Ut&&(Bn="<!-->"),typeof Bn!="string"&&!Pa(Bn))if(typeof Bn.toString=="function"){if(Bn=Bn.toString(),typeof Bn!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!i.isSupported)return Bn;if(Yt||mi(Ot),i.removed=[],typeof Bn=="string"&&(Mn=!1),Mn){if(Bn.nodeName){const Ci=vr(Bn.nodeName);if(!ee[Ci]||x[Ci])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Bn instanceof tt)vn=ki("<!---->"),Ln=vn.ownerDocument.importNode(Bn,!0),Ln.nodeType===NODE_TYPE.element&&Ln.nodeName==="BODY"||Ln.nodeName==="HTML"?vn=Ln:vn.appendChild(Ln);else{if(!Jt&&!Rt&&!un&&Bn.indexOf("<")===-1)return pt&&nn?pt.createHTML(Bn):Bn;if(vn=ki(Bn),!vn)return Jt?null:nn?nt:""}vn&&Qt&&Kr(vn.firstChild);const rr=Ui(Mn?Bn:vn);for(;Lr=rr.nextNode();)Ra(Lr),sa(Lr),Lr.content instanceof a&&oo(Lr.content);if(Mn)return Bn;if(Jt){if(Gt)for(ri=Pt.call(vn.ownerDocument);vn.firstChild;)ri.appendChild(vn.firstChild);else ri=vn;return(at.shadowroot||at.shadowrootmode)&&(ri=jt.call(l,ri,!0)),ri}let ei=un?vn.outerHTML:vn.innerHTML;return un&&ee["!doctype"]&&vn.ownerDocument&&vn.ownerDocument.doctype&&vn.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,vn.ownerDocument.doctype.name)&&(ei="<!DOCTYPE "+vn.ownerDocument.doctype.name+`>
`+ei),Rt&&arrayForEach([Vt,Dt,$t],Ci=>{ei=stringReplace(ei,Ci," ")}),pt&&nn?pt.createHTML(ei):ei},i.setConfig=function(){let Bn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mi(Bn),Yt=!0},i.clearConfig=function(){zr=null,Yt=!1},i.isValidAttribute=function(Bn,Ot,vn){zr||mi({});const Ln=vr(Bn),Lr=vr(Ot);return Ki(Ln,Lr,vn)},i.addHook=function(Bn,Ot){typeof Ot=="function"&&arrayPush(_t[Bn],Ot)},i.removeHook=function(Bn,Ot){if(Ot!==void 0){const vn=arrayLastIndexOf(_t[Bn],Ot);return vn===-1?void 0:arraySplice(_t[Bn],vn,1)[0]}return arrayPop(_t[Bn])},i.removeHooks=function(Bn){_t[Bn]=[]},i.removeAllHooks=function(){_t=_createHooksMap()},i}var purify=createDOMPurify();const cardContainer="_cardContainer_1xz2q_3",enter="_enter_1xz2q_51",fileName$1="_fileName_1xz2q_61",fileTypeExpansion="_fileTypeExpansion_1xz2q_77",fileSize="_fileSize_1xz2q_87",closeButton="_closeButton_1xz2q_95",styles$8={cardContainer,enter,fileName:fileName$1,fileTypeExpansion,fileSize,closeButton};function UploadedFileCard(r){const[i,s]=reactExports.useState(!1),[l,c]=reactExports.useState(!1);reactExports.useEffect(()=>{c(!0)},[]);const a=tt=>{const f=["Bytes","KB","MB","GB","TB"],u=Math.floor(Math.log(tt)/Math.log(1024));return parseFloat((tt/Math.pow(1024,u)).toFixed(2))+" "+f[u]},G=()=>{s(tt=>!tt)};return jsxRuntimeExports.jsxs("div",{className:`${styles$8.cardContainer} ${l?styles$8.enter:""} ${r.className||""}`,children:[jsxRuntimeExports.jsx("button",{className:styles$8.closeButton,onClick:r.onClose,children:"×"}),jsxRuntimeExports.jsxs(Text,{fontWeight:"bold",colorVariant:"primary",fontSize:"large",className:styles$8.fileName,children:[r.fileName,".",r.fileType]}),jsxRuntimeExports.jsx(Text,{fontWeight:"regular",colorVariant:"secondary",fontSize:"small",className:styles$8.fileTypeExpansion,children:"Portable document format"}),jsxRuntimeExports.jsx(Text,{colorVariant:"primary",onClick:G,interactable:!0,fontSize:"medium",className:styles$8.fileSize,children:i?`${r.fileSize} Bytes`:a(r.fileSize)})]})}function transformCitationsToLinks(r){const i=/\s*\[Source:\s*([^,]+?)\s*,\s*Page:\s*(\d+)\s*,\s*Lines:\s*(\d+\s*-\s*\d+)\s*,\s*Start:?\s*(\d+)\]/g;return r.replace(i,(s,l,c,a,G)=>{const tt=`https://the-ultimate-rag-hf-rag-integration-test.hf.space\\viewer\\${l}`;return console.log("File URL:",tt,"Page:",c,"Lines:",a,"Start:",G),` <a id="${tt}&${c}&${a}&${G}" href="${tt}" data-page="${c}" data-lines="${a}" data-start="${G}">[Source]</a>`})}function Message(r){const{textContent:i,sender:s,openFileViewer:l,files:c}=r,a=`${styles$9.messageBox} ${s==="user"?styles$9.userMessageBox:styles$9.systemMessageBox}`,G=`${styles$9.messageContainer} ${s==="user"?styles$9.userMessageContainer:styles$9.systemMessageContainer}`,[tt,it]=reactExports.useState("");reactExports.useEffect(()=>{(async()=>{const p=k.parse(transformCitationsToLinks(i));let y;p instanceof Promise?y=await p:y=p,it(purify.sanitize(y))})()},[i]);const f=u=>{const p=u.target;if(p.tagName==="A"&&p.hasAttribute("href")){u.preventDefault();const y=p.getAttribute("href"),Z=p.textContent??"",d=p.getAttribute("data-page"),me=p.getAttribute("data-lines"),et=p.getAttribute("data-start");console.log("File URL:",y,"Page:",d),l&&(l(y||"",Z,parseInt(d||"1"),me||"1-1",et||""),console.log("Opening file preview:",y))}};return jsxRuntimeExports.jsxs("div",{className:G,children:[c&&c.length>0&&jsxRuntimeExports.jsx("div",{className:styles$9.attachedFiles,children:c.map((u,p)=>jsxRuntimeExports.jsx(UploadedFileCard,{fileName:u.name,fileType:u.type,fileSize:u.size,onClose:()=>{}},p))}),jsxRuntimeExports.jsx("div",{className:a,onClick:f,children:jsxRuntimeExports.jsx(Text,{as:"div",interactable:!0,colorVariant:s==="user"?"button":"primary",children:jsxRuntimeExports.jsx("span",{className:styles$9.markdownContent,dangerouslySetInnerHTML:{__html:tt}})})})]})}const backdrop="_backdrop_628wb_5",popupContainer="_popupContainer_628wb_21",open="_open_628wb_55",popupHeader="_popupHeader_628wb_63",fileName="_fileName_628wb_79",viewerWrapper="_viewerWrapper_628wb_91",styles$7={backdrop,popupContainer,open,popupHeader,fileName,viewerWrapper};var lib$2={exports:{}},core_min={};function commonjsRequire(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(i,s){module.exports=i.pdfjsLib=s()})(globalThis,()=>(()=>{var __webpack_modules__=[,(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.VerbosityLevel=i.Util=i.UnknownErrorException=i.UnexpectedResponseException=i.TextRenderingMode=i.RenderingIntentFlag=i.PromiseCapability=i.PermissionFlag=i.PasswordResponses=i.PasswordException=i.PageActionEventType=i.OPS=i.MissingPDFException=i.MAX_IMAGE_SIZE_TO_CACHE=i.LINE_FACTOR=i.LINE_DESCENT_FACTOR=i.InvalidPDFException=i.ImageKind=i.IDENTITY_MATRIX=i.FormatError=i.FeatureTest=i.FONT_IDENTITY_MATRIX=i.DocumentActionEventType=i.CMapCompressionType=i.BaseException=i.BASELINE_FACTOR=i.AnnotationType=i.AnnotationReplyType=i.AnnotationPrefix=i.AnnotationMode=i.AnnotationFlag=i.AnnotationFieldFlag=i.AnnotationEditorType=i.AnnotationEditorPrefix=i.AnnotationEditorParamsType=i.AnnotationBorderStyleType=i.AnnotationActionEventType=i.AbortException=void 0,i.assert=Y,i.bytesToString=xt,i.createValidAbsoluteUrl=ee,i.getModificationDate=er,i.getUuid=oi,i.getVerbosityLevel=Tt,i.info=Ct,i.isArrayBuffer=Yn,i.isArrayEqual=ar,i.isNodeJS=void 0,i.normalizeUnicode=or,i.objectFromMap=Yt,i.objectSize=un,i.setVerbosityLevel=$t,i.shadow=rt,i.string32=qt,i.stringToBytes=Rt,i.stringToPDFString=_n,i.stringToUTF8String=An,i.unreachable=Ve,i.utf8StringToString=Mn,i.warn=lt;const s=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");i.isNodeJS=s;const l=[1,0,0,1,0,0];i.IDENTITY_MATRIX=l;const c=[.001,0,0,.001,0,0];i.FONT_IDENTITY_MATRIX=c;const a=1e7;i.MAX_IMAGE_SIZE_TO_CACHE=a;const G=1.35;i.LINE_FACTOR=G;const tt=.35;i.LINE_DESCENT_FACTOR=tt;const it=tt/G;i.BASELINE_FACTOR=it;const f={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};i.RenderingIntentFlag=f;const u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};i.AnnotationMode=u;const p="pdfjs_internal_editor_";i.AnnotationEditorPrefix=p;const y={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};i.AnnotationEditorType=y;const Z={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};i.AnnotationEditorParamsType=Z;const d={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};i.PermissionFlag=d;const me={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};i.TextRenderingMode=me;const et={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};i.ImageKind=et;const E={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};i.AnnotationType=E;const ct={GROUP:"Group",REPLY:"R"};i.AnnotationReplyType=ct;const mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};i.AnnotationFlag=mt;const pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};i.AnnotationFieldFlag=pt;const nt={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};i.AnnotationBorderStyleType=nt;const ft={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};i.AnnotationActionEventType=ft;const wt={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};i.DocumentActionEventType=wt;const Pt={O:"PageOpen",C:"PageClose"};i.PageActionEventType=Pt;const St={ERRORS:0,WARNINGS:1,INFOS:5};i.VerbosityLevel=St;const jt={NONE:0,BINARY:1};i.CMapCompressionType=jt;const _t={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};i.OPS=_t;const Vt={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};i.PasswordResponses=Vt;let Dt=St.WARNINGS;function $t(sn){Number.isInteger(sn)&&(Dt=sn)}function Tt(){return Dt}function Ct(sn){Dt>=St.INFOS&&console.log(`Info: ${sn}`)}function lt(sn){Dt>=St.WARNINGS&&console.log(`Warning: ${sn}`)}function Ve(sn){throw new Error(sn)}function Y(sn,Wt){sn||Ve(Wt)}function ne(sn){switch(sn?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ee(sn,Wt=null,Ut=null){if(!sn)return null;try{if(Ut&&typeof sn=="string"&&(Ut.addDefaultProtocol&&sn.startsWith("www.")&&sn.match(/\./g)?.length>=2&&(sn=`http://${sn}`),Ut.tryConvertEncoding))try{sn=An(sn)}catch{}const mn=Wt?new URL(sn,Wt):new URL(sn);if(ne(mn))return mn}catch{}return null}function rt(sn,Wt,Ut,mn=!1){return Object.defineProperty(sn,Wt,{value:Ut,enumerable:!mn,configurable:!0,writable:!1}),Ut}const at=function(){function Wt(Ut,mn){this.constructor===Wt&&Ve("Cannot initialize BaseException."),this.message=Ut,this.name=mn}return Wt.prototype=new Error,Wt.constructor=Wt,Wt}();i.BaseException=at;class vt extends at{constructor(Wt,Ut){super(Wt,"PasswordException"),this.code=Ut}}i.PasswordException=vt;class ut extends at{constructor(Wt,Ut){super(Wt,"UnknownErrorException"),this.details=Ut}}i.UnknownErrorException=ut;class x extends at{constructor(Wt){super(Wt,"InvalidPDFException")}}i.InvalidPDFException=x;class st extends at{constructor(Wt){super(Wt,"MissingPDFException")}}i.MissingPDFException=st;class ot extends at{constructor(Wt,Ut){super(Wt,"UnexpectedResponseException"),this.status=Ut}}i.UnexpectedResponseException=ot;class gt extends at{constructor(Wt){super(Wt,"FormatError")}}i.FormatError=gt;class yt extends at{constructor(Wt){super(Wt,"AbortException")}}i.AbortException=yt;function xt(sn){(typeof sn!="object"||sn?.length===void 0)&&Ve("Invalid argument for bytesToString");const Wt=sn.length,Ut=8192;if(Wt<Ut)return String.fromCharCode.apply(null,sn);const mn=[];for(let lr=0;lr<Wt;lr+=Ut){const zn=Math.min(lr+Ut,Wt),Zn=sn.subarray(lr,zn);mn.push(String.fromCharCode.apply(null,Zn))}return mn.join("")}function Rt(sn){typeof sn!="string"&&Ve("Invalid argument for stringToBytes");const Wt=sn.length,Ut=new Uint8Array(Wt);for(let mn=0;mn<Wt;++mn)Ut[mn]=sn.charCodeAt(mn)&255;return Ut}function qt(sn){return String.fromCharCode(sn>>24&255,sn>>16&255,sn>>8&255,sn&255)}function un(sn){return Object.keys(sn).length}function Yt(sn){const Wt=Object.create(null);for(const[Ut,mn]of sn)Wt[Ut]=mn;return Wt}function Qt(){const sn=new Uint8Array(4);return sn[0]=1,new Uint32Array(sn.buffer,0,1)[0]===1}function Jt(){try{return new Function(""),!0}catch{return!1}}class Gt{static get isLittleEndian(){return rt(this,"isLittleEndian",Qt())}static get isEvalSupported(){return rt(this,"isEvalSupported",Jt())}static get isOffscreenCanvasSupported(){return rt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?rt(this,"platform",{isWin:!1,isMac:!1}):rt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){return rt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}i.FeatureTest=Gt;const nn=[...Array(256).keys()].map(sn=>sn.toString(16).padStart(2,"0"));class fn{static makeHexColor(Wt,Ut,mn){return`#${nn[Wt]}${nn[Ut]}${nn[mn]}`}static scaleMinMax(Wt,Ut){let mn;Wt[0]?(Wt[0]<0&&(mn=Ut[0],Ut[0]=Ut[1],Ut[1]=mn),Ut[0]*=Wt[0],Ut[1]*=Wt[0],Wt[3]<0&&(mn=Ut[2],Ut[2]=Ut[3],Ut[3]=mn),Ut[2]*=Wt[3],Ut[3]*=Wt[3]):(mn=Ut[0],Ut[0]=Ut[2],Ut[2]=mn,mn=Ut[1],Ut[1]=Ut[3],Ut[3]=mn,Wt[1]<0&&(mn=Ut[2],Ut[2]=Ut[3],Ut[3]=mn),Ut[2]*=Wt[1],Ut[3]*=Wt[1],Wt[2]<0&&(mn=Ut[0],Ut[0]=Ut[1],Ut[1]=mn),Ut[0]*=Wt[2],Ut[1]*=Wt[2]),Ut[0]+=Wt[4],Ut[1]+=Wt[4],Ut[2]+=Wt[5],Ut[3]+=Wt[5]}static transform(Wt,Ut){return[Wt[0]*Ut[0]+Wt[2]*Ut[1],Wt[1]*Ut[0]+Wt[3]*Ut[1],Wt[0]*Ut[2]+Wt[2]*Ut[3],Wt[1]*Ut[2]+Wt[3]*Ut[3],Wt[0]*Ut[4]+Wt[2]*Ut[5]+Wt[4],Wt[1]*Ut[4]+Wt[3]*Ut[5]+Wt[5]]}static applyTransform(Wt,Ut){const mn=Wt[0]*Ut[0]+Wt[1]*Ut[2]+Ut[4],lr=Wt[0]*Ut[1]+Wt[1]*Ut[3]+Ut[5];return[mn,lr]}static applyInverseTransform(Wt,Ut){const mn=Ut[0]*Ut[3]-Ut[1]*Ut[2],lr=(Wt[0]*Ut[3]-Wt[1]*Ut[2]+Ut[2]*Ut[5]-Ut[4]*Ut[3])/mn,zn=(-Wt[0]*Ut[1]+Wt[1]*Ut[0]+Ut[4]*Ut[1]-Ut[5]*Ut[0])/mn;return[lr,zn]}static getAxialAlignedBoundingBox(Wt,Ut){const mn=this.applyTransform(Wt,Ut),lr=this.applyTransform(Wt.slice(2,4),Ut),zn=this.applyTransform([Wt[0],Wt[3]],Ut),Zn=this.applyTransform([Wt[2],Wt[1]],Ut);return[Math.min(mn[0],lr[0],zn[0],Zn[0]),Math.min(mn[1],lr[1],zn[1],Zn[1]),Math.max(mn[0],lr[0],zn[0],Zn[0]),Math.max(mn[1],lr[1],zn[1],Zn[1])]}static inverseTransform(Wt){const Ut=Wt[0]*Wt[3]-Wt[1]*Wt[2];return[Wt[3]/Ut,-Wt[1]/Ut,-Wt[2]/Ut,Wt[0]/Ut,(Wt[2]*Wt[5]-Wt[4]*Wt[3])/Ut,(Wt[4]*Wt[1]-Wt[5]*Wt[0])/Ut]}static singularValueDecompose2dScale(Wt){const Ut=[Wt[0],Wt[2],Wt[1],Wt[3]],mn=Wt[0]*Ut[0]+Wt[1]*Ut[2],lr=Wt[0]*Ut[1]+Wt[1]*Ut[3],zn=Wt[2]*Ut[0]+Wt[3]*Ut[2],Zn=Wt[2]*Ut[1]+Wt[3]*Ut[3],Jr=(mn+Zn)/2,Dr=Math.sqrt((mn+Zn)**2-4*(mn*Zn-zn*lr))/2,gi=Jr+Dr||1,jr=Jr-Dr||1;return[Math.sqrt(gi),Math.sqrt(jr)]}static normalizeRect(Wt){const Ut=Wt.slice(0);return Wt[0]>Wt[2]&&(Ut[0]=Wt[2],Ut[2]=Wt[0]),Wt[1]>Wt[3]&&(Ut[1]=Wt[3],Ut[3]=Wt[1]),Ut}static intersect(Wt,Ut){const mn=Math.max(Math.min(Wt[0],Wt[2]),Math.min(Ut[0],Ut[2])),lr=Math.min(Math.max(Wt[0],Wt[2]),Math.max(Ut[0],Ut[2]));if(mn>lr)return null;const zn=Math.max(Math.min(Wt[1],Wt[3]),Math.min(Ut[1],Ut[3])),Zn=Math.min(Math.max(Wt[1],Wt[3]),Math.max(Ut[1],Ut[3]));return zn>Zn?null:[mn,zn,lr,Zn]}static bezierBoundingBox(Wt,Ut,mn,lr,zn,Zn,Jr,Dr){const gi=[],jr=[[],[]];let vr,zr,_i,xr,mi,li,Fi,Ai;for(let Ui=0;Ui<2;++Ui){if(Ui===0?(zr=6*Wt-12*mn+6*zn,vr=-3*Wt+9*mn-9*zn+3*Jr,_i=3*mn-3*Wt):(zr=6*Ut-12*lr+6*Zn,vr=-3*Ut+9*lr-9*Zn+3*Dr,_i=3*lr-3*Ut),Math.abs(vr)<1e-12){if(Math.abs(zr)<1e-12)continue;xr=-_i/zr,0<xr&&xr<1&&gi.push(xr);continue}Fi=zr*zr-4*_i*vr,Ai=Math.sqrt(Fi),!(Fi<0)&&(mi=(-zr+Ai)/(2*vr),0<mi&&mi<1&&gi.push(mi),li=(-zr-Ai)/(2*vr),0<li&&li<1&&gi.push(li))}let Kr=gi.length,Pr;const ki=Kr;for(;Kr--;)xr=gi[Kr],Pr=1-xr,jr[0][Kr]=Pr*Pr*Pr*Wt+3*Pr*Pr*xr*mn+3*Pr*xr*xr*zn+xr*xr*xr*Jr,jr[1][Kr]=Pr*Pr*Pr*Ut+3*Pr*Pr*xr*lr+3*Pr*xr*xr*Zn+xr*xr*xr*Dr;return jr[0][ki]=Wt,jr[1][ki]=Ut,jr[0][ki+1]=Jr,jr[1][ki+1]=Dr,jr[0].length=jr[1].length=ki+2,[Math.min(...jr[0]),Math.min(...jr[1]),Math.max(...jr[0]),Math.max(...jr[1])]}}i.Util=fn;const an=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function _n(sn){if(sn[0]>="ï"){let Ut;if(sn[0]==="þ"&&sn[1]==="ÿ"?Ut="utf-16be":sn[0]==="ÿ"&&sn[1]==="þ"?Ut="utf-16le":sn[0]==="ï"&&sn[1]==="»"&&sn[2]==="¿"&&(Ut="utf-8"),Ut)try{const mn=new TextDecoder(Ut,{fatal:!0}),lr=Rt(sn);return mn.decode(lr)}catch(mn){lt(`stringToPDFString: "${mn}".`)}}const Wt=[];for(let Ut=0,mn=sn.length;Ut<mn;Ut++){const lr=an[sn.charCodeAt(Ut)];Wt.push(lr?String.fromCharCode(lr):sn.charAt(Ut))}return Wt.join("")}function An(sn){return decodeURIComponent(escape(sn))}function Mn(sn){return unescape(encodeURIComponent(sn))}function Yn(sn){return typeof sn=="object"&&sn?.byteLength!==void 0}function ar(sn,Wt){if(sn.length!==Wt.length)return!1;for(let Ut=0,mn=sn.length;Ut<mn;Ut++)if(sn[Ut]!==Wt[Ut])return!1;return!0}function er(sn=new Date){return[sn.getUTCFullYear().toString(),(sn.getUTCMonth()+1).toString().padStart(2,"0"),sn.getUTCDate().toString().padStart(2,"0"),sn.getUTCHours().toString().padStart(2,"0"),sn.getUTCMinutes().toString().padStart(2,"0"),sn.getUTCSeconds().toString().padStart(2,"0")].join("")}class Tr{#e=!1;constructor(){this.promise=new Promise((Wt,Ut)=>{this.resolve=mn=>{this.#e=!0,Wt(mn)},this.reject=mn=>{this.#e=!0,Ut(mn)}})}get settled(){return this.#e}}i.PromiseCapability=Tr;let dr=null,hr=null;function or(sn){return dr||(dr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,hr=new Map([["ﬅ","ſt"]])),sn.replaceAll(dr,(Wt,Ut,mn)=>Ut?Ut.normalize("NFKC"):hr.get(mn))}function oi(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const sn=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(sn);else for(let Wt=0;Wt<32;Wt++)sn[Wt]=Math.floor(Math.random()*255);return xt(sn)}const Sr="pdfjs_internal_id_";i.AnnotationPrefix=Sr},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_displayNode_utils=__w_pdfjs_require__(10),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_displayFetch_stream=__w_pdfjs_require__(19),_displayNetwork=__w_pdfjs_require__(22),_displayNode_stream=__w_pdfjs_require__(23),_displaySvg=__w_pdfjs_require__(24),_xfa_text=__w_pdfjs_require__(25);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument(r){if(typeof r=="string"||r instanceof URL?r={url:r}:(0,_util.isArrayBuffer)(r)&&(r={data:r}),typeof r!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!r.url&&!r.data&&!r.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const i=new PDFDocumentLoadingTask,{docId:s}=i,l=r.url?getUrlProp(r.url):null,c=r.data?getDataProp(r.data):null,a=r.httpHeaders||null,G=r.withCredentials===!0,tt=r.password??null,it=r.range instanceof PDFDataRangeTransport?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let u=r.worker instanceof PDFWorker?r.worker:null;const p=r.verbosity,y=typeof r.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)(r.docBaseUrl)?r.docBaseUrl:null,Z=typeof r.cMapUrl=="string"?r.cMapUrl:null,d=r.cMapPacked!==!1,me=r.CMapReaderFactory||DefaultCMapReaderFactory,et=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,E=r.StandardFontDataFactory||DefaultStandardFontDataFactory,ct=r.stopAtErrors!==!0,mt=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,pt=r.isEvalSupported!==!1,nt=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!_util.isNodeJS,ft=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,wt=typeof r.disableFontFace=="boolean"?r.disableFontFace:_util.isNodeJS,Pt=r.fontExtraProperties===!0,St=r.enableXfa===!0,jt=r.ownerDocument||globalThis.document,_t=r.disableRange===!0,Vt=r.disableStream===!0,Dt=r.disableAutoFetch===!0,$t=r.pdfBug===!0,Tt=it?it.length:r.length??NaN,Ct=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!_util.isNodeJS&&!wt,lt=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:me===_display_utils.DOMCMapReaderFactory&&E===_display_utils.DOMStandardFontDataFactory&&Z&&et&&(0,_display_utils.isValidFetchUrl)(Z,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(et,document.baseURI),Ve=r.canvasFactory||new DefaultCanvasFactory({ownerDocument:jt}),Y=r.filterFactory||new DefaultFilterFactory({docId:s,ownerDocument:jt}),ne=null;(0,_util.setVerbosityLevel)(p);const ee={canvasFactory:Ve,filterFactory:Y};if(lt||(ee.cMapReaderFactory=new me({baseUrl:Z,isCompressed:d}),ee.standardFontDataFactory=new E({baseUrl:et})),!u){const vt={verbosity:p,port:_worker_options.GlobalWorkerOptions.workerPort};u=vt.port?PDFWorker.fromPort(vt):new PDFWorker(vt),i._worker=u}const rt={docId:s,apiVersion:"3.11.174",data:c,password:tt,disableAutoFetch:Dt,rangeChunkSize:f,length:Tt,docBaseUrl:y,enableXfa:St,evaluatorOptions:{maxImageSize:mt,disableFontFace:wt,ignoreErrors:ct,isEvalSupported:pt,isOffscreenCanvasSupported:nt,canvasMaxAreaInBytes:ft,fontExtraProperties:Pt,useSystemFonts:Ct,cMapUrl:lt?Z:null,standardFontDataUrl:lt?et:null}},at={ignoreErrors:ct,isEvalSupported:pt,disableFontFace:wt,fontExtraProperties:Pt,enableXfa:St,ownerDocument:jt,disableAutoFetch:Dt,pdfBug:$t,styleElement:ne};return u.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");const vt=_fetchDocument(u,rt),ut=new Promise(function(x){let st;it?st=new _transport_stream.PDFDataTransportStream({length:Tt,initialData:it.initialData,progressiveDone:it.progressiveDone,contentDispositionFilename:it.contentDispositionFilename,disableRange:_t,disableStream:Vt},it):c||(st=(gt=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(gt):(0,_display_utils.isValidFetchUrl)(gt.url)?new _displayFetch_stream.PDFFetchStream(gt):new _displayNetwork.PDFNetworkStream(gt))({url:l,length:Tt,httpHeaders:a,withCredentials:G,rangeChunkSize:f,disableRange:_t,disableStream:Vt})),x(st)});return Promise.all([vt,ut]).then(function([x,st]){if(i.destroyed)throw new Error("Loading aborted");const ot=new _message_handler.MessageHandler(s,x,u.port),gt=new WorkerTransport(ot,i,st,at,ee);i._transport=gt,ot.send("Ready",null)})}).catch(i._capability.reject),i}async function _fetchDocument(r,i){if(r.destroyed)throw new Error("Worker was destroyed");const s=await r.messageHandler.sendWithPromise("GetDocRequest",i,i.data?[i.data.buffer]:null);if(r.destroyed)throw new Error("Worker was destroyed");return s}function getUrlProp(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(_util.isNodeJS&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(r){if(_util.isNodeJS&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return(0,_util.stringToBytes)(r);if(typeof r=="object"&&!isNaN(r?.length)||(0,_util.isArrayBuffer)(r))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(i){throw this._worker?.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(i,s,l=!1,c=null){this.length=i,this.initialData=s,this.progressiveDone=l,this.contentDispositionFilename=c,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(i){this._rangeListeners.push(i)}addProgressListener(i){this._progressListeners.push(i)}addProgressiveReadListener(i){this._progressiveReadListeners.push(i)}addProgressiveDoneListener(i){this._progressiveDoneListeners.push(i)}onDataRange(i,s){for(const l of this._rangeListeners)l(i,s)}onDataProgress(i,s){this._readyCapability.promise.then(()=>{for(const l of this._progressListeners)l(i,s)})}onDataProgressiveRead(i){this._readyCapability.promise.then(()=>{for(const s of this._progressiveReadListeners)s(i)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const i of this._progressiveDoneListeners)i()})}transportReady(){this._readyCapability.resolve()}requestDataRange(i,s){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(i,s){this._pdfInfo=i,this._transport=s,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(l=>{if(!l)return l;const c=[];for(const a in l)c.push(...l[a]);return c}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(i){return this._transport.getPage(i)}getPageIndex(i){return this._transport.getPageIndex(i)}getDestinations(){return this._transport.getDestinations()}getDestination(i){return this._transport.getDestination(i)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(i=!1){return this._transport.startCleanup(i||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{#e=null;#t=!1;constructor(i,s,l,c=!1){this._pageIndex=i,this._pageInfo=s,this._transport=l,this._stats=c?new _display_utils.StatTimer:null,this._pdfBug=c,this.commonObjs=l.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:i,rotation:s=this.rotate,offsetX:l=0,offsetY:c=0,dontFlip:a=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:i,rotation:s,offsetX:l,offsetY:c,dontFlip:a})}getAnnotations({intent:i="display"}={}){const s=this._transport.getRenderingIntent(i);return this._transport.getAnnotations(this._pageIndex,s.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:i,viewport:s,intent:l="display",annotationMode:c=_util.AnnotationMode.ENABLE,transform:a=null,background:G=null,optionalContentConfigPromise:tt=null,annotationCanvasMap:it=null,pageColors:f=null,printAnnotationStorage:u=null}){this._stats?.time("Overall");const p=this._transport.getRenderingIntent(l,c,u);this.#t=!1,this.#r(),tt||(tt=this._transport.getOptionalContentConfig());let y=this._intentStates.get(p.cacheKey);y||(y=Object.create(null),this._intentStates.set(p.cacheKey,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const Z=!!(p.renderingIntent&_util.RenderingIntentFlag.PRINT);y.displayReadyCapability||(y.displayReadyCapability=new _util.PromiseCapability,y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(p));const d=E=>{y.renderTasks.delete(me),(this._maybeCleanupAfterRender||Z)&&(this.#t=!0),this.#n(!Z),E?(me.capability.reject(E),this._abortOperatorList({intentState:y,reason:E instanceof Error?E:new Error(E)})):me.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},me=new InternalRenderTask({callback:d,params:{canvasContext:i,viewport:s,transform:a,background:G},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:it,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Z,pdfBug:this._pdfBug,pageColors:f});(y.renderTasks||=new Set).add(me);const et=me.task;return Promise.all([y.displayReadyCapability.promise,tt]).then(([E,ct])=>{if(this.destroyed){d();return}this._stats?.time("Rendering"),me.initializeGraphics({transparency:E,optionalContentConfig:ct}),me.operatorListChanged()}).catch(d),et}getOperatorList({intent:i="display",annotationMode:s=_util.AnnotationMode.ENABLE,printAnnotationStorage:l=null}={}){function c(){G.operatorList.lastChunk&&(G.opListReadCapability.resolve(G.operatorList),G.renderTasks.delete(tt))}const a=this._transport.getRenderingIntent(i,s,l,!0);let G=this._intentStates.get(a.cacheKey);G||(G=Object.create(null),this._intentStates.set(a.cacheKey,G));let tt;return G.opListReadCapability||(tt=Object.create(null),tt.operatorListChanged=c,G.opListReadCapability=new _util.PromiseCapability,(G.renderTasks||=new Set).add(tt),G.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),G.opListReadCapability.promise}streamTextContent({includeMarkedContent:i=!1,disableNormalization:s=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:i===!0,disableNormalization:s===!0},{highWaterMark:100,size(c){return c.items.length}})}getTextContent(i={}){if(this._transport._htmlForXfa)return this.getXfa().then(l=>_xfa_text.XfaText.textContent(l));const s=this.streamTextContent(i);return new Promise(function(l,c){function a(){G.read().then(function({value:it,done:f}){if(f){l(tt);return}Object.assign(tt.styles,it.styles),tt.items.push(...it.items),a()},c)}const G=s.getReader(),tt={items:[],styles:Object.create(null)};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const i=[];for(const s of this._intentStates.values())if(this._abortOperatorList({intentState:s,reason:new Error("Page was destroyed."),force:!0}),!s.opListReadCapability)for(const l of s.renderTasks)i.push(l.completed),l.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(i)}cleanup(i=!1){this.#t=!0;const s=this.#n(!1);return i&&s&&(this._stats&&=new _display_utils.StatTimer),s}#n(i=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(i)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},DELAYED_CLEANUP_TIMEOUT),!1;for(const{renderTasks:s,operatorList:l}of this._intentStates.values())if(s.size>0||!l.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(i,s){const l=this._intentStates.get(s);l&&(this._stats?.timeEnd("Page Request"),l.displayReadyCapability?.resolve(i))}_renderPageChunk(i,s){for(let l=0,c=i.length;l<c;l++)s.operatorList.fnArray.push(i.fnArray[l]),s.operatorList.argsArray.push(i.argsArray[l]);s.operatorList.lastChunk=i.lastChunk,s.operatorList.separateAnnots=i.separateAnnots;for(const l of s.renderTasks)l.operatorListChanged();i.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:i,cacheKey:s,annotationStorageSerializable:l}){const{map:c,transfers:a}=l,tt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:i,cacheKey:s,annotationStorage:c},a).getReader(),it=this._intentStates.get(s);it.streamReader=tt;const f=()=>{tt.read().then(({value:u,done:p})=>{if(p){it.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,it),f())},u=>{if(it.streamReader=null,!this._transport.destroyed){if(it.operatorList){it.operatorList.lastChunk=!0;for(const p of it.renderTasks)p.operatorListChanged();this.#n(!0)}if(it.displayReadyCapability)it.displayReadyCapability.reject(u);else if(it.opListReadCapability)it.opListReadCapability.reject(u);else throw u}})};f()}_abortOperatorList({intentState:i,reason:s,force:l=!1}){if(i.streamReader){if(i.streamReaderCancelTimeout&&(clearTimeout(i.streamReaderCancelTimeout),i.streamReaderCancelTimeout=null),!l){if(i.renderTasks.size>0)return;if(s instanceof _display_utils.RenderingCancelledException){let c=RENDERING_CANCELLED_TIMEOUT;s.extraDelay>0&&s.extraDelay<1e3&&(c+=s.extraDelay),i.streamReaderCancelTimeout=setTimeout(()=>{i.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:i,reason:s,force:!0})},c);return}}if(i.streamReader.cancel(new _util.AbortException(s.message)).catch(()=>{}),i.streamReader=null,!this._transport.destroyed){for(const[c,a]of this._intentStates)if(a===i){this._intentStates.delete(c);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{#e=new Set;#t=Promise.resolve();postMessage(i,s){const l={data:structuredClone(i,s?{transfer:s}:null)};this.#t.then(()=>{for(const c of this.#e)c.call(this,l)})}addEventListener(i,s){this.#e.add(s)}removeEventListener(i,s){this.#e.delete(s)}terminate(){this.#e.clear()}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const r=document?.currentScript?.src;r&&(PDFWorkerUtil.fallbackWorkerSrc=r.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(r,i){let s;try{if(s=new URL(r),!s.origin||s.origin==="null")return!1}catch{return!1}const l=new URL(i,s);return s.origin===l.origin},PDFWorkerUtil.createCDNWrapper=function(r){const i=`importScripts("${r}");`;return URL.createObjectURL(new Blob([i]))}}class PDFWorker{static#workerPorts;constructor({name:r=null,port:i=null,verbosity:s=(0,_util.getVerbosityLevel)()}={}){if(this.name=r,this.destroyed=!1,this.verbosity=s,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,i){if(PDFWorker.#workerPorts?.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(PDFWorker.#workerPorts||=new WeakMap).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(r){this._port=r,this._messageHandler=new _message_handler.MessageHandler("main","worker",r),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:r}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,r)||(r=PDFWorkerUtil.createCDNWrapper(new URL(r,window.location).href));const i=new Worker(r),s=new _message_handler.MessageHandler("main","worker",i),l=()=>{i.removeEventListener("error",c),s.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},c=()=>{this._webWorker||l()};i.addEventListener("error",c),s.on("test",G=>{if(i.removeEventListener("error",c),this.destroyed){l();return}G?(this._messageHandler=s,this._port=i,this._webWorker=i,this._readyCapability.resolve(),s.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),s.destroy(),i.terminate())}),s.on("ready",G=>{if(i.removeEventListener("error",c),this.destroyed){l();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const G=new Uint8Array;s.send("test",G,[G.buffer])};a();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(r=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new LoopbackPort;this._port=i;const s=`fake${PDFWorkerUtil.fakeWorkerId++}`,l=new _message_handler.MessageHandler(s+"_worker",s,i);r.setup(l,i);const c=new _message_handler.MessageHandler(s,s+"_worker",i);this._messageHandler=c,this._readyCapability.resolve(),c.send("configure",{verbosity:this.verbosity})}).catch(r=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${r.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(r){if(!r?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const i=this.#workerPorts?.get(r.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new PDFWorker(r)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker;class WorkerTransport{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(i,s,l,c,a){this.messageHandler=i,this.loadingTask=s,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:c.ownerDocument,styleElement:c.styleElement}),this._params=c,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=l,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}#o(i,s=null){const l=this.#e.get(i);if(l)return l;const c=this.messageHandler.sendWithPromise(i,s);return this.#e.set(i,c),c}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(i,s=_util.AnnotationMode.ENABLE,l=null,c=!1){let a=_util.RenderingIntentFlag.DISPLAY,G=_annotation_storage.SerializableEmpty;switch(i){case"any":a=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${i}`)}switch(s){case _util.AnnotationMode.DISABLE:a+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:a+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:a+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,G=(a&_util.RenderingIntentFlag.PRINT&&l instanceof _annotation_storage.PrintAnnotationStorage?l:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${s}`)}return c&&(a+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:a,cacheKey:`${a}_${G.hash}`,annotationStorageSerializable:G}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const i=[];for(const l of this.#t.values())i.push(l._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const s=this.messageHandler.sendWithPromise("Terminate",null);return i.push(s),Promise.all(i).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:i,loadingTask:s}=this;i.on("GetReader",(l,c)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},c.onPull=()=>{this._fullReader.read().then(function({value:a,done:G}){if(G){c.close();return}(0,_util.assert)(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{c.error(a)})},c.onCancel=a=>{this._fullReader.cancel(a),c.ready.catch(G=>{if(!this.destroyed)throw G})}}),i.on("ReaderHeadersReady",l=>{const c=new _util.PromiseCapability,a=this._fullReader;return a.headersReady.then(()=>{(!a.isStreamingSupported||!a.isRangeSupported)&&(this._lastProgress&&s.onProgress?.(this._lastProgress),a.onProgress=G=>{s.onProgress?.({loaded:G.loaded,total:G.total})}),c.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},c.reject),c.promise}),i.on("GetRangeReader",(l,c)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(l.begin,l.end);if(!a){c.close();return}c.onPull=()=>{a.read().then(function({value:G,done:tt}){if(tt){c.close();return}(0,_util.assert)(G instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),c.enqueue(new Uint8Array(G),1,[G])}).catch(G=>{c.error(G)})},c.onCancel=G=>{a.cancel(G),c.ready.catch(tt=>{if(!this.destroyed)throw tt})}}),i.on("GetDoc",({pdfInfo:l})=>{this._numPages=l.numPages,this._htmlForXfa=l.htmlForXfa,delete l.htmlForXfa,s._capability.resolve(new PDFDocumentProxy(l,this))}),i.on("DocException",function(l){let c;switch(l.name){case"PasswordException":c=new _util.PasswordException(l.message,l.code);break;case"InvalidPDFException":c=new _util.InvalidPDFException(l.message);break;case"MissingPDFException":c=new _util.MissingPDFException(l.message);break;case"UnexpectedResponseException":c=new _util.UnexpectedResponseException(l.message,l.status);break;case"UnknownErrorException":c=new _util.UnknownErrorException(l.message,l.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}s._capability.reject(c)}),i.on("PasswordRequest",l=>{if(this.#r=new _util.PromiseCapability,s.onPassword){const c=a=>{a instanceof Error?this.#r.reject(a):this.#r.resolve({password:a})};try{s.onPassword(c,l.code)}catch(a){this.#r.reject(a)}}else this.#r.reject(new _util.PasswordException(l.message,l.code));return this.#r.promise}),i.on("DataLoaded",l=>{s.onProgress?.({loaded:l.length,total:l.length}),this.downloadInfoCapability.resolve(l)}),i.on("StartRenderPage",l=>{if(this.destroyed)return;this.#t.get(l.pageIndex)._startRenderPage(l.transparency,l.cacheKey)}),i.on("commonobj",([l,c,a])=>{if(!this.destroyed&&!this.commonObjs.has(l))switch(c){case"Font":const G=this._params;if("error"in a){const f=a.error;(0,_util.warn)(`Error during font loading: ${f}`),this.commonObjs.resolve(l,f);break}const tt=G.pdfBug&&globalThis.FontInspector?.enabled?(f,u)=>globalThis.FontInspector.fontAdded(f,u):null,it=new _font_loader.FontFaceObject(a,{isEvalSupported:G.isEvalSupported,disableFontFace:G.disableFontFace,ignoreErrors:G.ignoreErrors,inspectFont:tt});this.fontLoader.bind(it).catch(f=>i.sendWithPromise("FontFallback",{id:l})).finally(()=>{!G.fontExtraProperties&&it.data&&(it.data=null),this.commonObjs.resolve(l,it)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(l,a);break;default:throw new Error(`Got unknown common object type ${c}`)}}),i.on("obj",([l,c,a,G])=>{if(this.destroyed)return;const tt=this.#t.get(c);if(!tt.objs.has(l))switch(a){case"Image":if(tt.objs.resolve(l,G),G){let it;if(G.bitmap){const{width:f,height:u}=G;it=f*u*4}else it=G.data?.length||0;it>_util.MAX_IMAGE_SIZE_TO_CACHE&&(tt._maybeCleanupAfterRender=!0)}break;case"Pattern":tt.objs.resolve(l,G);break;default:throw new Error(`Got unknown object type ${a}`)}}),i.on("DocProgress",l=>{this.destroyed||s.onProgress?.({loaded:l.loaded,total:l.total})}),i.on("FetchBuiltInCMap",l=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(l):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),i.on("FetchStandardFontData",l=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(l):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:i,transfers:s}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:this._fullReader?.filename??null},s).finally(()=>{this.annotationStorage.resetModified()})}getPage(i){if(!Number.isInteger(i)||i<=0||i>this._numPages)return Promise.reject(new Error("Invalid page request."));const s=i-1,l=this.#n.get(s);if(l)return l;const c=this.messageHandler.sendWithPromise("GetPage",{pageIndex:s}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");const G=new PDFPageProxy(s,a,this,this._params.pdfBug);return this.#t.set(s,G),G});return this.#n.set(s,c),c}getPageIndex(i){return typeof i!="object"||i===null||!Number.isInteger(i.num)||i.num<0||!Number.isInteger(i.gen)||i.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:i.num,gen:i.gen})}getAnnotations(i,s){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:i,intent:s})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(i){return typeof i!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:i})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(i){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:i})}getStructTree(i){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:i})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(i=>new _optional_content_config.OptionalContentConfig(i))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const i="GetMetadata",s=this.#e.get(i);if(s)return s;const l=this.messageHandler.sendWithPromise(i,null).then(c=>({info:c[0],metadata:c[1]?new _metadata.Metadata(c[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(i,l),l}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(i=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const s of this.#t.values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);this.commonObjs.clear(),i||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:i,enableXfa:s}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:i,enableXfa:s})}}class PDFObjects{#e=Object.create(null);#t(i){return this.#e[i]||={capability:new _util.PromiseCapability,data:null}}get(i,s=null){if(s){const c=this.#t(i);return c.capability.promise.then(()=>s(c.data)),null}const l=this.#e[i];if(!l?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${i}.`);return l.data}has(i){return this.#e[i]?.capability.settled||!1}resolve(i,s=null){const l=this.#t(i);l.data=s,l.capability.resolve()}clear(){for(const i in this.#e){const{data:s}=this.#e[i];s?.bitmap?.close()}this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(i){this.#e=i,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(i=0){this.#e.cancel(null,i)}get separateAnnots(){const{separateAnnots:i}=this.#e.operatorList;if(!i)return!1;const{annotationCanvasMap:s}=this.#e;return i.form||i.canvas&&s?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:i,params:s,objs:l,commonObjs:c,annotationCanvasMap:a,operatorList:G,pageIndex:tt,canvasFactory:it,filterFactory:f,useRequestAnimationFrame:u=!1,pdfBug:p=!1,pageColors:y=null}){this.callback=i,this.params=s,this.objs=l,this.commonObjs=c,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=G,this._pageIndex=tt,this.canvasFactory=it,this.filterFactory=f,this._pdfBug=p,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=s.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:i=!1,optionalContentConfig:s}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:l,viewport:c,transform:a,background:G}=this.params;this.gfx=new _canvas.CanvasGraphics(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:s},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:c,transparency:i,background:G}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(i=null,s=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback(i||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,s))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),InternalRenderTask.#e.delete(this._canvas),this.callback())))}}const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SerializableEmpty=i.PrintAnnotationStorage=i.AnnotationStorage=void 0;var l=s(1),c=s(4),a=s(8);const G=Object.freeze({map:null,hash:"",transfers:void 0});i.SerializableEmpty=G;class tt{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(u,p){const y=this.#t.get(u);return y===void 0?p:Object.assign(p,y)}getRawValue(u){return this.#t.get(u)}remove(u){if(this.#t.delete(u),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const p of this.#t.values())if(p instanceof c.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(u,p){const y=this.#t.get(u);let Z=!1;if(y!==void 0)for(const[d,me]of Object.entries(p))y[d]!==me&&(Z=!0,y[d]=me);else Z=!0,this.#t.set(u,p);Z&&this.#n(),p instanceof c.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(p.constructor._type)}has(u){return this.#t.has(u)}getAll(){return this.#t.size>0?(0,l.objectFromMap)(this.#t):null}setAll(u){for(const[p,y]of Object.entries(u))this.setValue(p,y)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new it(this)}get serializable(){if(this.#t.size===0)return G;const u=new Map,p=new a.MurmurHash3_64,y=[],Z=Object.create(null);let d=!1;for(const[me,et]of this.#t){const E=et instanceof c.AnnotationEditor?et.serialize(!1,Z):et;E&&(u.set(me,E),p.update(`${me}:${JSON.stringify(E)}`),d||=!!E.bitmap)}if(d)for(const me of u.values())me.bitmap&&y.push(me.bitmap);return u.size>0?{map:u,hash:p.hexdigest(),transfers:y}:G}}i.AnnotationStorage=tt;class it extends tt{#e;constructor(u){super();const{map:p,hash:y,transfers:Z}=u.serializable,d=structuredClone(p,Z?{transfer:Z}:null);this.#e={map:d,hash:y,transfers:Z}}get print(){(0,l.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}i.PrintAnnotationStorage=it},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditor=void 0;var l=s(5),c=s(1),a=s(6);class G{#e="";#t=!1;#n=null;#r=null;#o=null;#a=!1;#s=null;#l=this.focusin.bind(this);#c=this.focusout.bind(this);#i=!1;#f=!1;#d=!1;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#h=!1;#p=G._zIndex++;static _borderLineWidth=-1;static _colorManager=new l.ColorManager;static _zIndex=1;static SMALL_EDITOR_SIZE=0;constructor(f){this.constructor===G&&(0,c.unreachable)("Cannot initialize AnnotationEditor."),this.parent=f.parent,this.id=f.id,this.width=this.height=null,this.pageIndex=f.parent.pageIndex,this.name=f.name,this.div=null,this._uiManager=f.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=f.isCentered,this._structTreeParentId=null;const{rotation:u,rawDims:{pageWidth:p,pageHeight:y,pageX:Z,pageY:d}}=this.parent.viewport;this.rotation=u,this.pageRotation=(360+u-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[p,y],this.pageTranslation=[Z,d];const[me,et]=this.parentDimensions;this.x=f.x/me,this.y=f.y/et,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,c.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(f){const u=new tt({id:f.parent.getNextId(),parent:f.parent,uiManager:f._uiManager});u.annotationElementId=f.annotationElementId,u.deleted=!0,u._uiManager.addToAnnotationStorage(u)}static initialize(f,u=null){if(G._l10nPromise||=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(y=>[y,f.get(y)])),u?.strings)for(const y of u.strings)G._l10nPromise.set(y,f.get(y));if(G._borderLineWidth!==-1)return;const p=getComputedStyle(document.documentElement);G._borderLineWidth=parseFloat(p.getPropertyValue("--outline-width"))||0}static updateDefaultParams(f,u){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(f){return!1}static paste(f,u){(0,c.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#h}set _isDraggable(f){this.#h=f,this.div?.classList.toggle("draggable",f)}center(){const[f,u]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*u/(f*2),this.y+=this.width*f/(u*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*u/(f*2),this.y-=this.width*f/(u*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(f){this._uiManager.addCommands(f)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#p}setParent(f){f!==null&&(this.pageIndex=f.pageIndex,this.pageDimensions=f.pageDimensions),this.parent=f}focusin(f){this._focusEventsAllowed&&(this.#i?this.#i=!1:this.parent.setSelected(this))}focusout(f){!this._focusEventsAllowed||!this.isAttachedToDOM||f.relatedTarget?.closest(`#${this.id}`)||(f.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(f,u,p,y){const[Z,d]=this.parentDimensions;[p,y]=this.screenToPageTranslation(p,y),this.x=(f+p)/Z,this.y=(u+y)/d,this.fixAndSetPosition()}#v([f,u],p,y){[p,y]=this.screenToPageTranslation(p,y),this.x+=p/f,this.y+=y/u,this.fixAndSetPosition()}translate(f,u){this.#v(this.parentDimensions,f,u)}translateInPage(f,u){this.#v(this.pageDimensions,f,u),this.div.scrollIntoView({block:"nearest"})}drag(f,u){const[p,y]=this.parentDimensions;if(this.x+=f/p,this.y+=u/y,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:E,y:ct}=this.div.getBoundingClientRect();this.parent.findNewParent(this,E,ct)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Z,y:d}=this;const[me,et]=this.#m();Z+=me,d+=et,this.div.style.left=`${(100*Z).toFixed(2)}%`,this.div.style.top=`${(100*d).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#m(){const[f,u]=this.parentDimensions,{_borderLineWidth:p}=G,y=p/f,Z=p/u;switch(this.rotation){case 90:return[-y,Z];case 180:return[y,Z];case 270:return[y,-Z];default:return[-y,-Z]}}fixAndSetPosition(){const[f,u]=this.pageDimensions;let{x:p,y,width:Z,height:d}=this;switch(Z*=f,d*=u,p*=f,y*=u,this.rotation){case 0:p=Math.max(0,Math.min(f-Z,p)),y=Math.max(0,Math.min(u-d,y));break;case 90:p=Math.max(0,Math.min(f-d,p)),y=Math.min(u,Math.max(Z,y));break;case 180:p=Math.min(f,Math.max(Z,p)),y=Math.min(u,Math.max(d,y));break;case 270:p=Math.min(f,Math.max(d,p)),y=Math.max(0,Math.min(u-Z,y));break}this.x=p/=f,this.y=y/=u;const[me,et]=this.#m();p+=me,y+=et;const{style:E}=this.div;E.left=`${(100*p).toFixed(2)}%`,E.top=`${(100*y).toFixed(2)}%`,this.moveInDOM()}static#g(f,u,p){switch(p){case 90:return[u,-f];case 180:return[-f,-u];case 270:return[-u,f];default:return[f,u]}}screenToPageTranslation(f,u){return G.#g(f,u,this.parentRotation)}pageTranslationToScreen(f,u){return G.#g(f,u,360-this.parentRotation)}#u(f){switch(f){case 90:{const[u,p]=this.pageDimensions;return[0,-u/p,p/u,0]}case 180:return[-1,0,0,-1];case 270:{const[u,p]=this.pageDimensions;return[0,u/p,-p/u,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:f,pageDimensions:[u,p]}=this,y=u*f,Z=p*f;return c.FeatureTest.isCSSRoundSupported?[Math.round(y),Math.round(Z)]:[y,Z]}setDims(f,u){const[p,y]=this.parentDimensions;this.div.style.width=`${(100*f/p).toFixed(2)}%`,this.#a||(this.div.style.height=`${(100*u/y).toFixed(2)}%`),this.#n?.classList.toggle("small",f<G.SMALL_EDITOR_SIZE||u<G.SMALL_EDITOR_SIZE)}fixDims(){const{style:f}=this.div,{height:u,width:p}=f,y=p.endsWith("%"),Z=!this.#a&&u.endsWith("%");if(y&&Z)return;const[d,me]=this.parentDimensions;y||(f.width=`${(100*parseFloat(p)/d).toFixed(2)}%`),!this.#a&&!Z&&(f.height=`${(100*parseFloat(u)/me).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#y(){if(this.#s)return;this.#s=document.createElement("div"),this.#s.classList.add("resizers");const f=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||f.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const u of f){const p=document.createElement("div");this.#s.append(p),p.classList.add("resizer",u),p.addEventListener("pointerdown",this.#x.bind(this,u)),p.addEventListener("contextmenu",a.noContextMenu)}this.div.prepend(this.#s)}#x(f,u){u.preventDefault();const{isMac:p}=c.FeatureTest.platform;if(u.button!==0||u.ctrlKey&&p)return;const y=this.#w.bind(this,f),Z=this._isDraggable;this._isDraggable=!1;const d={passive:!0,capture:!0};window.addEventListener("pointermove",y,d);const me=this.x,et=this.y,E=this.width,ct=this.height,mt=this.parent.div.style.cursor,pt=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(u.target).cursor;const nt=()=>{this._isDraggable=Z,window.removeEventListener("pointerup",nt),window.removeEventListener("blur",nt),window.removeEventListener("pointermove",y,d),this.parent.div.style.cursor=mt,this.div.style.cursor=pt;const ft=this.x,wt=this.y,Pt=this.width,St=this.height;ft===me&&wt===et&&Pt===E&&St===ct||this.addCommands({cmd:()=>{this.width=Pt,this.height=St,this.x=ft,this.y=wt;const[jt,_t]=this.parentDimensions;this.setDims(jt*Pt,_t*St),this.fixAndSetPosition()},undo:()=>{this.width=E,this.height=ct,this.x=me,this.y=et;const[jt,_t]=this.parentDimensions;this.setDims(jt*E,_t*ct),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",nt),window.addEventListener("blur",nt)}#w(f,u){const[p,y]=this.parentDimensions,Z=this.x,d=this.y,me=this.width,et=this.height,E=G.MIN_SIZE/p,ct=G.MIN_SIZE/y,mt=ut=>Math.round(ut*1e4)/1e4,pt=this.#u(this.rotation),nt=(ut,x)=>[pt[0]*ut+pt[2]*x,pt[1]*ut+pt[3]*x],ft=this.#u(360-this.rotation),wt=(ut,x)=>[ft[0]*ut+ft[2]*x,ft[1]*ut+ft[3]*x];let Pt,St,jt=!1,_t=!1;switch(f){case"topLeft":jt=!0,Pt=(ut,x)=>[0,0],St=(ut,x)=>[ut,x];break;case"topMiddle":Pt=(ut,x)=>[ut/2,0],St=(ut,x)=>[ut/2,x];break;case"topRight":jt=!0,Pt=(ut,x)=>[ut,0],St=(ut,x)=>[0,x];break;case"middleRight":_t=!0,Pt=(ut,x)=>[ut,x/2],St=(ut,x)=>[0,x/2];break;case"bottomRight":jt=!0,Pt=(ut,x)=>[ut,x],St=(ut,x)=>[0,0];break;case"bottomMiddle":Pt=(ut,x)=>[ut/2,x],St=(ut,x)=>[ut/2,0];break;case"bottomLeft":jt=!0,Pt=(ut,x)=>[0,x],St=(ut,x)=>[ut,0];break;case"middleLeft":_t=!0,Pt=(ut,x)=>[0,x/2],St=(ut,x)=>[ut,x/2];break}const Vt=Pt(me,et),Dt=St(me,et);let $t=nt(...Dt);const Tt=mt(Z+$t[0]),Ct=mt(d+$t[1]);let lt=1,Ve=1,[Y,ne]=this.screenToPageTranslation(u.movementX,u.movementY);if([Y,ne]=wt(Y/p,ne/y),jt){const ut=Math.hypot(me,et);lt=Ve=Math.max(Math.min(Math.hypot(Dt[0]-Vt[0]-Y,Dt[1]-Vt[1]-ne)/ut,1/me,1/et),E/me,ct/et)}else _t?lt=Math.max(E,Math.min(1,Math.abs(Dt[0]-Vt[0]-Y)))/me:Ve=Math.max(ct,Math.min(1,Math.abs(Dt[1]-Vt[1]-ne)))/et;const ee=mt(me*lt),rt=mt(et*Ve);$t=nt(...St(ee,rt));const at=Tt-$t[0],vt=Ct-$t[1];this.width=ee,this.height=rt,this.x=at,this.y=vt,this.setDims(p*ee,y*rt),this.fixAndSetPosition()}async addAltTextButton(){if(this.#n)return;const f=this.#n=document.createElement("button");f.className="altText";const u=await G._l10nPromise.get("editor_alt_text_button_label");f.textContent=u,f.setAttribute("aria-label",u),f.tabIndex="0",f.addEventListener("contextmenu",a.noContextMenu),f.addEventListener("pointerdown",p=>p.stopPropagation()),f.addEventListener("click",p=>{p.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),f.addEventListener("keydown",p=>{p.target===f&&p.key==="Enter"&&(p.preventDefault(),this._uiManager.editAltText(this))}),this.#k(),this.div.append(f),G.SMALL_EDITOR_SIZE||(G.SMALL_EDITOR_SIZE=Math.min(128,Math.round(f.getBoundingClientRect().width*1.4)))}async#k(){const f=this.#n;if(!f)return;if(!this.#e&&!this.#t){f.classList.remove("done"),this.#r?.remove();return}G._l10nPromise.get("editor_alt_text_edit_button_label").then(p=>{f.setAttribute("aria-label",p)});let u=this.#r;if(!u){this.#r=u=document.createElement("span"),u.className="tooltip",u.setAttribute("role","tooltip");const p=u.id=`alt-text-tooltip-${this.id}`;f.setAttribute("aria-describedby",p);const y=100;f.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#r.classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},y)}),f.addEventListener("mouseleave",()=>{clearTimeout(this.#o),this.#o=null,this.#r?.classList.remove("show")})}f.classList.add("done"),u.innerText=this.#t?await G._l10nPromise.get("editor_alt_text_decorative_tooltip"):this.#e,u.parentNode||f.append(u)}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:this.#e,decorative:this.#t}}set altTextData({altText:f,decorative:u}){this.#e===f&&this.#t===u||(this.#e=f,this.#t=u,this.#k())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#l),this.div.addEventListener("focusout",this.#c);const[f,u]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*u/f).toFixed(2)}%`,this.div.style.maxHeight=`${(100*f/u).toFixed(2)}%`);const[p,y]=this.getInitialTranslation();return this.translate(p,y),(0,l.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(f){const{isMac:u}=c.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&u){f.preventDefault();return}this.#i=!0,this.#T(f)}#T(f){if(!this._isDraggable)return;const u=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let p,y;u&&(p={passive:!0,capture:!0},y=d=>{const[me,et]=this.screenToPageTranslation(d.movementX,d.movementY);this._uiManager.dragSelectedEditors(me,et)},window.addEventListener("pointermove",y,p));const Z=()=>{if(window.removeEventListener("pointerup",Z),window.removeEventListener("blur",Z),u&&window.removeEventListener("pointermove",y,p),this.#i=!1,!this._uiManager.endDragSession()){const{isMac:d}=c.FeatureTest.platform;f.ctrlKey&&!d||f.shiftKey||f.metaKey&&d?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",Z),window.addEventListener("blur",Z)}moveInDOM(){this.parent?.moveEditorInDOM(this)}_setParentAndPosition(f,u,p){f.changeParent(this),this.x=u,this.y=p,this.fixAndSetPosition()}getRect(f,u){const p=this.parentScale,[y,Z]=this.pageDimensions,[d,me]=this.pageTranslation,et=f/p,E=u/p,ct=this.x*y,mt=this.y*Z,pt=this.width*y,nt=this.height*Z;switch(this.rotation){case 0:return[ct+et+d,Z-mt-E-nt+me,ct+et+pt+d,Z-mt-E+me];case 90:return[ct+E+d,Z-mt+et+me,ct+E+nt+d,Z-mt+et+pt+me];case 180:return[ct-et-pt+d,Z-mt+E+me,ct-et+d,Z-mt+E+nt+me];case 270:return[ct-E-nt+d,Z-mt-et-pt+me,ct-E+d,Z-mt-et+me];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(f,u){const[p,y,Z,d]=f,me=Z-p,et=d-y;switch(this.rotation){case 0:return[p,u-d,me,et];case 90:return[p,u-y,et,me];case 180:return[Z,u-y,me,et];case 270:return[Z,u-d,et,me];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#l),this.div?.addEventListener("focusout",this.#c)}serialize(f=!1,u=null){(0,c.unreachable)("An editor must be serializable")}static deserialize(f,u,p){const y=new this.prototype.constructor({parent:u,id:u.getNextId(),uiManager:p});y.rotation=f.rotation;const[Z,d]=y.pageDimensions,[me,et,E,ct]=y.getRectInCurrentCoords(f.rect,d);return y.x=me/Z,y.y=et/d,y.width=E/Z,y.height=ct/d,y}remove(){this.div.removeEventListener("focusin",this.#l),this.div.removeEventListener("focusout",this.#c),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#n?.remove(),this.#n=null,this.#r=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#y(),this.#s.classList.remove("hidden"))}select(){this.makeResizable(),this.div?.classList.add("selectedEditor")}unselect(){this.#s?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(f,u){}disableEditing(){this.#n&&(this.#n.hidden=!0)}enableEditing(){this.#n&&(this.#n.hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(f){this.#f=f,this.parent&&(f?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(f,u){this.#a=!0;const p=f/u,{style:y}=this.div;y.aspectRatio=p,y.height="auto"}static get MIN_SIZE(){return 16}}i.AnnotationEditor=G;class tt extends G{constructor(f){super(f),this.annotationElementId=f.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.KeyboardManager=i.CommandManager=i.ColorManager=i.AnnotationEditorUIManager=void 0,i.bindEvents=a,i.opacityToHex=G;var l=s(1),c=s(6);function a(Z,d,me){for(const et of me)d.addEventListener(et,Z[et].bind(Z))}function G(Z){return Math.round(Math.min(255,Math.max(1,255*Z))).toString(16).padStart(2,"0")}class tt{#e=0;getId(){return`${l.AnnotationEditorPrefix}${this.#e++}`}}class it{#e=(0,l.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const d='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',et=new OffscreenCanvas(1,3).getContext("2d"),E=new Image;E.src=d;const ct=E.decode().then(()=>(et.drawImage(E,0,0,1,1,0,0,1,3),new Uint32Array(et.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,l.shadow)(this,"_isSVGFittingCanvas",ct)}async#r(d,me){this.#n||=new Map;let et=this.#n.get(d);if(et===null)return null;if(et?.bitmap)return et.refCounter+=1,et;try{et||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let E;if(typeof me=="string"){et.url=me;const ct=await fetch(me);if(!ct.ok)throw new Error(ct.statusText);E=await ct.blob()}else E=et.file=me;if(E.type==="image/svg+xml"){const ct=it._isSVGFittingCanvas,mt=new FileReader,pt=new Image,nt=new Promise((ft,wt)=>{pt.onload=()=>{et.bitmap=pt,et.isSvg=!0,ft()},mt.onload=async()=>{const Pt=et.svgUrl=mt.result;pt.src=await ct?`${Pt}#svgView(preserveAspectRatio(none))`:Pt},pt.onerror=mt.onerror=wt});mt.readAsDataURL(E),await nt}else et.bitmap=await createImageBitmap(E);et.refCounter=1}catch(E){console.error(E),et=null}return this.#n.set(d,et),et&&this.#n.set(et.id,et),et}async getFromFile(d){const{lastModified:me,name:et,size:E,type:ct}=d;return this.#r(`${me}_${et}_${E}_${ct}`,d)}async getFromUrl(d){return this.#r(d,d)}async getFromId(d){this.#n||=new Map;const me=this.#n.get(d);return me?me.bitmap?(me.refCounter+=1,me):me.file?this.getFromFile(me.file):this.getFromUrl(me.url):null}getSvgUrl(d){const me=this.#n.get(d);return me?.isSvg?me.svgUrl:null}deleteId(d){this.#n||=new Map;const me=this.#n.get(d);me&&(me.refCounter-=1,me.refCounter===0&&(me.bitmap=null))}isValidId(d){return d.startsWith(`image_${this.#e}_`)}}class f{#e=[];#t=!1;#n;#r=-1;constructor(d=128){this.#n=d}add({cmd:d,undo:me,mustExec:et,type:E=NaN,overwriteIfSameType:ct=!1,keepUndo:mt=!1}){if(et&&d(),this.#t)return;const pt={cmd:d,undo:me,type:E};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(pt);return}if(ct&&this.#e[this.#r].type===E){mt&&(pt.undo=this.#e[this.#r].undo),this.#e[this.#r]=pt;return}const nt=this.#r+1;nt===this.#n?this.#e.splice(0,1):(this.#r=nt,nt<this.#e.length&&this.#e.splice(nt)),this.#e.push(pt)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}i.CommandManager=f;class u{constructor(d){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:me}=l.FeatureTest.platform;for(const[et,E,ct={}]of d)for(const mt of et){const pt=mt.startsWith("mac+");me&&pt?(this.callbacks.set(mt.slice(4),{callback:E,options:ct}),this.allKeys.add(mt.split("+").at(-1))):!me&&!pt&&(this.callbacks.set(mt,{callback:E,options:ct}),this.allKeys.add(mt.split("+").at(-1)))}}#e(d){d.altKey&&this.buffer.push("alt"),d.ctrlKey&&this.buffer.push("ctrl"),d.metaKey&&this.buffer.push("meta"),d.shiftKey&&this.buffer.push("shift"),this.buffer.push(d.key);const me=this.buffer.join("+");return this.buffer.length=0,me}exec(d,me){if(!this.allKeys.has(me.key))return;const et=this.callbacks.get(this.#e(me));if(!et)return;const{callback:E,options:{bubbles:ct=!1,args:mt=[],checker:pt=null}}=et;pt&&!pt(d,me)||(E.bind(d,...mt)(),ct||(me.stopPropagation(),me.preventDefault()))}}i.KeyboardManager=u;class p{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const d=new Map([["CanvasText",null],["Canvas",null]]);return(0,c.getColorValues)(d),(0,l.shadow)(this,"_colors",d)}convert(d){const me=(0,c.getRGB)(d);if(!window.matchMedia("(forced-colors: active)").matches)return me;for(const[et,E]of this._colors)if(E.every((ct,mt)=>ct===me[mt]))return p._colorsMapping.get(et);return me}getHexCode(d){const me=this._colors.get(d);return me?l.Util.makeHexColor(...me):d}}i.ColorManager=p;class y{#e=null;#t=new Map;#n=new Map;#r=null;#o=null;#a=new f;#s=0;#l=new Set;#c=null;#i=null;#f=new Set;#d=null;#h=new tt;#p=!1;#v=!1;#m=null;#g=l.AnnotationEditorType.NONE;#u=new Set;#y=null;#x=this.blur.bind(this);#w=this.focus.bind(this);#k=this.copy.bind(this);#T=this.cut.bind(this);#I=this.paste.bind(this);#D=this.keydown.bind(this);#O=this.onEditingAction.bind(this);#_=this.onPageChanging.bind(this);#F=this.onScaleChanging.bind(this);#P=this.onRotationChanging.bind(this);#R={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#E=[0,0];#C=null;#b=null;#N=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const d=y.prototype,me=ct=>{const{activeElement:mt}=document;return mt&&ct.#b.contains(mt)&&ct.hasSomethingToControl()},et=this.TRANSLATE_SMALL,E=this.TRANSLATE_BIG;return(0,l.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],d.selectAll],[["ctrl+z","mac+meta+z"],d.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],d.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],d.delete],[["Escape","mac+Escape"],d.unselectAll],[["ArrowLeft","mac+ArrowLeft"],d.translateSelectedEditors,{args:[-et,0],checker:me}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],d.translateSelectedEditors,{args:[-E,0],checker:me}],[["ArrowRight","mac+ArrowRight"],d.translateSelectedEditors,{args:[et,0],checker:me}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],d.translateSelectedEditors,{args:[E,0],checker:me}],[["ArrowUp","mac+ArrowUp"],d.translateSelectedEditors,{args:[0,-et],checker:me}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],d.translateSelectedEditors,{args:[0,-E],checker:me}],[["ArrowDown","mac+ArrowDown"],d.translateSelectedEditors,{args:[0,et],checker:me}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],d.translateSelectedEditors,{args:[0,E],checker:me}]]))}constructor(d,me,et,E,ct,mt){this.#b=d,this.#N=me,this.#r=et,this._eventBus=E,this._eventBus._on("editingaction",this.#O),this._eventBus._on("pagechanging",this.#_),this._eventBus._on("scalechanging",this.#F),this._eventBus._on("rotationchanging",this.#P),this.#o=ct.annotationStorage,this.#d=ct.filterFactory,this.#y=mt,this.viewParameters={realScale:c.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#M(),this.#z(),this._eventBus._off("editingaction",this.#O),this._eventBus._off("pagechanging",this.#_),this._eventBus._off("scalechanging",this.#F),this._eventBus._off("rotationchanging",this.#P);for(const d of this.#n.values())d.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#u.clear(),this.#a.destroy(),this.#r.destroy()}get hcmFilter(){return(0,l.shadow)(this,"hcmFilter",this.#y?this.#d.addHCMFilter(this.#y.foreground,this.#y.background):"none")}get direction(){return(0,l.shadow)(this,"direction",getComputedStyle(this.#b).direction)}editAltText(d){this.#r?.editAltText(this,d)}onPageChanging({pageNumber:d}){this.#s=d-1}focusMainContainer(){this.#b.focus()}findParent(d,me){for(const et of this.#n.values()){const{x:E,y:ct,width:mt,height:pt}=et.div.getBoundingClientRect();if(d>=E&&d<=E+mt&&me>=ct&&me<=ct+pt)return et}return null}disableUserSelect(d=!1){this.#N.classList.toggle("noUserSelect",d)}addShouldRescale(d){this.#f.add(d)}removeShouldRescale(d){this.#f.delete(d)}onScaleChanging({scale:d}){this.commitOrRemove(),this.viewParameters.realScale=d*c.PixelsPerInch.PDF_TO_CSS_UNITS;for(const me of this.#f)me.onScaleChanging()}onRotationChanging({pagesRotation:d}){this.commitOrRemove(),this.viewParameters.rotation=d}addToAnnotationStorage(d){!d.isEmpty()&&this.#o&&!this.#o.has(d.id)&&this.#o.setValue(d.id,d)}#j(){window.addEventListener("focus",this.#w),window.addEventListener("blur",this.#x)}#z(){window.removeEventListener("focus",this.#w),window.removeEventListener("blur",this.#x)}blur(){if(!this.hasSelection)return;const{activeElement:d}=document;for(const me of this.#u)if(me.div.contains(d)){this.#m=[me,d],me._focusEventsAllowed=!1;break}}focus(){if(!this.#m)return;const[d,me]=this.#m;this.#m=null,me.addEventListener("focusin",()=>{d._focusEventsAllowed=!0},{once:!0}),me.focus()}#B(){window.addEventListener("keydown",this.#D,{capture:!0})}#M(){window.removeEventListener("keydown",this.#D,{capture:!0})}#L(){document.addEventListener("copy",this.#k),document.addEventListener("cut",this.#T),document.addEventListener("paste",this.#I)}#A(){document.removeEventListener("copy",this.#k),document.removeEventListener("cut",this.#T),document.removeEventListener("paste",this.#I)}addEditListeners(){this.#B(),this.#L()}removeEditListeners(){this.#M(),this.#A()}copy(d){if(d.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const me=[];for(const et of this.#u){const E=et.serialize(!0);E&&me.push(E)}me.length!==0&&d.clipboardData.setData("application/pdfjs",JSON.stringify(me))}cut(d){this.copy(d),this.delete()}paste(d){d.preventDefault();const{clipboardData:me}=d;for(const ct of me.items)for(const mt of this.#i)if(mt.isHandlingMimeForPasting(ct.type)){mt.paste(ct,this.currentLayer);return}let et=me.getData("application/pdfjs");if(!et)return;try{et=JSON.parse(et)}catch(ct){(0,l.warn)(`paste: "${ct.message}".`);return}if(!Array.isArray(et))return;this.unselectAll();const E=this.currentLayer;try{const ct=[];for(const nt of et){const ft=E.deserialize(nt);if(!ft)return;ct.push(ft)}const mt=()=>{for(const nt of ct)this.#$(nt);this.#W(ct)},pt=()=>{for(const nt of ct)nt.remove()};this.addCommands({cmd:mt,undo:pt,mustExec:!0})}catch(ct){(0,l.warn)(`paste: "${ct.message}".`)}}keydown(d){this.getActive()?.shouldGetKeyboardEvents()||y._keyboardManager.exec(this,d)}onEditingAction(d){["undo","redo","delete","selectAll"].includes(d.name)&&this[d.name]()}#S(d){Object.entries(d).some(([et,E])=>this.#R[et]!==E)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#R,d)})}#H(d){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:d})}setEditingState(d){d?(this.#j(),this.#B(),this.#L(),this.#S({isEditing:this.#g!==l.AnnotationEditorType.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#z(),this.#M(),this.#A(),this.#S({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(d){if(!this.#i){this.#i=d;for(const me of this.#i)this.#H(me.defaultPropertiesToUpdate)}}getId(){return this.#h.getId()}get currentLayer(){return this.#n.get(this.#s)}getLayer(d){return this.#n.get(d)}get currentPageIndex(){return this.#s}addLayer(d){this.#n.set(d.pageIndex,d),this.#p?d.enable():d.disable()}removeLayer(d){this.#n.delete(d.pageIndex)}updateMode(d,me=null){if(this.#g!==d){if(this.#g=d,d===l.AnnotationEditorType.NONE){this.setEditingState(!1),this.#q();return}this.setEditingState(!0),this.#V(),this.unselectAll();for(const et of this.#n.values())et.updateMode(d);if(me){for(const et of this.#t.values())if(et.annotationElementId===me){this.setSelected(et),et.enterInEditMode();break}}}}updateToolbar(d){d!==this.#g&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:d})}updateParams(d,me){if(this.#i){if(d===l.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor(d);return}for(const et of this.#u)et.updateParams(d,me);for(const et of this.#i)et.updateDefaultParams(d,me)}}enableWaiting(d=!1){if(this.#v!==d){this.#v=d;for(const me of this.#n.values())d?me.disableClick():me.enableClick(),me.div.classList.toggle("waiting",d)}}#V(){if(!this.#p){this.#p=!0;for(const d of this.#n.values())d.enable()}}#q(){if(this.unselectAll(),this.#p){this.#p=!1;for(const d of this.#n.values())d.disable()}}getEditors(d){const me=[];for(const et of this.#t.values())et.pageIndex===d&&me.push(et);return me}getEditor(d){return this.#t.get(d)}addEditor(d){this.#t.set(d.id,d)}removeEditor(d){this.#t.delete(d.id),this.unselect(d),(!d.annotationElementId||!this.#l.has(d.annotationElementId))&&this.#o?.remove(d.id)}addDeletedAnnotationElement(d){this.#l.add(d.annotationElementId),d.deleted=!0}isDeletedAnnotationElement(d){return this.#l.has(d)}removeDeletedAnnotationElement(d){this.#l.delete(d.annotationElementId),d.deleted=!1}#$(d){const me=this.#n.get(d.pageIndex);me?me.addOrRebuild(d):this.addEditor(d)}setActiveEditor(d){this.#e!==d&&(this.#e=d,d&&this.#H(d.propertiesToUpdate))}toggleSelected(d){if(this.#u.has(d)){this.#u.delete(d),d.unselect(),this.#S({hasSelectedEditor:this.hasSelection});return}this.#u.add(d),d.select(),this.#H(d.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}setSelected(d){for(const me of this.#u)me!==d&&me.unselect();this.#u.clear(),this.#u.add(d),d.select(),this.#H(d.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}isSelected(d){return this.#u.has(d)}unselect(d){d.unselect(),this.#u.delete(d),this.#S({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#u.size!==0}undo(){this.#a.undo(),this.#S({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#a.redo(),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(d){this.#a.add(d),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const d of this.#t.values())return d.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const d=[...this.#u],me=()=>{for(const E of d)E.remove()},et=()=>{for(const E of d)this.#$(E)};this.addCommands({cmd:me,undo:et,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#W(d){this.#u.clear();for(const me of d)me.isEmpty()||(this.#u.add(me),me.select());this.#S({hasSelectedEditor:!0})}selectAll(){for(const d of this.#u)d.commit();this.#W(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.hasSelection){for(const d of this.#u)d.unselect();this.#u.clear(),this.#S({hasSelectedEditor:!1})}}translateSelectedEditors(d,me,et=!1){if(et||this.commitOrRemove(),!this.hasSelection)return;this.#E[0]+=d,this.#E[1]+=me;const[E,ct]=this.#E,mt=[...this.#u],pt=1e3;this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.#C=null,this.#E[0]=this.#E[1]=0,this.addCommands({cmd:()=>{for(const nt of mt)this.#t.has(nt.id)&&nt.translateInPage(E,ct)},undo:()=>{for(const nt of mt)this.#t.has(nt.id)&&nt.translateInPage(-E,-ct)},mustExec:!1})},pt);for(const nt of mt)nt.translateInPage(d,me)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const d of this.#u)this.#c.set(d,{savedX:d.x,savedY:d.y,savedPageIndex:d.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const d=this.#c;this.#c=null;let me=!1;for(const[{x:E,y:ct,pageIndex:mt},pt]of d)pt.newX=E,pt.newY=ct,pt.newPageIndex=mt,me||=E!==pt.savedX||ct!==pt.savedY||mt!==pt.savedPageIndex;if(!me)return!1;const et=(E,ct,mt,pt)=>{if(this.#t.has(E.id)){const nt=this.#n.get(pt);nt?E._setParentAndPosition(nt,ct,mt):(E.pageIndex=pt,E.x=ct,E.y=mt)}};return this.addCommands({cmd:()=>{for(const[E,{newX:ct,newY:mt,newPageIndex:pt}]of d)et(E,ct,mt,pt)},undo:()=>{for(const[E,{savedX:ct,savedY:mt,savedPageIndex:pt}]of d)et(E,ct,mt,pt)},mustExec:!0}),!0}dragSelectedEditors(d,me){if(this.#c)for(const et of this.#c.keys())et.drag(d,me)}rebuild(d){if(d.parent===null){const me=this.getLayer(d.pageIndex);me?(me.changeParent(d),me.addOrRebuild(d)):(this.addEditor(d),this.addToAnnotationStorage(d),d.rebuild())}else d.parent.addOrRebuild(d)}isActive(d){return this.#e===d}getActive(){return this.#e}getMode(){return this.#g}get imageManager(){return(0,l.shadow)(this,"imageManager",new it)}}i.AnnotationEditorUIManager=y},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StatTimer=i.RenderingCancelledException=i.PixelsPerInch=i.PageViewport=i.PDFDateString=i.DOMStandardFontDataFactory=i.DOMSVGFactory=i.DOMFilterFactory=i.DOMCanvasFactory=i.DOMCMapReaderFactory=void 0,i.deprecated=wt,i.getColorValues=Vt,i.getCurrentTransform=Dt,i.getCurrentTransformInverse=$t,i.getFilenameFromUrl=E,i.getPdfFilenameFromUrl=ct,i.getRGB=_t,i.getXfaPageViewport=jt,i.isDataScheme=me,i.isPdfFile=et,i.isValidFetchUrl=pt,i.loadScript=ft,i.noContextMenu=nt,i.setLayerDimensions=Tt;var l=s(7),c=s(1);const a="http://www.w3.org/2000/svg";class G{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}i.PixelsPerInch=G;class tt extends l.BaseFilterFactory{#e;#t;#n;#r;#o;#a;#s;#l;#c;#i;#f=0;constructor({docId:lt,ownerDocument:Ve=globalThis.document}={}){super(),this.#n=lt,this.#r=Ve}get#d(){return this.#e||=new Map}get#h(){if(!this.#t){const lt=this.#r.createElement("div"),{style:Ve}=lt;Ve.visibility="hidden",Ve.contain="strict",Ve.width=Ve.height=0,Ve.position="absolute",Ve.top=Ve.left=0,Ve.zIndex=-1;const Y=this.#r.createElementNS(a,"svg");Y.setAttribute("width",0),Y.setAttribute("height",0),this.#t=this.#r.createElementNS(a,"defs"),lt.append(Y),Y.append(this.#t),this.#r.body.append(lt)}return this.#t}addFilter(lt){if(!lt)return"none";let Ve=this.#d.get(lt);if(Ve)return Ve;let Y,ne,ee,rt;if(lt.length===1){const x=lt[0],st=new Array(256);for(let ot=0;ot<256;ot++)st[ot]=x[ot]/255;rt=Y=ne=ee=st.join(",")}else{const[x,st,ot]=lt,gt=new Array(256),yt=new Array(256),xt=new Array(256);for(let Rt=0;Rt<256;Rt++)gt[Rt]=x[Rt]/255,yt[Rt]=st[Rt]/255,xt[Rt]=ot[Rt]/255;Y=gt.join(","),ne=yt.join(","),ee=xt.join(","),rt=`${Y}${ne}${ee}`}if(Ve=this.#d.get(rt),Ve)return this.#d.set(lt,Ve),Ve;const at=`g_${this.#n}_transfer_map_${this.#f++}`,vt=`url(#${at})`;this.#d.set(lt,vt),this.#d.set(rt,vt);const ut=this.#v(at);return this.#g(Y,ne,ee,ut),vt}addHCMFilter(lt,Ve){const Y=`${lt}-${Ve}`;if(this.#a===Y)return this.#s;if(this.#a=Y,this.#s="none",this.#o?.remove(),!lt||!Ve)return this.#s;const ne=this.#u(lt);lt=c.Util.makeHexColor(...ne);const ee=this.#u(Ve);if(Ve=c.Util.makeHexColor(...ee),this.#h.style.color="",lt==="#000000"&&Ve==="#ffffff"||lt===Ve)return this.#s;const rt=new Array(256);for(let st=0;st<=255;st++){const ot=st/255;rt[st]=ot<=.03928?ot/12.92:((ot+.055)/1.055)**2.4}const at=rt.join(","),vt=`g_${this.#n}_hcm_filter`,ut=this.#l=this.#v(vt);this.#g(at,at,at,ut),this.#p(ut);const x=(st,ot)=>{const gt=ne[st]/255,yt=ee[st]/255,xt=new Array(ot+1);for(let Rt=0;Rt<=ot;Rt++)xt[Rt]=gt+Rt/ot*(yt-gt);return xt.join(",")};return this.#g(x(0,5),x(1,5),x(2,5),ut),this.#s=`url(#${vt})`,this.#s}addHighlightHCMFilter(lt,Ve,Y,ne){const ee=`${lt}-${Ve}-${Y}-${ne}`;if(this.#c===ee)return this.#i;if(this.#c=ee,this.#i="none",this.#l?.remove(),!lt||!Ve)return this.#i;const[rt,at]=[lt,Ve].map(this.#u.bind(this));let vt=Math.round(.2126*rt[0]+.7152*rt[1]+.0722*rt[2]),ut=Math.round(.2126*at[0]+.7152*at[1]+.0722*at[2]),[x,st]=[Y,ne].map(this.#u.bind(this));ut<vt&&([vt,ut,x,st]=[ut,vt,st,x]),this.#h.style.color="";const ot=(xt,Rt,qt)=>{const un=new Array(256),Yt=(ut-vt)/qt,Qt=xt/255,Jt=(Rt-xt)/(255*qt);let Gt=0;for(let nn=0;nn<=qt;nn++){const fn=Math.round(vt+nn*Yt),an=Qt+nn*Jt;for(let _n=Gt;_n<=fn;_n++)un[_n]=an;Gt=fn+1}for(let nn=Gt;nn<256;nn++)un[nn]=un[Gt-1];return un.join(",")},gt=`g_${this.#n}_hcm_highlight_filter`,yt=this.#l=this.#v(gt);return this.#p(yt),this.#g(ot(x[0],st[0],5),ot(x[1],st[1],5),ot(x[2],st[2],5),yt),this.#i=`url(#${gt})`,this.#i}destroy(lt=!1){lt&&(this.#s||this.#i)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#p(lt){const Ve=this.#r.createElementNS(a,"feColorMatrix");Ve.setAttribute("type","matrix"),Ve.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),lt.append(Ve)}#v(lt){const Ve=this.#r.createElementNS(a,"filter");return Ve.setAttribute("color-interpolation-filters","sRGB"),Ve.setAttribute("id",lt),this.#h.append(Ve),Ve}#m(lt,Ve,Y){const ne=this.#r.createElementNS(a,Ve);ne.setAttribute("type","discrete"),ne.setAttribute("tableValues",Y),lt.append(ne)}#g(lt,Ve,Y,ne){const ee=this.#r.createElementNS(a,"feComponentTransfer");ne.append(ee),this.#m(ee,"feFuncR",lt),this.#m(ee,"feFuncG",Ve),this.#m(ee,"feFuncB",Y)}#u(lt){return this.#h.style.color=lt,_t(getComputedStyle(this.#h).getPropertyValue("color"))}}i.DOMFilterFactory=tt;class it extends l.BaseCanvasFactory{constructor({ownerDocument:lt=globalThis.document}={}){super(),this._document=lt}_createCanvas(lt,Ve){const Y=this._document.createElement("canvas");return Y.width=lt,Y.height=Ve,Y}}i.DOMCanvasFactory=it;async function f(Ct,lt=!1){if(pt(Ct,document.baseURI)){const Ve=await fetch(Ct);if(!Ve.ok)throw new Error(Ve.statusText);return lt?new Uint8Array(await Ve.arrayBuffer()):(0,c.stringToBytes)(await Ve.text())}return new Promise((Ve,Y)=>{const ne=new XMLHttpRequest;ne.open("GET",Ct,!0),lt&&(ne.responseType="arraybuffer"),ne.onreadystatechange=()=>{if(ne.readyState===XMLHttpRequest.DONE){if(ne.status===200||ne.status===0){let ee;if(lt&&ne.response?ee=new Uint8Array(ne.response):!lt&&ne.responseText&&(ee=(0,c.stringToBytes)(ne.responseText)),ee){Ve(ee);return}}Y(new Error(ne.statusText))}},ne.send(null)})}class u extends l.BaseCMapReaderFactory{_fetchData(lt,Ve){return f(lt,this.isCompressed).then(Y=>({cMapData:Y,compressionType:Ve}))}}i.DOMCMapReaderFactory=u;class p extends l.BaseStandardFontDataFactory{_fetchData(lt){return f(lt,!0)}}i.DOMStandardFontDataFactory=p;class y extends l.BaseSVGFactory{_createSVG(lt){return document.createElementNS(a,lt)}}i.DOMSVGFactory=y;class Z{constructor({viewBox:lt,scale:Ve,rotation:Y,offsetX:ne=0,offsetY:ee=0,dontFlip:rt=!1}){this.viewBox=lt,this.scale=Ve,this.rotation=Y,this.offsetX=ne,this.offsetY=ee;const at=(lt[2]+lt[0])/2,vt=(lt[3]+lt[1])/2;let ut,x,st,ot;switch(Y%=360,Y<0&&(Y+=360),Y){case 180:ut=-1,x=0,st=0,ot=1;break;case 90:ut=0,x=1,st=1,ot=0;break;case 270:ut=0,x=-1,st=-1,ot=0;break;case 0:ut=1,x=0,st=0,ot=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}rt&&(st=-st,ot=-ot);let gt,yt,xt,Rt;ut===0?(gt=Math.abs(vt-lt[1])*Ve+ne,yt=Math.abs(at-lt[0])*Ve+ee,xt=(lt[3]-lt[1])*Ve,Rt=(lt[2]-lt[0])*Ve):(gt=Math.abs(at-lt[0])*Ve+ne,yt=Math.abs(vt-lt[1])*Ve+ee,xt=(lt[2]-lt[0])*Ve,Rt=(lt[3]-lt[1])*Ve),this.transform=[ut*Ve,x*Ve,st*Ve,ot*Ve,gt-ut*Ve*at-st*Ve*vt,yt-x*Ve*at-ot*Ve*vt],this.width=xt,this.height=Rt}get rawDims(){const{viewBox:lt}=this;return(0,c.shadow)(this,"rawDims",{pageWidth:lt[2]-lt[0],pageHeight:lt[3]-lt[1],pageX:lt[0],pageY:lt[1]})}clone({scale:lt=this.scale,rotation:Ve=this.rotation,offsetX:Y=this.offsetX,offsetY:ne=this.offsetY,dontFlip:ee=!1}={}){return new Z({viewBox:this.viewBox.slice(),scale:lt,rotation:Ve,offsetX:Y,offsetY:ne,dontFlip:ee})}convertToViewportPoint(lt,Ve){return c.Util.applyTransform([lt,Ve],this.transform)}convertToViewportRectangle(lt){const Ve=c.Util.applyTransform([lt[0],lt[1]],this.transform),Y=c.Util.applyTransform([lt[2],lt[3]],this.transform);return[Ve[0],Ve[1],Y[0],Y[1]]}convertToPdfPoint(lt,Ve){return c.Util.applyInverseTransform([lt,Ve],this.transform)}}i.PageViewport=Z;class d extends c.BaseException{constructor(lt,Ve=0){super(lt,"RenderingCancelledException"),this.extraDelay=Ve}}i.RenderingCancelledException=d;function me(Ct){const lt=Ct.length;let Ve=0;for(;Ve<lt&&Ct[Ve].trim()==="";)Ve++;return Ct.substring(Ve,Ve+5).toLowerCase()==="data:"}function et(Ct){return typeof Ct=="string"&&/\.pdf$/i.test(Ct)}function E(Ct,lt=!1){return lt||([Ct]=Ct.split(/[#?]/,1)),Ct.substring(Ct.lastIndexOf("/")+1)}function ct(Ct,lt="document.pdf"){if(typeof Ct!="string")return lt;if(me(Ct))return(0,c.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),lt;const Ve=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Y=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,ne=Ve.exec(Ct);let ee=Y.exec(ne[1])||Y.exec(ne[2])||Y.exec(ne[3]);if(ee&&(ee=ee[0],ee.includes("%")))try{ee=Y.exec(decodeURIComponent(ee))[0]}catch{}return ee||lt}class mt{started=Object.create(null);times=[];time(lt){lt in this.started&&(0,c.warn)(`Timer is already running for ${lt}`),this.started[lt]=Date.now()}timeEnd(lt){lt in this.started||(0,c.warn)(`Timer has not been started for ${lt}`),this.times.push({name:lt,start:this.started[lt],end:Date.now()}),delete this.started[lt]}toString(){const lt=[];let Ve=0;for(const{name:Y}of this.times)Ve=Math.max(Y.length,Ve);for(const{name:Y,start:ne,end:ee}of this.times)lt.push(`${Y.padEnd(Ve)} ${ee-ne}ms
`);return lt.join("")}}i.StatTimer=mt;function pt(Ct,lt){try{const{protocol:Ve}=lt?new URL(Ct,lt):new URL(Ct);return Ve==="http:"||Ve==="https:"}catch{return!1}}function nt(Ct){Ct.preventDefault()}function ft(Ct,lt=!1){return new Promise((Ve,Y)=>{const ne=document.createElement("script");ne.src=Ct,ne.onload=function(ee){lt&&ne.remove(),Ve(ee)},ne.onerror=function(){Y(new Error(`Cannot load script at: ${ne.src}`))},(document.head||document.documentElement).append(ne)})}function wt(Ct){console.log("Deprecated API usage: "+Ct)}let Pt;class St{static toDateObject(lt){if(!lt||typeof lt!="string")return null;Pt||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const Ve=Pt.exec(lt);if(!Ve)return null;const Y=parseInt(Ve[1],10);let ne=parseInt(Ve[2],10);ne=ne>=1&&ne<=12?ne-1:0;let ee=parseInt(Ve[3],10);ee=ee>=1&&ee<=31?ee:1;let rt=parseInt(Ve[4],10);rt=rt>=0&&rt<=23?rt:0;let at=parseInt(Ve[5],10);at=at>=0&&at<=59?at:0;let vt=parseInt(Ve[6],10);vt=vt>=0&&vt<=59?vt:0;const ut=Ve[7]||"Z";let x=parseInt(Ve[8],10);x=x>=0&&x<=23?x:0;let st=parseInt(Ve[9],10)||0;return st=st>=0&&st<=59?st:0,ut==="-"?(rt+=x,at+=st):ut==="+"&&(rt-=x,at-=st),new Date(Date.UTC(Y,ne,ee,rt,at,vt))}}i.PDFDateString=St;function jt(Ct,{scale:lt=1,rotation:Ve=0}){const{width:Y,height:ne}=Ct.attributes.style,ee=[0,0,parseInt(Y),parseInt(ne)];return new Z({viewBox:ee,scale:lt,rotation:Ve})}function _t(Ct){if(Ct.startsWith("#")){const lt=parseInt(Ct.slice(1),16);return[(lt&16711680)>>16,(lt&65280)>>8,lt&255]}return Ct.startsWith("rgb(")?Ct.slice(4,-1).split(",").map(lt=>parseInt(lt)):Ct.startsWith("rgba(")?Ct.slice(5,-1).split(",").map(lt=>parseInt(lt)).slice(0,3):((0,c.warn)(`Not a valid color format: "${Ct}"`),[0,0,0])}function Vt(Ct){const lt=document.createElement("span");lt.style.visibility="hidden",document.body.append(lt);for(const Ve of Ct.keys()){lt.style.color=Ve;const Y=window.getComputedStyle(lt).color;Ct.set(Ve,_t(Y))}lt.remove()}function Dt(Ct){const{a:lt,b:Ve,c:Y,d:ne,e:ee,f:rt}=Ct.getTransform();return[lt,Ve,Y,ne,ee,rt]}function $t(Ct){const{a:lt,b:Ve,c:Y,d:ne,e:ee,f:rt}=Ct.getTransform().invertSelf();return[lt,Ve,Y,ne,ee,rt]}function Tt(Ct,lt,Ve=!1,Y=!0){if(lt instanceof Z){const{pageWidth:ne,pageHeight:ee}=lt.rawDims,{style:rt}=Ct,at=c.FeatureTest.isCSSRoundSupported,vt=`var(--scale-factor) * ${ne}px`,ut=`var(--scale-factor) * ${ee}px`,x=at?`round(${vt}, 1px)`:`calc(${vt})`,st=at?`round(${ut}, 1px)`:`calc(${ut})`;!Ve||lt.rotation%180===0?(rt.width=x,rt.height=st):(rt.width=st,rt.height=x)}Y&&Ct.setAttribute("data-main-rotation",lt.rotation)}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BaseStandardFontDataFactory=i.BaseSVGFactory=i.BaseFilterFactory=i.BaseCanvasFactory=i.BaseCMapReaderFactory=void 0;var l=s(1);class c{constructor(){this.constructor===c&&(0,l.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,p){return"none"}addHighlightHCMFilter(u,p,y,Z){return"none"}destroy(u=!1){}}i.BaseFilterFactory=c;class a{constructor(){this.constructor===a&&(0,l.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,p){if(u<=0||p<=0)throw new Error("Invalid canvas size");const y=this._createCanvas(u,p);return{canvas:y,context:y.getContext("2d")}}reset(u,p,y){if(!u.canvas)throw new Error("Canvas is not specified");if(p<=0||y<=0)throw new Error("Invalid canvas size");u.canvas.width=p,u.canvas.height=y}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,p){(0,l.unreachable)("Abstract method `_createCanvas` called.")}}i.BaseCanvasFactory=a;class G{constructor({baseUrl:u=null,isCompressed:p=!0}){this.constructor===G&&(0,l.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=p}async fetch({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const p=this.baseUrl+u+(this.isCompressed?".bcmap":""),y=this.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE;return this._fetchData(p,y).catch(Z=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${p}`)})}_fetchData(u,p){(0,l.unreachable)("Abstract method `_fetchData` called.")}}i.BaseCMapReaderFactory=G;class tt{constructor({baseUrl:u=null}){this.constructor===tt&&(0,l.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}async fetch({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const p=`${this.baseUrl}${u}`;return this._fetchData(p).catch(y=>{throw new Error(`Unable to load font data at: ${p}`)})}_fetchData(u){(0,l.unreachable)("Abstract method `_fetchData` called.")}}i.BaseStandardFontDataFactory=tt;class it{constructor(){this.constructor===it&&(0,l.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,p,y=!1){if(u<=0||p<=0)throw new Error("Invalid SVG dimensions");const Z=this._createSVG("svg:svg");return Z.setAttribute("version","1.1"),y||(Z.setAttribute("width",`${u}px`),Z.setAttribute("height",`${p}px`)),Z.setAttribute("preserveAspectRatio","none"),Z.setAttribute("viewBox",`0 0 ${u} ${p}`),Z}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,l.unreachable)("Abstract method `_createSVG` called.")}}i.BaseSVGFactory=it},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MurmurHash3_64=void 0;var l=s(1);const c=3285377520,a=4294901760,G=65535;class tt{constructor(f){this.h1=f?f&4294967295:c,this.h2=f?f&4294967295:c}update(f){let u,p;if(typeof f=="string"){u=new Uint8Array(f.length*2),p=0;for(let wt=0,Pt=f.length;wt<Pt;wt++){const St=f.charCodeAt(wt);St<=255?u[p++]=St:(u[p++]=St>>>8,u[p++]=St&255)}}else if((0,l.isArrayBuffer)(f))u=f.slice(),p=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const y=p>>2,Z=p-y*4,d=new Uint32Array(u.buffer,0,y);let me=0,et=0,E=this.h1,ct=this.h2;const mt=3432918353,pt=461845907,nt=mt&G,ft=pt&G;for(let wt=0;wt<y;wt++)wt&1?(me=d[wt],me=me*mt&a|me*nt&G,me=me<<15|me>>>17,me=me*pt&a|me*ft&G,E^=me,E=E<<13|E>>>19,E=E*5+3864292196):(et=d[wt],et=et*mt&a|et*nt&G,et=et<<15|et>>>17,et=et*pt&a|et*ft&G,ct^=et,ct=ct<<13|ct>>>19,ct=ct*5+3864292196);switch(me=0,Z){case 3:me^=u[y*4+2]<<16;case 2:me^=u[y*4+1]<<8;case 1:me^=u[y*4],me=me*mt&a|me*nt&G,me=me<<15|me>>>17,me=me*pt&a|me*ft&G,y&1?E^=me:ct^=me}this.h1=E,this.h2=ct}hexdigest(){let f=this.h1,u=this.h2;return f^=u>>>1,f=f*3981806797&a|f*36045&G,u=u*4283543511&a|((u<<16|f>>>16)*2950163797&a)>>>16,f^=u>>>1,f=f*444984403&a|f*60499&G,u=u*3301882366&a|((u<<16|f>>>16)*3120437893&a)>>>16,f^=u>>>1,(f>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}i.MurmurHash3_64=tt},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FontLoader=i.FontFaceObject=void 0;var l=s(1);class c{#e=new Set;constructor({ownerDocument:tt=globalThis.document,styleElement:it=null}){this._document=tt,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(tt){this.nativeFontFaces.add(tt),this._document.fonts.add(tt)}removeNativeFontFace(tt){this.nativeFontFaces.delete(tt),this._document.fonts.delete(tt)}insertRule(tt){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const it=this.styleElement.sheet;it.insertRule(tt,it.cssRules.length)}clear(){for(const tt of this.nativeFontFaces)this._document.fonts.delete(tt);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(tt){if(!(!tt||this.#e.has(tt.loadedName))){if((0,l.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:it,src:f,style:u}=tt,p=new FontFace(it,f,u);this.addNativeFontFace(p);try{await p.load(),this.#e.add(it)}catch{(0,l.warn)(`Cannot load system font: ${tt.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(p)}return}(0,l.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(tt){if(tt.attached||tt.missingFile&&!tt.systemFontInfo)return;if(tt.attached=!0,tt.systemFontInfo){await this.loadSystemFont(tt.systemFontInfo);return}if(this.isFontLoadingAPISupported){const f=tt.createNativeFontFace();if(f){this.addNativeFontFace(f);try{await f.loaded}catch(u){throw(0,l.warn)(`Failed to load font '${f.family}': '${u}'.`),tt.disableFontFace=!0,u}}return}const it=tt.createFontFaceRule();if(it){if(this.insertRule(it),this.isSyncFontLoadingSupported)return;await new Promise(f=>{const u=this._queueLoadingCallback(f);this._prepareFontLoadEvent(tt,u)})}}get isFontLoadingAPISupported(){const tt=!!this._document?.fonts;return(0,l.shadow)(this,"isFontLoadingAPISupported",tt)}get isSyncFontLoadingSupported(){let tt=!1;return(l.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(tt=!0),(0,l.shadow)(this,"isSyncFontLoadingSupported",tt)}_queueLoadingCallback(tt){function it(){for((0,l.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;f.length>0&&f[0].done;){const p=f.shift();setTimeout(p.callback,0)}}const{loadingRequests:f}=this,u={done:!1,complete:it,callback:tt};return f.push(u),u}get _loadTestFont(){const tt=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,l.shadow)(this,"_loadTestFont",tt)}_prepareFontLoadEvent(tt,it){function f(jt,_t){return jt.charCodeAt(_t)<<24|jt.charCodeAt(_t+1)<<16|jt.charCodeAt(_t+2)<<8|jt.charCodeAt(_t+3)&255}function u(jt,_t,Vt,Dt){const $t=jt.substring(0,_t),Tt=jt.substring(_t+Vt);return $t+Dt+Tt}let p,y;const Z=this._document.createElement("canvas");Z.width=1,Z.height=1;const d=Z.getContext("2d");let me=0;function et(jt,_t){if(++me>30){(0,l.warn)("Load test font never loaded."),_t();return}if(d.font="30px "+jt,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){_t();return}setTimeout(et.bind(null,jt,_t))}const E=`lt${Date.now()}${this.loadTestFontId++}`;let ct=this._loadTestFont;ct=u(ct,976,E.length,E);const pt=16,nt=1482184792;let ft=f(ct,pt);for(p=0,y=E.length-3;p<y;p+=4)ft=ft-nt+f(E,p)|0;p<E.length&&(ft=ft-nt+f(E+"XXX",p)|0),ct=u(ct,pt,4,(0,l.string32)(ft));const wt=`url(data:font/opentype;base64,${btoa(ct)});`,Pt=`@font-face {font-family:"${E}";src:${wt}}`;this.insertRule(Pt);const St=this._document.createElement("div");St.style.visibility="hidden",St.style.width=St.style.height="10px",St.style.position="absolute",St.style.top=St.style.left="0px";for(const jt of[tt.loadedName,E]){const _t=this._document.createElement("span");_t.textContent="Hi",_t.style.fontFamily=jt,St.append(_t)}this._document.body.append(St),et(E,()=>{St.remove(),it.complete()})}}i.FontLoader=c;class a{constructor(tt,{isEvalSupported:it=!0,disableFontFace:f=!1,ignoreErrors:u=!1,inspectFont:p=null}){this.compiledGlyphs=Object.create(null);for(const y in tt)this[y]=tt[y];this.isEvalSupported=it!==!1,this.disableFontFace=f===!0,this.ignoreErrors=u===!0,this._inspectFont=p}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let tt;if(!this.cssFontInfo)tt=new FontFace(this.loadedName,this.data,{});else{const it={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(it.style=`oblique ${this.cssFontInfo.italicAngle}deg`),tt=new FontFace(this.cssFontInfo.fontFamily,this.data,it)}return this._inspectFont?.(this),tt}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const tt=(0,l.bytesToString)(this.data),it=`url(data:${this.mimetype};base64,${btoa(tt)});`;let f;if(!this.cssFontInfo)f=`@font-face {font-family:"${this.loadedName}";src:${it}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),f=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${it}}`}return this._inspectFont?.(this,it),f}getPathGenerator(tt,it){if(this.compiledGlyphs[it]!==void 0)return this.compiledGlyphs[it];let f;try{f=tt.get(this.loadedName+"_path_"+it)}catch(u){if(!this.ignoreErrors)throw u;return(0,l.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[it]=function(p,y){}}if(this.isEvalSupported&&l.FeatureTest.isEvalSupported){const u=[];for(const p of f){const y=p.args!==void 0?p.args.join(","):"";u.push("c.",p.cmd,"(",y,`);
`)}return this.compiledGlyphs[it]=new Function("c","size",u.join(""))}return this.compiledGlyphs[it]=function(u,p){for(const y of f)y.cmd==="scale"&&(y.args=[p,-p]),u[y.cmd].apply(u,y.args)}}}i.FontFaceObject=a},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NodeStandardFontDataFactory=i.NodeFilterFactory=i.NodeCanvasFactory=i.NodeCMapReaderFactory=void 0;var l=s(7);s(1);const c=function(f){return new Promise((u,p)=>{require$$5.readFile(f,(Z,d)=>{if(Z||!d){p(new Error(Z));return}u(new Uint8Array(d))})})};class a extends l.BaseFilterFactory{}i.NodeFilterFactory=a;class G extends l.BaseCanvasFactory{_createCanvas(u,p){return require$$5.createCanvas(u,p)}}i.NodeCanvasFactory=G;class tt extends l.BaseCMapReaderFactory{_fetchData(u,p){return c(u).then(y=>({cMapData:y,compressionType:p}))}}i.NodeCMapReaderFactory=tt;class it extends l.BaseStandardFontDataFactory{_fetchData(u){return c(u)}}i.NodeStandardFontDataFactory=it},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CanvasGraphics=void 0;var l=s(1),c=s(6),a=s(12),G=s(13);const tt=16,it=100,f=4096,u=15,p=10,y=1e3,Z=16;function d(Ve,Y){if(Ve._removeMirroring)throw new Error("Context is already forwarding operations.");Ve.__originalSave=Ve.save,Ve.__originalRestore=Ve.restore,Ve.__originalRotate=Ve.rotate,Ve.__originalScale=Ve.scale,Ve.__originalTranslate=Ve.translate,Ve.__originalTransform=Ve.transform,Ve.__originalSetTransform=Ve.setTransform,Ve.__originalResetTransform=Ve.resetTransform,Ve.__originalClip=Ve.clip,Ve.__originalMoveTo=Ve.moveTo,Ve.__originalLineTo=Ve.lineTo,Ve.__originalBezierCurveTo=Ve.bezierCurveTo,Ve.__originalRect=Ve.rect,Ve.__originalClosePath=Ve.closePath,Ve.__originalBeginPath=Ve.beginPath,Ve._removeMirroring=()=>{Ve.save=Ve.__originalSave,Ve.restore=Ve.__originalRestore,Ve.rotate=Ve.__originalRotate,Ve.scale=Ve.__originalScale,Ve.translate=Ve.__originalTranslate,Ve.transform=Ve.__originalTransform,Ve.setTransform=Ve.__originalSetTransform,Ve.resetTransform=Ve.__originalResetTransform,Ve.clip=Ve.__originalClip,Ve.moveTo=Ve.__originalMoveTo,Ve.lineTo=Ve.__originalLineTo,Ve.bezierCurveTo=Ve.__originalBezierCurveTo,Ve.rect=Ve.__originalRect,Ve.closePath=Ve.__originalClosePath,Ve.beginPath=Ve.__originalBeginPath,delete Ve._removeMirroring},Ve.save=function(){Y.save(),this.__originalSave()},Ve.restore=function(){Y.restore(),this.__originalRestore()},Ve.translate=function(ee,rt){Y.translate(ee,rt),this.__originalTranslate(ee,rt)},Ve.scale=function(ee,rt){Y.scale(ee,rt),this.__originalScale(ee,rt)},Ve.transform=function(ee,rt,at,vt,ut,x){Y.transform(ee,rt,at,vt,ut,x),this.__originalTransform(ee,rt,at,vt,ut,x)},Ve.setTransform=function(ee,rt,at,vt,ut,x){Y.setTransform(ee,rt,at,vt,ut,x),this.__originalSetTransform(ee,rt,at,vt,ut,x)},Ve.resetTransform=function(){Y.resetTransform(),this.__originalResetTransform()},Ve.rotate=function(ee){Y.rotate(ee),this.__originalRotate(ee)},Ve.clip=function(ee){Y.clip(ee),this.__originalClip(ee)},Ve.moveTo=function(ne,ee){Y.moveTo(ne,ee),this.__originalMoveTo(ne,ee)},Ve.lineTo=function(ne,ee){Y.lineTo(ne,ee),this.__originalLineTo(ne,ee)},Ve.bezierCurveTo=function(ne,ee,rt,at,vt,ut){Y.bezierCurveTo(ne,ee,rt,at,vt,ut),this.__originalBezierCurveTo(ne,ee,rt,at,vt,ut)},Ve.rect=function(ne,ee,rt,at){Y.rect(ne,ee,rt,at),this.__originalRect(ne,ee,rt,at)},Ve.closePath=function(){Y.closePath(),this.__originalClosePath()},Ve.beginPath=function(){Y.beginPath(),this.__originalBeginPath()}}class me{constructor(Y){this.canvasFactory=Y,this.cache=Object.create(null)}getCanvas(Y,ne,ee){let rt;return this.cache[Y]!==void 0?(rt=this.cache[Y],this.canvasFactory.reset(rt,ne,ee)):(rt=this.canvasFactory.create(ne,ee),this.cache[Y]=rt),rt}delete(Y){delete this.cache[Y]}clear(){for(const Y in this.cache){const ne=this.cache[Y];this.canvasFactory.destroy(ne),delete this.cache[Y]}}}function et(Ve,Y,ne,ee,rt,at,vt,ut,x,st){const[ot,gt,yt,xt,Rt,qt]=(0,c.getCurrentTransform)(Ve);if(gt===0&&yt===0){const Qt=vt*ot+Rt,Jt=Math.round(Qt),Gt=ut*xt+qt,nn=Math.round(Gt),fn=(vt+x)*ot+Rt,an=Math.abs(Math.round(fn)-Jt)||1,_n=(ut+st)*xt+qt,An=Math.abs(Math.round(_n)-nn)||1;return Ve.setTransform(Math.sign(ot),0,0,Math.sign(xt),Jt,nn),Ve.drawImage(Y,ne,ee,rt,at,0,0,an,An),Ve.setTransform(ot,gt,yt,xt,Rt,qt),[an,An]}if(ot===0&&xt===0){const Qt=ut*yt+Rt,Jt=Math.round(Qt),Gt=vt*gt+qt,nn=Math.round(Gt),fn=(ut+st)*yt+Rt,an=Math.abs(Math.round(fn)-Jt)||1,_n=(vt+x)*gt+qt,An=Math.abs(Math.round(_n)-nn)||1;return Ve.setTransform(0,Math.sign(gt),Math.sign(yt),0,Jt,nn),Ve.drawImage(Y,ne,ee,rt,at,0,0,An,an),Ve.setTransform(ot,gt,yt,xt,Rt,qt),[An,an]}Ve.drawImage(Y,ne,ee,rt,at,vt,ut,x,st);const un=Math.hypot(ot,gt),Yt=Math.hypot(yt,xt);return[un*x,Yt*st]}function E(Ve){const{width:Y,height:ne}=Ve;if(Y>y||ne>y)return null;const ee=1e3,rt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),at=Y+1;let vt=new Uint8Array(at*(ne+1)),ut,x,st;const ot=Y+7&-8;let gt=new Uint8Array(ot*ne),yt=0;for(const Yt of Ve.data){let Qt=128;for(;Qt>0;)gt[yt++]=Yt&Qt?0:255,Qt>>=1}let xt=0;for(yt=0,gt[yt]!==0&&(vt[0]=1,++xt),x=1;x<Y;x++)gt[yt]!==gt[yt+1]&&(vt[x]=gt[yt]?2:1,++xt),yt++;for(gt[yt]!==0&&(vt[x]=2,++xt),ut=1;ut<ne;ut++){yt=ut*ot,st=ut*at,gt[yt-ot]!==gt[yt]&&(vt[st]=gt[yt]?1:8,++xt);let Yt=(gt[yt]?4:0)+(gt[yt-ot]?8:0);for(x=1;x<Y;x++)Yt=(Yt>>2)+(gt[yt+1]?4:0)+(gt[yt-ot+1]?8:0),rt[Yt]&&(vt[st+x]=rt[Yt],++xt),yt++;if(gt[yt-ot]!==gt[yt]&&(vt[st+x]=gt[yt]?2:4,++xt),xt>ee)return null}for(yt=ot*(ne-1),st=ut*at,gt[yt]!==0&&(vt[st]=8,++xt),x=1;x<Y;x++)gt[yt]!==gt[yt+1]&&(vt[st+x]=gt[yt]?4:8,++xt),yt++;if(gt[yt]!==0&&(vt[st+x]=4,++xt),xt>ee)return null;const Rt=new Int32Array([0,at,-1,0,-at,0,0,0,1]),qt=new Path2D;for(ut=0;xt&&ut<=ne;ut++){let Yt=ut*at;const Qt=Yt+Y;for(;Yt<Qt&&!vt[Yt];)Yt++;if(Yt===Qt)continue;qt.moveTo(Yt%at,ut);const Jt=Yt;let Gt=vt[Yt];do{const nn=Rt[Gt];do Yt+=nn;while(!vt[Yt]);const fn=vt[Yt];fn!==5&&fn!==10?(Gt=fn,vt[Yt]=0):(Gt=fn&51*Gt>>4,vt[Yt]&=Gt>>2|Gt<<2),qt.lineTo(Yt%at,Yt/at|0),vt[Yt]||--xt}while(Jt!==Yt);--ut}return gt=null,vt=null,function(Yt){Yt.save(),Yt.scale(1/Y,-1/ne),Yt.translate(0,-ne),Yt.fill(qt),Yt.beginPath(),Yt.restore()}}class ct{constructor(Y,ne){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=l.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=l.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,Y,ne])}clone(){const Y=Object.create(this);return Y.clipBox=this.clipBox.slice(),Y}setCurrentPoint(Y,ne){this.x=Y,this.y=ne}updatePathMinMax(Y,ne,ee){[ne,ee]=l.Util.applyTransform([ne,ee],Y),this.minX=Math.min(this.minX,ne),this.minY=Math.min(this.minY,ee),this.maxX=Math.max(this.maxX,ne),this.maxY=Math.max(this.maxY,ee)}updateRectMinMax(Y,ne){const ee=l.Util.applyTransform(ne,Y),rt=l.Util.applyTransform(ne.slice(2),Y);this.minX=Math.min(this.minX,ee[0],rt[0]),this.minY=Math.min(this.minY,ee[1],rt[1]),this.maxX=Math.max(this.maxX,ee[0],rt[0]),this.maxY=Math.max(this.maxY,ee[1],rt[1])}updateScalingPathMinMax(Y,ne){l.Util.scaleMinMax(Y,ne),this.minX=Math.min(this.minX,ne[0]),this.maxX=Math.max(this.maxX,ne[1]),this.minY=Math.min(this.minY,ne[2]),this.maxY=Math.max(this.maxY,ne[3])}updateCurvePathMinMax(Y,ne,ee,rt,at,vt,ut,x,st,ot){const gt=l.Util.bezierBoundingBox(ne,ee,rt,at,vt,ut,x,st);if(ot){ot[0]=Math.min(ot[0],gt[0],gt[2]),ot[1]=Math.max(ot[1],gt[0],gt[2]),ot[2]=Math.min(ot[2],gt[1],gt[3]),ot[3]=Math.max(ot[3],gt[1],gt[3]);return}this.updateRectMinMax(Y,gt)}getPathBoundingBox(Y=a.PathType.FILL,ne=null){const ee=[this.minX,this.minY,this.maxX,this.maxY];if(Y===a.PathType.STROKE){ne||(0,l.unreachable)("Stroke bounding box must include transform.");const rt=l.Util.singularValueDecompose2dScale(ne),at=rt[0]*this.lineWidth/2,vt=rt[1]*this.lineWidth/2;ee[0]-=at,ee[1]-=vt,ee[2]+=at,ee[3]+=vt}return ee}updateClipFromPath(){const Y=l.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(Y||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(Y){this.clipBox=Y,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(Y=a.PathType.FILL,ne=null){return l.Util.intersect(this.clipBox,this.getPathBoundingBox(Y,ne))}}function mt(Ve,Y){if(typeof ImageData<"u"&&Y instanceof ImageData){Ve.putImageData(Y,0,0);return}const ne=Y.height,ee=Y.width,rt=ne%Z,at=(ne-rt)/Z,vt=rt===0?at:at+1,ut=Ve.createImageData(ee,Z);let x=0,st;const ot=Y.data,gt=ut.data;let yt,xt,Rt,qt;if(Y.kind===l.ImageKind.GRAYSCALE_1BPP){const un=ot.byteLength,Yt=new Uint32Array(gt.buffer,0,gt.byteLength>>2),Qt=Yt.length,Jt=ee+7>>3,Gt=4294967295,nn=l.FeatureTest.isLittleEndian?4278190080:255;for(yt=0;yt<vt;yt++){for(Rt=yt<at?Z:rt,st=0,xt=0;xt<Rt;xt++){const fn=un-x;let an=0;const _n=fn>Jt?ee:fn*8-7,An=_n&-8;let Mn=0,Yn=0;for(;an<An;an+=8)Yn=ot[x++],Yt[st++]=Yn&128?Gt:nn,Yt[st++]=Yn&64?Gt:nn,Yt[st++]=Yn&32?Gt:nn,Yt[st++]=Yn&16?Gt:nn,Yt[st++]=Yn&8?Gt:nn,Yt[st++]=Yn&4?Gt:nn,Yt[st++]=Yn&2?Gt:nn,Yt[st++]=Yn&1?Gt:nn;for(;an<_n;an++)Mn===0&&(Yn=ot[x++],Mn=128),Yt[st++]=Yn&Mn?Gt:nn,Mn>>=1}for(;st<Qt;)Yt[st++]=0;Ve.putImageData(ut,0,yt*Z)}}else if(Y.kind===l.ImageKind.RGBA_32BPP){for(xt=0,qt=ee*Z*4,yt=0;yt<at;yt++)gt.set(ot.subarray(x,x+qt)),x+=qt,Ve.putImageData(ut,0,xt),xt+=Z;yt<vt&&(qt=ee*rt*4,gt.set(ot.subarray(x,x+qt)),Ve.putImageData(ut,0,xt))}else if(Y.kind===l.ImageKind.RGB_24BPP)for(Rt=Z,qt=ee*Rt,yt=0;yt<vt;yt++){for(yt>=at&&(Rt=rt,qt=ee*Rt),st=0,xt=qt;xt--;)gt[st++]=ot[x++],gt[st++]=ot[x++],gt[st++]=ot[x++],gt[st++]=255;Ve.putImageData(ut,0,yt*Z)}else throw new Error(`bad image kind: ${Y.kind}`)}function pt(Ve,Y){if(Y.bitmap){Ve.drawImage(Y.bitmap,0,0);return}const ne=Y.height,ee=Y.width,rt=ne%Z,at=(ne-rt)/Z,vt=rt===0?at:at+1,ut=Ve.createImageData(ee,Z);let x=0;const st=Y.data,ot=ut.data;for(let gt=0;gt<vt;gt++){const yt=gt<at?Z:rt;({srcPos:x}=(0,G.convertBlackAndWhiteToRGBA)({src:st,srcPos:x,dest:ot,width:ee,height:yt,nonBlackColor:0})),Ve.putImageData(ut,0,gt*Z)}}function nt(Ve,Y){const ne=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ee of ne)Ve[ee]!==void 0&&(Y[ee]=Ve[ee]);Ve.setLineDash!==void 0&&(Y.setLineDash(Ve.getLineDash()),Y.lineDashOffset=Ve.lineDashOffset)}function ft(Ve){if(Ve.strokeStyle=Ve.fillStyle="#000000",Ve.fillRule="nonzero",Ve.globalAlpha=1,Ve.lineWidth=1,Ve.lineCap="butt",Ve.lineJoin="miter",Ve.miterLimit=10,Ve.globalCompositeOperation="source-over",Ve.font="10px sans-serif",Ve.setLineDash!==void 0&&(Ve.setLineDash([]),Ve.lineDashOffset=0),!l.isNodeJS){const{filter:Y}=Ve;Y!=="none"&&Y!==""&&(Ve.filter="none")}}function wt(Ve,Y,ne,ee){const rt=Ve.length;for(let at=3;at<rt;at+=4){const vt=Ve[at];if(vt===0)Ve[at-3]=Y,Ve[at-2]=ne,Ve[at-1]=ee;else if(vt<255){const ut=255-vt;Ve[at-3]=Ve[at-3]*vt+Y*ut>>8,Ve[at-2]=Ve[at-2]*vt+ne*ut>>8,Ve[at-1]=Ve[at-1]*vt+ee*ut>>8}}}function Pt(Ve,Y,ne){const ee=Ve.length,rt=1/255;for(let at=3;at<ee;at+=4){const vt=ne?ne[Ve[at]]:Ve[at];Y[at]=Y[at]*vt*rt|0}}function St(Ve,Y,ne){const ee=Ve.length;for(let rt=3;rt<ee;rt+=4){const at=Ve[rt-3]*77+Ve[rt-2]*152+Ve[rt-1]*28;Y[rt]=ne?Y[rt]*ne[at>>8]>>8:Y[rt]*at>>16}}function jt(Ve,Y,ne,ee,rt,at,vt,ut,x,st,ot){const gt=!!at,yt=gt?at[0]:0,xt=gt?at[1]:0,Rt=gt?at[2]:0,qt=rt==="Luminosity"?St:Pt,Yt=Math.min(ee,Math.ceil(1048576/ne));for(let Qt=0;Qt<ee;Qt+=Yt){const Jt=Math.min(Yt,ee-Qt),Gt=Ve.getImageData(ut-st,Qt+(x-ot),ne,Jt),nn=Y.getImageData(ut,Qt+x,ne,Jt);gt&&wt(Gt.data,yt,xt,Rt),qt(Gt.data,nn.data,vt),Y.putImageData(nn,ut,Qt+x)}}function _t(Ve,Y,ne,ee){const rt=ee[0],at=ee[1],vt=ee[2]-rt,ut=ee[3]-at;vt===0||ut===0||(jt(Y.context,ne,vt,ut,Y.subtype,Y.backdrop,Y.transferMap,rt,at,Y.offsetX,Y.offsetY),Ve.save(),Ve.globalAlpha=1,Ve.globalCompositeOperation="source-over",Ve.setTransform(1,0,0,1,0,0),Ve.drawImage(ne.canvas,0,0),Ve.restore())}function Vt(Ve,Y){const ne=l.Util.singularValueDecompose2dScale(Ve);ne[0]=Math.fround(ne[0]),ne[1]=Math.fround(ne[1]);const ee=Math.fround((globalThis.devicePixelRatio||1)*c.PixelsPerInch.PDF_TO_CSS_UNITS);return Y!==void 0?Y:ne[0]<=ee||ne[1]<=ee}const Dt=["butt","round","square"],$t=["miter","round","bevel"],Tt={},Ct={};class lt{constructor(Y,ne,ee,rt,at,{optionalContentConfig:vt,markedContentStack:ut=null},x,st){this.ctx=Y,this.current=new ct(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ne,this.objs=ee,this.canvasFactory=rt,this.filterFactory=at,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ut||[],this.optionalContentConfig=vt,this.cachedCanvases=new me(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=x,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=st,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(Y,ne=null){return typeof Y=="string"?Y.startsWith("g_")?this.commonObjs.get(Y):this.objs.get(Y):ne}beginDrawing({transform:Y,viewport:ne,transparency:ee=!1,background:rt=null}){const at=this.ctx.canvas.width,vt=this.ctx.canvas.height,ut=this.ctx.fillStyle;if(this.ctx.fillStyle=rt||"#ffffff",this.ctx.fillRect(0,0,at,vt),this.ctx.fillStyle=ut,ee){const x=this.cachedCanvases.getCanvas("transparent",at,vt);this.compositeCtx=this.ctx,this.transparentCanvas=x.canvas,this.ctx=x.context,this.ctx.save(),this.ctx.transform(...(0,c.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ft(this.ctx),Y&&(this.ctx.transform(...Y),this.outputScaleX=Y[0],this.outputScaleY=Y[0]),this.ctx.transform(...ne.transform),this.viewportScale=ne.scale,this.baseTransform=(0,c.getCurrentTransform)(this.ctx)}executeOperatorList(Y,ne,ee,rt){const at=Y.argsArray,vt=Y.fnArray;let ut=ne||0;const x=at.length;if(x===ut)return ut;const st=x-ut>p&&typeof ee=="function",ot=st?Date.now()+u:0;let gt=0;const yt=this.commonObjs,xt=this.objs;let Rt;for(;;){if(rt!==void 0&&ut===rt.nextBreakPoint)return rt.breakIt(ut,ee),ut;if(Rt=vt[ut],Rt!==l.OPS.dependency)this[Rt].apply(this,at[ut]);else for(const qt of at[ut]){const un=qt.startsWith("g_")?yt:xt;if(!un.has(qt))return un.get(qt,ee),ut}if(ut++,ut===x)return ut;if(st&&++gt>p){if(Date.now()>ot)return ee(),ut;gt=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const Y of this._cachedBitmapsMap.values()){for(const ne of Y.values())typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement&&(ne.width=ne.height=0);Y.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const Y=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(Y!=="none"){const ne=this.ctx.filter;this.ctx.filter=Y,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ne}}}_scaleImage(Y,ne){const ee=Y.width,rt=Y.height;let at=Math.max(Math.hypot(ne[0],ne[1]),1),vt=Math.max(Math.hypot(ne[2],ne[3]),1),ut=ee,x=rt,st="prescale1",ot,gt;for(;at>2&&ut>1||vt>2&&x>1;){let yt=ut,xt=x;at>2&&ut>1&&(yt=ut>=16384?Math.floor(ut/2)-1||1:Math.ceil(ut/2),at/=ut/yt),vt>2&&x>1&&(xt=x>=16384?Math.floor(x/2)-1||1:Math.ceil(x)/2,vt/=x/xt),ot=this.cachedCanvases.getCanvas(st,yt,xt),gt=ot.context,gt.clearRect(0,0,yt,xt),gt.drawImage(Y,0,0,ut,x,0,0,yt,xt),Y=ot.canvas,ut=yt,x=xt,st=st==="prescale1"?"prescale2":"prescale1"}return{img:Y,paintWidth:ut,paintHeight:x}}_createMaskCanvas(Y){const ne=this.ctx,{width:ee,height:rt}=Y,at=this.current.fillColor,vt=this.current.patternFill,ut=(0,c.getCurrentTransform)(ne);let x,st,ot,gt;if((Y.bitmap||Y.data)&&Y.count>1){const an=Y.bitmap||Y.data.buffer;st=JSON.stringify(vt?ut:[ut.slice(0,4),at]),x=this._cachedBitmapsMap.get(an),x||(x=new Map,this._cachedBitmapsMap.set(an,x));const _n=x.get(st);if(_n&&!vt){const An=Math.round(Math.min(ut[0],ut[2])+ut[4]),Mn=Math.round(Math.min(ut[1],ut[3])+ut[5]);return{canvas:_n,offsetX:An,offsetY:Mn}}ot=_n}ot||(gt=this.cachedCanvases.getCanvas("maskCanvas",ee,rt),pt(gt.context,Y));let yt=l.Util.transform(ut,[1/ee,0,0,-1/rt,0,0]);yt=l.Util.transform(yt,[1,0,0,1,0,-rt]);const xt=l.Util.applyTransform([0,0],yt),Rt=l.Util.applyTransform([ee,rt],yt),qt=l.Util.normalizeRect([xt[0],xt[1],Rt[0],Rt[1]]),un=Math.round(qt[2]-qt[0])||1,Yt=Math.round(qt[3]-qt[1])||1,Qt=this.cachedCanvases.getCanvas("fillCanvas",un,Yt),Jt=Qt.context,Gt=Math.min(xt[0],Rt[0]),nn=Math.min(xt[1],Rt[1]);Jt.translate(-Gt,-nn),Jt.transform(...yt),ot||(ot=this._scaleImage(gt.canvas,(0,c.getCurrentTransformInverse)(Jt)),ot=ot.img,x&&vt&&x.set(st,ot)),Jt.imageSmoothingEnabled=Vt((0,c.getCurrentTransform)(Jt),Y.interpolate),et(Jt,ot,0,0,ot.width,ot.height,0,0,ee,rt),Jt.globalCompositeOperation="source-in";const fn=l.Util.transform((0,c.getCurrentTransformInverse)(Jt),[1,0,0,1,-Gt,-nn]);return Jt.fillStyle=vt?at.getPattern(ne,this,fn,a.PathType.FILL):at,Jt.fillRect(0,0,ee,rt),x&&!vt&&(this.cachedCanvases.delete("fillCanvas"),x.set(st,Qt.canvas)),{canvas:Qt.canvas,offsetX:Math.round(Gt),offsetY:Math.round(nn)}}setLineWidth(Y){Y!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Y,this.ctx.lineWidth=Y}setLineCap(Y){this.ctx.lineCap=Dt[Y]}setLineJoin(Y){this.ctx.lineJoin=$t[Y]}setMiterLimit(Y){this.ctx.miterLimit=Y}setDash(Y,ne){const ee=this.ctx;ee.setLineDash!==void 0&&(ee.setLineDash(Y),ee.lineDashOffset=ne)}setRenderingIntent(Y){}setFlatness(Y){}setGState(Y){for(const[ne,ee]of Y)switch(ne){case"LW":this.setLineWidth(ee);break;case"LC":this.setLineCap(ee);break;case"LJ":this.setLineJoin(ee);break;case"ML":this.setMiterLimit(ee);break;case"D":this.setDash(ee[0],ee[1]);break;case"RI":this.setRenderingIntent(ee);break;case"FL":this.setFlatness(ee);break;case"Font":this.setFont(ee[0],ee[1]);break;case"CA":this.current.strokeAlpha=ee;break;case"ca":this.current.fillAlpha=ee,this.ctx.globalAlpha=ee;break;case"BM":this.ctx.globalCompositeOperation=ee;break;case"SMask":this.current.activeSMask=ee?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ee);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const Y=this.inSMaskMode;this.current.activeSMask&&!Y?this.beginSMaskMode():!this.current.activeSMask&&Y&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Y=this.ctx.canvas.width,ne=this.ctx.canvas.height,ee="smaskGroupAt"+this.groupLevel,rt=this.cachedCanvases.getCanvas(ee,Y,ne);this.suspendedCtx=this.ctx,this.ctx=rt.context;const at=this.ctx;at.setTransform(...(0,c.getCurrentTransform)(this.suspendedCtx)),nt(this.suspendedCtx,at),d(at,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),nt(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(Y){if(!this.current.activeSMask)return;Y?(Y[0]=Math.floor(Y[0]),Y[1]=Math.floor(Y[1]),Y[2]=Math.ceil(Y[2]),Y[3]=Math.ceil(Y[3])):Y=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ne=this.current.activeSMask,ee=this.suspendedCtx;_t(ee,ne,this.ctx,Y),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(nt(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const Y=this.current;this.stateStack.push(Y),this.current=Y.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),nt(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(Y,ne,ee,rt,at,vt){this.ctx.transform(Y,ne,ee,rt,at,vt),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(Y,ne,ee){const rt=this.ctx,at=this.current;let vt=at.x,ut=at.y,x,st;const ot=(0,c.getCurrentTransform)(rt),gt=ot[0]===0&&ot[3]===0||ot[1]===0&&ot[2]===0,yt=gt?ee.slice(0):null;for(let xt=0,Rt=0,qt=Y.length;xt<qt;xt++)switch(Y[xt]|0){case l.OPS.rectangle:vt=ne[Rt++],ut=ne[Rt++];const un=ne[Rt++],Yt=ne[Rt++],Qt=vt+un,Jt=ut+Yt;rt.moveTo(vt,ut),un===0||Yt===0?rt.lineTo(Qt,Jt):(rt.lineTo(Qt,ut),rt.lineTo(Qt,Jt),rt.lineTo(vt,Jt)),gt||at.updateRectMinMax(ot,[vt,ut,Qt,Jt]),rt.closePath();break;case l.OPS.moveTo:vt=ne[Rt++],ut=ne[Rt++],rt.moveTo(vt,ut),gt||at.updatePathMinMax(ot,vt,ut);break;case l.OPS.lineTo:vt=ne[Rt++],ut=ne[Rt++],rt.lineTo(vt,ut),gt||at.updatePathMinMax(ot,vt,ut);break;case l.OPS.curveTo:x=vt,st=ut,vt=ne[Rt+4],ut=ne[Rt+5],rt.bezierCurveTo(ne[Rt],ne[Rt+1],ne[Rt+2],ne[Rt+3],vt,ut),at.updateCurvePathMinMax(ot,x,st,ne[Rt],ne[Rt+1],ne[Rt+2],ne[Rt+3],vt,ut,yt),Rt+=6;break;case l.OPS.curveTo2:x=vt,st=ut,rt.bezierCurveTo(vt,ut,ne[Rt],ne[Rt+1],ne[Rt+2],ne[Rt+3]),at.updateCurvePathMinMax(ot,x,st,vt,ut,ne[Rt],ne[Rt+1],ne[Rt+2],ne[Rt+3],yt),vt=ne[Rt+2],ut=ne[Rt+3],Rt+=4;break;case l.OPS.curveTo3:x=vt,st=ut,vt=ne[Rt+2],ut=ne[Rt+3],rt.bezierCurveTo(ne[Rt],ne[Rt+1],vt,ut,vt,ut),at.updateCurvePathMinMax(ot,x,st,ne[Rt],ne[Rt+1],vt,ut,vt,ut,yt),Rt+=4;break;case l.OPS.closePath:rt.closePath();break}gt&&at.updateScalingPathMinMax(ot,yt),at.setCurrentPoint(vt,ut)}closePath(){this.ctx.closePath()}stroke(Y=!0){const ne=this.ctx,ee=this.current.strokeColor;ne.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ee=="object"&&ee?.getPattern?(ne.save(),ne.strokeStyle=ee.getPattern(ne,this,(0,c.getCurrentTransformInverse)(ne),a.PathType.STROKE),this.rescaleAndStroke(!1),ne.restore()):this.rescaleAndStroke(!0)),Y&&this.consumePath(this.current.getClippedPathBoundingBox()),ne.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(Y=!0){const ne=this.ctx,ee=this.current.fillColor,rt=this.current.patternFill;let at=!1;rt&&(ne.save(),ne.fillStyle=ee.getPattern(ne,this,(0,c.getCurrentTransformInverse)(ne),a.PathType.FILL),at=!0);const vt=this.current.getClippedPathBoundingBox();this.contentVisible&&vt!==null&&(this.pendingEOFill?(ne.fill("evenodd"),this.pendingEOFill=!1):ne.fill()),at&&ne.restore(),Y&&this.consumePath(vt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Tt}eoClip(){this.pendingClip=Ct}beginText(){this.current.textMatrix=l.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const Y=this.pendingTextPaths,ne=this.ctx;if(Y===void 0){ne.beginPath();return}ne.save(),ne.beginPath();for(const ee of Y)ne.setTransform(...ee.transform),ne.translate(ee.x,ee.y),ee.addToPath(ne,ee.fontSize);ne.restore(),ne.clip(),ne.beginPath(),delete this.pendingTextPaths}setCharSpacing(Y){this.current.charSpacing=Y}setWordSpacing(Y){this.current.wordSpacing=Y}setHScale(Y){this.current.textHScale=Y/100}setLeading(Y){this.current.leading=-Y}setFont(Y,ne){const ee=this.commonObjs.get(Y),rt=this.current;if(!ee)throw new Error(`Can't find font for ${Y}`);if(rt.fontMatrix=ee.fontMatrix||l.FONT_IDENTITY_MATRIX,(rt.fontMatrix[0]===0||rt.fontMatrix[3]===0)&&(0,l.warn)("Invalid font matrix for font "+Y),ne<0?(ne=-ne,rt.fontDirection=-1):rt.fontDirection=1,this.current.font=ee,this.current.fontSize=ne,ee.isType3Font)return;const at=ee.loadedName||"sans-serif",vt=ee.systemFontInfo?.css||`"${at}", ${ee.fallbackName}`;let ut="normal";ee.black?ut="900":ee.bold&&(ut="bold");const x=ee.italic?"italic":"normal";let st=ne;ne<tt?st=tt:ne>it&&(st=it),this.current.fontSizeScale=ne/st,this.ctx.font=`${x} ${ut} ${st}px ${vt}`}setTextRenderingMode(Y){this.current.textRenderingMode=Y}setTextRise(Y){this.current.textRise=Y}moveText(Y,ne){this.current.x=this.current.lineX+=Y,this.current.y=this.current.lineY+=ne}setLeadingMoveText(Y,ne){this.setLeading(-ne),this.moveText(Y,ne)}setTextMatrix(Y,ne,ee,rt,at,vt){this.current.textMatrix=[Y,ne,ee,rt,at,vt],this.current.textMatrixScale=Math.hypot(Y,ne),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(Y,ne,ee,rt){const at=this.ctx,vt=this.current,ut=vt.font,x=vt.textRenderingMode,st=vt.fontSize/vt.fontSizeScale,ot=x&l.TextRenderingMode.FILL_STROKE_MASK,gt=!!(x&l.TextRenderingMode.ADD_TO_PATH_FLAG),yt=vt.patternFill&&!ut.missingFile;let xt;(ut.disableFontFace||gt||yt)&&(xt=ut.getPathGenerator(this.commonObjs,Y)),ut.disableFontFace||yt?(at.save(),at.translate(ne,ee),at.beginPath(),xt(at,st),rt&&at.setTransform(...rt),(ot===l.TextRenderingMode.FILL||ot===l.TextRenderingMode.FILL_STROKE)&&at.fill(),(ot===l.TextRenderingMode.STROKE||ot===l.TextRenderingMode.FILL_STROKE)&&at.stroke(),at.restore()):((ot===l.TextRenderingMode.FILL||ot===l.TextRenderingMode.FILL_STROKE)&&at.fillText(Y,ne,ee),(ot===l.TextRenderingMode.STROKE||ot===l.TextRenderingMode.FILL_STROKE)&&at.strokeText(Y,ne,ee)),gt&&(this.pendingTextPaths||=[]).push({transform:(0,c.getCurrentTransform)(at),x:ne,y:ee,fontSize:st,addToPath:xt})}get isFontSubpixelAAEnabled(){const{context:Y}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);Y.scale(1.5,1),Y.fillText("I",0,10);const ne=Y.getImageData(0,0,10,10).data;let ee=!1;for(let rt=3;rt<ne.length;rt+=4)if(ne[rt]>0&&ne[rt]<255){ee=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",ee)}showText(Y){const ne=this.current,ee=ne.font;if(ee.isType3Font)return this.showType3Text(Y);const rt=ne.fontSize;if(rt===0)return;const at=this.ctx,vt=ne.fontSizeScale,ut=ne.charSpacing,x=ne.wordSpacing,st=ne.fontDirection,ot=ne.textHScale*st,gt=Y.length,yt=ee.vertical,xt=yt?1:-1,Rt=ee.defaultVMetrics,qt=rt*ne.fontMatrix[0],un=ne.textRenderingMode===l.TextRenderingMode.FILL&&!ee.disableFontFace&&!ne.patternFill;at.save(),at.transform(...ne.textMatrix),at.translate(ne.x,ne.y+ne.textRise),st>0?at.scale(ot,-1):at.scale(ot,1);let Yt;if(ne.patternFill){at.save();const fn=ne.fillColor.getPattern(at,this,(0,c.getCurrentTransformInverse)(at),a.PathType.FILL);Yt=(0,c.getCurrentTransform)(at),at.restore(),at.fillStyle=fn}let Qt=ne.lineWidth;const Jt=ne.textMatrixScale;if(Jt===0||Qt===0){const fn=ne.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;(fn===l.TextRenderingMode.STROKE||fn===l.TextRenderingMode.FILL_STROKE)&&(Qt=this.getSinglePixelWidth())}else Qt/=Jt;if(vt!==1&&(at.scale(vt,vt),Qt/=vt),at.lineWidth=Qt,ee.isInvalidPDFjsFont){const fn=[];let an=0;for(const _n of Y)fn.push(_n.unicode),an+=_n.width;at.fillText(fn.join(""),0,0),ne.x+=an*qt*ot,at.restore(),this.compose();return}let Gt=0,nn;for(nn=0;nn<gt;++nn){const fn=Y[nn];if(typeof fn=="number"){Gt+=xt*fn*rt/1e3;continue}let an=!1;const _n=(fn.isSpace?x:0)+ut,An=fn.fontChar,Mn=fn.accent;let Yn,ar,er=fn.width;if(yt){const dr=fn.vmetric||Rt,hr=-(fn.vmetric?dr[1]:er*.5)*qt,or=dr[2]*qt;er=dr?-dr[0]:er,Yn=hr/vt,ar=(Gt+or)/vt}else Yn=Gt/vt,ar=0;if(ee.remeasure&&er>0){const dr=at.measureText(An).width*1e3/rt*vt;if(er<dr&&this.isFontSubpixelAAEnabled){const hr=er/dr;an=!0,at.save(),at.scale(hr,1),Yn/=hr}else er!==dr&&(Yn+=(er-dr)/2e3*rt/vt)}if(this.contentVisible&&(fn.isInFont||ee.missingFile)){if(un&&!Mn)at.fillText(An,Yn,ar);else if(this.paintChar(An,Yn,ar,Yt),Mn){const dr=Yn+rt*Mn.offset.x/vt,hr=ar-rt*Mn.offset.y/vt;this.paintChar(Mn.fontChar,dr,hr,Yt)}}const Tr=yt?er*qt-_n*st:er*qt+_n*st;Gt+=Tr,an&&at.restore()}yt?ne.y-=Gt:ne.x+=Gt*ot,at.restore(),this.compose()}showType3Text(Y){const ne=this.ctx,ee=this.current,rt=ee.font,at=ee.fontSize,vt=ee.fontDirection,ut=rt.vertical?1:-1,x=ee.charSpacing,st=ee.wordSpacing,ot=ee.textHScale*vt,gt=ee.fontMatrix||l.FONT_IDENTITY_MATRIX,yt=Y.length,xt=ee.textRenderingMode===l.TextRenderingMode.INVISIBLE;let Rt,qt,un,Yt;if(!(xt||at===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ne.save(),ne.transform(...ee.textMatrix),ne.translate(ee.x,ee.y),ne.scale(ot,vt),Rt=0;Rt<yt;++Rt){if(qt=Y[Rt],typeof qt=="number"){Yt=ut*qt*at/1e3,this.ctx.translate(Yt,0),ee.x+=Yt*ot;continue}const Qt=(qt.isSpace?st:0)+x,Jt=rt.charProcOperatorList[qt.operatorListId];if(!Jt){(0,l.warn)(`Type3 character "${qt.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=qt,this.save(),ne.scale(at,at),ne.transform(...gt),this.executeOperatorList(Jt),this.restore()),un=l.Util.applyTransform([qt.width,0],gt)[0]*at+Qt,ne.translate(un,0),ee.x+=un*ot}ne.restore(),this.processingType3=null}}setCharWidth(Y,ne){}setCharWidthAndBounds(Y,ne,ee,rt,at,vt){this.ctx.rect(ee,rt,at-ee,vt-rt),this.ctx.clip(),this.endPath()}getColorN_Pattern(Y){let ne;if(Y[0]==="TilingPattern"){const ee=Y[1],rt=this.baseTransform||(0,c.getCurrentTransform)(this.ctx),at={createCanvasGraphics:vt=>new lt(vt,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ne=new a.TilingPattern(Y,ee,this.ctx,at,rt)}else ne=this._getPattern(Y[1],Y[2]);return ne}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(Y,ne,ee){const rt=l.Util.makeHexColor(Y,ne,ee);this.ctx.strokeStyle=rt,this.current.strokeColor=rt}setFillRGBColor(Y,ne,ee){const rt=l.Util.makeHexColor(Y,ne,ee);this.ctx.fillStyle=rt,this.current.fillColor=rt,this.current.patternFill=!1}_getPattern(Y,ne=null){let ee;return this.cachedPatterns.has(Y)?ee=this.cachedPatterns.get(Y):(ee=(0,a.getShadingPattern)(this.getObject(Y)),this.cachedPatterns.set(Y,ee)),ne&&(ee.matrix=ne),ee}shadingFill(Y){if(!this.contentVisible)return;const ne=this.ctx;this.save();const ee=this._getPattern(Y);ne.fillStyle=ee.getPattern(ne,this,(0,c.getCurrentTransformInverse)(ne),a.PathType.SHADING);const rt=(0,c.getCurrentTransformInverse)(ne);if(rt){const{width:at,height:vt}=ne.canvas,[ut,x,st,ot]=l.Util.getAxialAlignedBoundingBox([0,0,at,vt],rt);this.ctx.fillRect(ut,x,st-ut,ot-x)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,l.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,l.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(Y,ne){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Y)&&Y.length===6&&this.transform(...Y),this.baseTransform=(0,c.getCurrentTransform)(this.ctx),ne)){const ee=ne[2]-ne[0],rt=ne[3]-ne[1];this.ctx.rect(ne[0],ne[1],ee,rt),this.current.updateRectMinMax((0,c.getCurrentTransform)(this.ctx),ne),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(Y){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ne=this.ctx;Y.isolated||(0,l.info)("TODO: Support non-isolated groups."),Y.knockout&&(0,l.warn)("Knockout groups not supported.");const ee=(0,c.getCurrentTransform)(ne);if(Y.matrix&&ne.transform(...Y.matrix),!Y.bbox)throw new Error("Bounding box is required.");let rt=l.Util.getAxialAlignedBoundingBox(Y.bbox,(0,c.getCurrentTransform)(ne));const at=[0,0,ne.canvas.width,ne.canvas.height];rt=l.Util.intersect(rt,at)||[0,0,0,0];const vt=Math.floor(rt[0]),ut=Math.floor(rt[1]);let x=Math.max(Math.ceil(rt[2])-vt,1),st=Math.max(Math.ceil(rt[3])-ut,1),ot=1,gt=1;x>f&&(ot=x/f,x=f),st>f&&(gt=st/f,st=f),this.current.startNewPathAndClipBox([0,0,x,st]);let yt="groupAt"+this.groupLevel;Y.smask&&(yt+="_smask_"+this.smaskCounter++%2);const xt=this.cachedCanvases.getCanvas(yt,x,st),Rt=xt.context;Rt.scale(1/ot,1/gt),Rt.translate(-vt,-ut),Rt.transform(...ee),Y.smask?this.smaskStack.push({canvas:xt.canvas,context:Rt,offsetX:vt,offsetY:ut,scaleX:ot,scaleY:gt,subtype:Y.smask.subtype,backdrop:Y.smask.backdrop,transferMap:Y.smask.transferMap||null,startTransformInverse:null}):(ne.setTransform(1,0,0,1,0,0),ne.translate(vt,ut),ne.scale(ot,gt),ne.save()),nt(ne,Rt),this.ctx=Rt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ne),this.groupLevel++}endGroup(Y){if(!this.contentVisible)return;this.groupLevel--;const ne=this.ctx,ee=this.groupStack.pop();if(this.ctx=ee,this.ctx.imageSmoothingEnabled=!1,Y.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const rt=(0,c.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...rt);const at=l.Util.getAxialAlignedBoundingBox([0,0,ne.canvas.width,ne.canvas.height],rt);this.ctx.drawImage(ne.canvas,0,0),this.ctx.restore(),this.compose(at)}}beginAnnotation(Y,ne,ee,rt,at){if(this.#e(),ft(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ne)&&ne.length===4){const vt=ne[2]-ne[0],ut=ne[3]-ne[1];if(at&&this.annotationCanvasMap){ee=ee.slice(),ee[4]-=ne[0],ee[5]-=ne[1],ne=ne.slice(),ne[0]=ne[1]=0,ne[2]=vt,ne[3]=ut;const[x,st]=l.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(this.ctx)),{viewportScale:ot}=this,gt=Math.ceil(vt*this.outputScaleX*ot),yt=Math.ceil(ut*this.outputScaleY*ot);this.annotationCanvas=this.canvasFactory.create(gt,yt);const{canvas:xt,context:Rt}=this.annotationCanvas;this.annotationCanvasMap.set(Y,xt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Rt,this.ctx.save(),this.ctx.setTransform(x,0,0,-st,0,ut*st),ft(this.ctx)}else ft(this.ctx),this.ctx.rect(ne[0],ne[1],vt,ut),this.ctx.clip(),this.endPath()}this.current=new ct(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ee),this.transform(...rt)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(Y){if(!this.contentVisible)return;const ne=Y.count;Y=this.getObject(Y.data,Y),Y.count=ne;const ee=this.ctx,rt=this.processingType3;if(rt&&(rt.compiled===void 0&&(rt.compiled=E(Y)),rt.compiled)){rt.compiled(ee);return}const at=this._createMaskCanvas(Y),vt=at.canvas;ee.save(),ee.setTransform(1,0,0,1,0,0),ee.drawImage(vt,at.offsetX,at.offsetY),ee.restore(),this.compose()}paintImageMaskXObjectRepeat(Y,ne,ee=0,rt=0,at,vt){if(!this.contentVisible)return;Y=this.getObject(Y.data,Y);const ut=this.ctx;ut.save();const x=(0,c.getCurrentTransform)(ut);ut.transform(ne,ee,rt,at,0,0);const st=this._createMaskCanvas(Y);ut.setTransform(1,0,0,1,st.offsetX-x[4],st.offsetY-x[5]);for(let ot=0,gt=vt.length;ot<gt;ot+=2){const yt=l.Util.transform(x,[ne,ee,rt,at,vt[ot],vt[ot+1]]),[xt,Rt]=l.Util.applyTransform([0,0],yt);ut.drawImage(st.canvas,xt,Rt)}ut.restore(),this.compose()}paintImageMaskXObjectGroup(Y){if(!this.contentVisible)return;const ne=this.ctx,ee=this.current.fillColor,rt=this.current.patternFill;for(const at of Y){const{data:vt,width:ut,height:x,transform:st}=at,ot=this.cachedCanvases.getCanvas("maskCanvas",ut,x),gt=ot.context;gt.save();const yt=this.getObject(vt,at);pt(gt,yt),gt.globalCompositeOperation="source-in",gt.fillStyle=rt?ee.getPattern(gt,this,(0,c.getCurrentTransformInverse)(ne),a.PathType.FILL):ee,gt.fillRect(0,0,ut,x),gt.restore(),ne.save(),ne.transform(...st),ne.scale(1,-1),et(ne,ot.canvas,0,0,ut,x,0,-1,1,1),ne.restore()}this.compose()}paintImageXObject(Y){if(!this.contentVisible)return;const ne=this.getObject(Y);if(!ne){(0,l.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ne)}paintImageXObjectRepeat(Y,ne,ee,rt){if(!this.contentVisible)return;const at=this.getObject(Y);if(!at){(0,l.warn)("Dependent image isn't ready yet");return}const vt=at.width,ut=at.height,x=[];for(let st=0,ot=rt.length;st<ot;st+=2)x.push({transform:[ne,0,0,ee,rt[st],rt[st+1]],x:0,y:0,w:vt,h:ut});this.paintInlineImageXObjectGroup(at,x)}applyTransferMapsToCanvas(Y){return this.current.transferMaps!=="none"&&(Y.filter=this.current.transferMaps,Y.drawImage(Y.canvas,0,0),Y.filter="none"),Y.canvas}applyTransferMapsToBitmap(Y){if(this.current.transferMaps==="none")return Y.bitmap;const{bitmap:ne,width:ee,height:rt}=Y,at=this.cachedCanvases.getCanvas("inlineImage",ee,rt),vt=at.context;return vt.filter=this.current.transferMaps,vt.drawImage(ne,0,0),vt.filter="none",at.canvas}paintInlineImageXObject(Y){if(!this.contentVisible)return;const ne=Y.width,ee=Y.height,rt=this.ctx;if(this.save(),!l.isNodeJS){const{filter:ut}=rt;ut!=="none"&&ut!==""&&(rt.filter="none")}rt.scale(1/ne,-1/ee);let at;if(Y.bitmap)at=this.applyTransferMapsToBitmap(Y);else if(typeof HTMLElement=="function"&&Y instanceof HTMLElement||!Y.data)at=Y;else{const x=this.cachedCanvases.getCanvas("inlineImage",ne,ee).context;mt(x,Y),at=this.applyTransferMapsToCanvas(x)}const vt=this._scaleImage(at,(0,c.getCurrentTransformInverse)(rt));rt.imageSmoothingEnabled=Vt((0,c.getCurrentTransform)(rt),Y.interpolate),et(rt,vt.img,0,0,vt.paintWidth,vt.paintHeight,0,-ee,ne,ee),this.compose(),this.restore()}paintInlineImageXObjectGroup(Y,ne){if(!this.contentVisible)return;const ee=this.ctx;let rt;if(Y.bitmap)rt=Y.bitmap;else{const at=Y.width,vt=Y.height,x=this.cachedCanvases.getCanvas("inlineImage",at,vt).context;mt(x,Y),rt=this.applyTransferMapsToCanvas(x)}for(const at of ne)ee.save(),ee.transform(...at.transform),ee.scale(1,-1),et(ee,rt,at.x,at.y,at.w,at.h,0,-1,1,1),ee.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(Y){}markPointProps(Y,ne){}beginMarkedContent(Y){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(Y,ne){Y==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ne)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(Y){const ne=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Y);const ee=this.ctx;this.pendingClip&&(ne||(this.pendingClip===Ct?ee.clip("evenodd"):ee.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ee.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const Y=(0,c.getCurrentTransform)(this.ctx);if(Y[1]===0&&Y[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(Y[0]),Math.abs(Y[3]));else{const ne=Math.abs(Y[0]*Y[3]-Y[2]*Y[1]),ee=Math.hypot(Y[0],Y[2]),rt=Math.hypot(Y[1],Y[3]);this._cachedGetSinglePixelWidth=Math.max(ee,rt)/ne}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:Y}=this.current,{a:ne,b:ee,c:rt,d:at}=this.ctx.getTransform();let vt,ut;if(ee===0&&rt===0){const x=Math.abs(ne),st=Math.abs(at);if(x===st)if(Y===0)vt=ut=1/x;else{const ot=x*Y;vt=ut=ot<1?1/ot:1}else if(Y===0)vt=1/x,ut=1/st;else{const ot=x*Y,gt=st*Y;vt=ot<1?1/ot:1,ut=gt<1?1/gt:1}}else{const x=Math.abs(ne*at-ee*rt),st=Math.hypot(ne,ee),ot=Math.hypot(rt,at);if(Y===0)vt=ot/x,ut=st/x;else{const gt=Y*x;vt=ot>gt?ot/gt:1,ut=st>gt?st/gt:1}}this._cachedScaleForStroking[0]=vt,this._cachedScaleForStroking[1]=ut}return this._cachedScaleForStroking}rescaleAndStroke(Y){const{ctx:ne}=this,{lineWidth:ee}=this.current,[rt,at]=this.getScaleForStroking();if(ne.lineWidth=ee||1,rt===1&&at===1){ne.stroke();return}const vt=ne.getLineDash();if(Y&&ne.save(),ne.scale(rt,at),vt.length>0){const ut=Math.max(rt,at);ne.setLineDash(vt.map(x=>x/ut)),ne.lineDashOffset/=ut}ne.stroke(),Y&&ne.restore()}isContentVisible(){for(let Y=this.markedContentStack.length-1;Y>=0;Y--)if(!this.markedContentStack[Y].visible)return!1;return!0}}i.CanvasGraphics=lt;for(const Ve in l.OPS)lt.prototype[Ve]!==void 0&&(lt.prototype[l.OPS[Ve]]=lt.prototype[Ve])},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TilingPattern=i.PathType=void 0,i.getShadingPattern=Z;var l=s(1),c=s(6);const a={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};i.PathType=a;function G(et,E){if(!E)return;const ct=E[2]-E[0],mt=E[3]-E[1],pt=new Path2D;pt.rect(E[0],E[1],ct,mt),et.clip(pt)}class tt{constructor(){this.constructor===tt&&(0,l.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,l.unreachable)("Abstract method `getPattern` called.")}}class it extends tt{constructor(E){super(),this._type=E[1],this._bbox=E[2],this._colorStops=E[3],this._p0=E[4],this._p1=E[5],this._r0=E[6],this._r1=E[7],this.matrix=null}_createGradient(E){let ct;this._type==="axial"?ct=E.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ct=E.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const mt of this._colorStops)ct.addColorStop(mt[0],mt[1]);return ct}getPattern(E,ct,mt,pt){let nt;if(pt===a.STROKE||pt===a.FILL){const ft=ct.current.getClippedPathBoundingBox(pt,(0,c.getCurrentTransform)(E))||[0,0,0,0],wt=Math.ceil(ft[2]-ft[0])||1,Pt=Math.ceil(ft[3]-ft[1])||1,St=ct.cachedCanvases.getCanvas("pattern",wt,Pt,!0),jt=St.context;jt.clearRect(0,0,jt.canvas.width,jt.canvas.height),jt.beginPath(),jt.rect(0,0,jt.canvas.width,jt.canvas.height),jt.translate(-ft[0],-ft[1]),mt=l.Util.transform(mt,[1,0,0,1,ft[0],ft[1]]),jt.transform(...ct.baseTransform),this.matrix&&jt.transform(...this.matrix),G(jt,this._bbox),jt.fillStyle=this._createGradient(jt),jt.fill(),nt=E.createPattern(St.canvas,"no-repeat");const _t=new DOMMatrix(mt);nt.setTransform(_t)}else G(E,this._bbox),nt=this._createGradient(E);return nt}}function f(et,E,ct,mt,pt,nt,ft,wt){const Pt=E.coords,St=E.colors,jt=et.data,_t=et.width*4;let Vt;Pt[ct+1]>Pt[mt+1]&&(Vt=ct,ct=mt,mt=Vt,Vt=nt,nt=ft,ft=Vt),Pt[mt+1]>Pt[pt+1]&&(Vt=mt,mt=pt,pt=Vt,Vt=ft,ft=wt,wt=Vt),Pt[ct+1]>Pt[mt+1]&&(Vt=ct,ct=mt,mt=Vt,Vt=nt,nt=ft,ft=Vt);const Dt=(Pt[ct]+E.offsetX)*E.scaleX,$t=(Pt[ct+1]+E.offsetY)*E.scaleY,Tt=(Pt[mt]+E.offsetX)*E.scaleX,Ct=(Pt[mt+1]+E.offsetY)*E.scaleY,lt=(Pt[pt]+E.offsetX)*E.scaleX,Ve=(Pt[pt+1]+E.offsetY)*E.scaleY;if($t>=Ve)return;const Y=St[nt],ne=St[nt+1],ee=St[nt+2],rt=St[ft],at=St[ft+1],vt=St[ft+2],ut=St[wt],x=St[wt+1],st=St[wt+2],ot=Math.round($t),gt=Math.round(Ve);let yt,xt,Rt,qt,un,Yt,Qt,Jt;for(let Gt=ot;Gt<=gt;Gt++){if(Gt<Ct){const An=Gt<$t?0:($t-Gt)/($t-Ct);yt=Dt-(Dt-Tt)*An,xt=Y-(Y-rt)*An,Rt=ne-(ne-at)*An,qt=ee-(ee-vt)*An}else{let An;Gt>Ve?An=1:Ct===Ve?An=0:An=(Ct-Gt)/(Ct-Ve),yt=Tt-(Tt-lt)*An,xt=rt-(rt-ut)*An,Rt=at-(at-x)*An,qt=vt-(vt-st)*An}let nn;Gt<$t?nn=0:Gt>Ve?nn=1:nn=($t-Gt)/($t-Ve),un=Dt-(Dt-lt)*nn,Yt=Y-(Y-ut)*nn,Qt=ne-(ne-x)*nn,Jt=ee-(ee-st)*nn;const fn=Math.round(Math.min(yt,un)),an=Math.round(Math.max(yt,un));let _n=_t*Gt+fn*4;for(let An=fn;An<=an;An++)nn=(yt-An)/(yt-un),nn<0?nn=0:nn>1&&(nn=1),jt[_n++]=xt-(xt-Yt)*nn|0,jt[_n++]=Rt-(Rt-Qt)*nn|0,jt[_n++]=qt-(qt-Jt)*nn|0,jt[_n++]=255}}function u(et,E,ct){const mt=E.coords,pt=E.colors;let nt,ft;switch(E.type){case"lattice":const wt=E.verticesPerRow,Pt=Math.floor(mt.length/wt)-1,St=wt-1;for(nt=0;nt<Pt;nt++){let jt=nt*wt;for(let _t=0;_t<St;_t++,jt++)f(et,ct,mt[jt],mt[jt+1],mt[jt+wt],pt[jt],pt[jt+1],pt[jt+wt]),f(et,ct,mt[jt+wt+1],mt[jt+1],mt[jt+wt],pt[jt+wt+1],pt[jt+1],pt[jt+wt])}break;case"triangles":for(nt=0,ft=mt.length;nt<ft;nt+=3)f(et,ct,mt[nt],mt[nt+1],mt[nt+2],pt[nt],pt[nt+1],pt[nt+2]);break;default:throw new Error("illegal figure")}}class p extends tt{constructor(E){super(),this._coords=E[2],this._colors=E[3],this._figures=E[4],this._bounds=E[5],this._bbox=E[7],this._background=E[8],this.matrix=null}_createMeshCanvas(E,ct,mt){const wt=Math.floor(this._bounds[0]),Pt=Math.floor(this._bounds[1]),St=Math.ceil(this._bounds[2])-wt,jt=Math.ceil(this._bounds[3])-Pt,_t=Math.min(Math.ceil(Math.abs(St*E[0]*1.1)),3e3),Vt=Math.min(Math.ceil(Math.abs(jt*E[1]*1.1)),3e3),Dt=St/_t,$t=jt/Vt,Tt={coords:this._coords,colors:this._colors,offsetX:-wt,offsetY:-Pt,scaleX:1/Dt,scaleY:1/$t},Ct=_t+2*2,lt=Vt+2*2,Ve=mt.getCanvas("mesh",Ct,lt,!1),Y=Ve.context,ne=Y.createImageData(_t,Vt);if(ct){const rt=ne.data;for(let at=0,vt=rt.length;at<vt;at+=4)rt[at]=ct[0],rt[at+1]=ct[1],rt[at+2]=ct[2],rt[at+3]=255}for(const rt of this._figures)u(ne,rt,Tt);return Y.putImageData(ne,2,2),{canvas:Ve.canvas,offsetX:wt-2*Dt,offsetY:Pt-2*$t,scaleX:Dt,scaleY:$t}}getPattern(E,ct,mt,pt){G(E,this._bbox);let nt;if(pt===a.SHADING)nt=l.Util.singularValueDecompose2dScale((0,c.getCurrentTransform)(E));else if(nt=l.Util.singularValueDecompose2dScale(ct.baseTransform),this.matrix){const wt=l.Util.singularValueDecompose2dScale(this.matrix);nt=[nt[0]*wt[0],nt[1]*wt[1]]}const ft=this._createMeshCanvas(nt,pt===a.SHADING?null:this._background,ct.cachedCanvases);return pt!==a.SHADING&&(E.setTransform(...ct.baseTransform),this.matrix&&E.transform(...this.matrix)),E.translate(ft.offsetX,ft.offsetY),E.scale(ft.scaleX,ft.scaleY),E.createPattern(ft.canvas,"no-repeat")}}class y extends tt{getPattern(){return"hotpink"}}function Z(et){switch(et[0]){case"RadialAxial":return new it(et);case"Mesh":return new p(et);case"Dummy":return new y}throw new Error(`Unknown IR type: ${et[0]}`)}const d={COLORED:1,UNCOLORED:2};class me{static MAX_PATTERN_SIZE=3e3;constructor(E,ct,mt,pt,nt){this.operatorList=E[2],this.matrix=E[3]||[1,0,0,1,0,0],this.bbox=E[4],this.xstep=E[5],this.ystep=E[6],this.paintType=E[7],this.tilingType=E[8],this.color=ct,this.ctx=mt,this.canvasGraphicsFactory=pt,this.baseTransform=nt}createPatternCanvas(E){const ct=this.operatorList,mt=this.bbox,pt=this.xstep,nt=this.ystep,ft=this.paintType,wt=this.tilingType,Pt=this.color,St=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+wt);const jt=mt[0],_t=mt[1],Vt=mt[2],Dt=mt[3],$t=l.Util.singularValueDecompose2dScale(this.matrix),Tt=l.Util.singularValueDecompose2dScale(this.baseTransform),Ct=[$t[0]*Tt[0],$t[1]*Tt[1]],lt=this.getSizeAndScale(pt,this.ctx.canvas.width,Ct[0]),Ve=this.getSizeAndScale(nt,this.ctx.canvas.height,Ct[1]),Y=E.cachedCanvases.getCanvas("pattern",lt.size,Ve.size,!0),ne=Y.context,ee=St.createCanvasGraphics(ne);ee.groupLevel=E.groupLevel,this.setFillAndStrokeStyleToContext(ee,ft,Pt);let rt=jt,at=_t,vt=Vt,ut=Dt;return jt<0&&(rt=0,vt+=Math.abs(jt)),_t<0&&(at=0,ut+=Math.abs(_t)),ne.translate(-(lt.scale*rt),-(Ve.scale*at)),ee.transform(lt.scale,0,0,Ve.scale,0,0),ne.save(),this.clipBbox(ee,rt,at,vt,ut),ee.baseTransform=(0,c.getCurrentTransform)(ee.ctx),ee.executeOperatorList(ct),ee.endDrawing(),{canvas:Y.canvas,scaleX:lt.scale,scaleY:Ve.scale,offsetX:rt,offsetY:at}}getSizeAndScale(E,ct,mt){E=Math.abs(E);const pt=Math.max(me.MAX_PATTERN_SIZE,ct);let nt=Math.ceil(E*mt);return nt>=pt?nt=pt:mt=nt/E,{scale:mt,size:nt}}clipBbox(E,ct,mt,pt,nt){const ft=pt-ct,wt=nt-mt;E.ctx.rect(ct,mt,ft,wt),E.current.updateRectMinMax((0,c.getCurrentTransform)(E.ctx),[ct,mt,pt,nt]),E.clip(),E.endPath()}setFillAndStrokeStyleToContext(E,ct,mt){const pt=E.ctx,nt=E.current;switch(ct){case d.COLORED:const ft=this.ctx;pt.fillStyle=ft.fillStyle,pt.strokeStyle=ft.strokeStyle,nt.fillColor=ft.fillStyle,nt.strokeColor=ft.strokeStyle;break;case d.UNCOLORED:const wt=l.Util.makeHexColor(mt[0],mt[1],mt[2]);pt.fillStyle=wt,pt.strokeStyle=wt,nt.fillColor=wt,nt.strokeColor=wt;break;default:throw new l.FormatError(`Unsupported paint type: ${ct}`)}}getPattern(E,ct,mt,pt){let nt=mt;pt!==a.SHADING&&(nt=l.Util.transform(nt,ct.baseTransform),this.matrix&&(nt=l.Util.transform(nt,this.matrix)));const ft=this.createPatternCanvas(ct);let wt=new DOMMatrix(nt);wt=wt.translate(ft.offsetX,ft.offsetY),wt=wt.scale(1/ft.scaleX,1/ft.scaleY);const Pt=E.createPattern(ft.canvas,"repeat");return Pt.setTransform(wt),Pt}}i.TilingPattern=me},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.convertBlackAndWhiteToRGBA=a,i.convertToRGBA=c,i.grayToRGBA=tt;var l=s(1);function c(it){switch(it.kind){case l.ImageKind.GRAYSCALE_1BPP:return a(it);case l.ImageKind.RGB_24BPP:return G(it)}return null}function a({src:it,srcPos:f=0,dest:u,width:p,height:y,nonBlackColor:Z=4294967295,inverseDecode:d=!1}){const me=l.FeatureTest.isLittleEndian?4278190080:255,[et,E]=d?[Z,me]:[me,Z],ct=p>>3,mt=p&7,pt=it.length;u=new Uint32Array(u.buffer);let nt=0;for(let ft=0;ft<y;ft++){for(const Pt=f+ct;f<Pt;f++){const St=f<pt?it[f]:255;u[nt++]=St&128?E:et,u[nt++]=St&64?E:et,u[nt++]=St&32?E:et,u[nt++]=St&16?E:et,u[nt++]=St&8?E:et,u[nt++]=St&4?E:et,u[nt++]=St&2?E:et,u[nt++]=St&1?E:et}if(mt===0)continue;const wt=f<pt?it[f++]:255;for(let Pt=0;Pt<mt;Pt++)u[nt++]=wt&1<<7-Pt?E:et}return{srcPos:f,destPos:nt}}function G({src:it,srcPos:f=0,dest:u,destPos:p=0,width:y,height:Z}){let d=0;const me=it.length>>2,et=new Uint32Array(it.buffer,f,me);if(l.FeatureTest.isLittleEndian){for(;d<me-2;d+=3,p+=4){const E=et[d],ct=et[d+1],mt=et[d+2];u[p]=E|4278190080,u[p+1]=E>>>24|ct<<8|4278190080,u[p+2]=ct>>>16|mt<<16|4278190080,u[p+3]=mt>>>8|4278190080}for(let E=d*4,ct=it.length;E<ct;E+=3)u[p++]=it[E]|it[E+1]<<8|it[E+2]<<16|4278190080}else{for(;d<me-2;d+=3,p+=4){const E=et[d],ct=et[d+1],mt=et[d+2];u[p]=E|255,u[p+1]=E<<24|ct>>>8|255,u[p+2]=ct<<16|mt>>>16|255,u[p+3]=mt<<8|255}for(let E=d*4,ct=it.length;E<ct;E+=3)u[p++]=it[E]<<24|it[E+1]<<16|it[E+2]<<8|255}return{srcPos:f,destPos:p}}function tt(it,f){if(l.FeatureTest.isLittleEndian)for(let u=0,p=it.length;u<p;u++)f[u]=it[u]*65793|4278190080;else for(let u=0,p=it.length;u<p;u++)f[u]=it[u]*16843008|255}},(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.GlobalWorkerOptions=void 0;const s=Object.create(null);i.GlobalWorkerOptions=s,s.workerPort=null,s.workerSrc=""},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.MessageHandler=void 0;var l=s(1);const c={DATA:1,ERROR:2},a={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function G(it){switch(it instanceof Error||typeof it=="object"&&it!==null||(0,l.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),it.name){case"AbortException":return new l.AbortException(it.message);case"MissingPDFException":return new l.MissingPDFException(it.message);case"PasswordException":return new l.PasswordException(it.message,it.code);case"UnexpectedResponseException":return new l.UnexpectedResponseException(it.message,it.status);case"UnknownErrorException":return new l.UnknownErrorException(it.message,it.details);default:return new l.UnknownErrorException(it.message,it.toString())}}class tt{constructor(f,u,p){this.sourceName=f,this.targetName=u,this.comObj=p,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=y=>{const Z=y.data;if(Z.targetName!==this.sourceName)return;if(Z.stream){this.#t(Z);return}if(Z.callback){const me=Z.callbackId,et=this.callbackCapabilities[me];if(!et)throw new Error(`Cannot resolve callback ${me}`);if(delete this.callbackCapabilities[me],Z.callback===c.DATA)et.resolve(Z.data);else if(Z.callback===c.ERROR)et.reject(G(Z.reason));else throw new Error("Unexpected callback case");return}const d=this.actionHandler[Z.action];if(!d)throw new Error(`Unknown action from worker: ${Z.action}`);if(Z.callbackId){const me=this.sourceName,et=Z.sourceName;new Promise(function(E){E(d(Z.data))}).then(function(E){p.postMessage({sourceName:me,targetName:et,callback:c.DATA,callbackId:Z.callbackId,data:E})},function(E){p.postMessage({sourceName:me,targetName:et,callback:c.ERROR,callbackId:Z.callbackId,reason:G(E)})});return}if(Z.streamId){this.#e(Z);return}d(Z.data)},p.addEventListener("message",this._onComObjOnMessage)}on(f,u){const p=this.actionHandler;if(p[f])throw new Error(`There is already an actionName called "${f}"`);p[f]=u}send(f,u,p){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,data:u},p)}sendWithPromise(f,u,p){const y=this.callbackId++,Z=new l.PromiseCapability;this.callbackCapabilities[y]=Z;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:f,callbackId:y,data:u},p)}catch(d){Z.reject(d)}return Z.promise}sendWithStream(f,u,p,y){const Z=this.streamId++,d=this.sourceName,me=this.targetName,et=this.comObj;return new ReadableStream({start:E=>{const ct=new l.PromiseCapability;return this.streamControllers[Z]={controller:E,startCall:ct,pullCall:null,cancelCall:null,isClosed:!1},et.postMessage({sourceName:d,targetName:me,action:f,streamId:Z,data:u,desiredSize:E.desiredSize},y),ct.promise},pull:E=>{const ct=new l.PromiseCapability;return this.streamControllers[Z].pullCall=ct,et.postMessage({sourceName:d,targetName:me,stream:a.PULL,streamId:Z,desiredSize:E.desiredSize}),ct.promise},cancel:E=>{(0,l.assert)(E instanceof Error,"cancel must have a valid reason");const ct=new l.PromiseCapability;return this.streamControllers[Z].cancelCall=ct,this.streamControllers[Z].isClosed=!0,et.postMessage({sourceName:d,targetName:me,stream:a.CANCEL,streamId:Z,reason:G(E)}),ct.promise}},p)}#e(f){const u=f.streamId,p=this.sourceName,y=f.sourceName,Z=this.comObj,d=this,me=this.actionHandler[f.action],et={enqueue(E,ct=1,mt){if(this.isCancelled)return;const pt=this.desiredSize;this.desiredSize-=ct,pt>0&&this.desiredSize<=0&&(this.sinkCapability=new l.PromiseCapability,this.ready=this.sinkCapability.promise),Z.postMessage({sourceName:p,targetName:y,stream:a.ENQUEUE,streamId:u,chunk:E},mt)},close(){this.isCancelled||(this.isCancelled=!0,Z.postMessage({sourceName:p,targetName:y,stream:a.CLOSE,streamId:u}),delete d.streamSinks[u])},error(E){(0,l.assert)(E instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Z.postMessage({sourceName:p,targetName:y,stream:a.ERROR,streamId:u,reason:G(E)}))},sinkCapability:new l.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:f.desiredSize,ready:null};et.sinkCapability.resolve(),et.ready=et.sinkCapability.promise,this.streamSinks[u]=et,new Promise(function(E){E(me(f.data,et))}).then(function(){Z.postMessage({sourceName:p,targetName:y,stream:a.START_COMPLETE,streamId:u,success:!0})},function(E){Z.postMessage({sourceName:p,targetName:y,stream:a.START_COMPLETE,streamId:u,reason:G(E)})})}#t(f){const u=f.streamId,p=this.sourceName,y=f.sourceName,Z=this.comObj,d=this.streamControllers[u],me=this.streamSinks[u];switch(f.stream){case a.START_COMPLETE:f.success?d.startCall.resolve():d.startCall.reject(G(f.reason));break;case a.PULL_COMPLETE:f.success?d.pullCall.resolve():d.pullCall.reject(G(f.reason));break;case a.PULL:if(!me){Z.postMessage({sourceName:p,targetName:y,stream:a.PULL_COMPLETE,streamId:u,success:!0});break}me.desiredSize<=0&&f.desiredSize>0&&me.sinkCapability.resolve(),me.desiredSize=f.desiredSize,new Promise(function(et){et(me.onPull?.())}).then(function(){Z.postMessage({sourceName:p,targetName:y,stream:a.PULL_COMPLETE,streamId:u,success:!0})},function(et){Z.postMessage({sourceName:p,targetName:y,stream:a.PULL_COMPLETE,streamId:u,reason:G(et)})});break;case a.ENQUEUE:if((0,l.assert)(d,"enqueue should have stream controller"),d.isClosed)break;d.controller.enqueue(f.chunk);break;case a.CLOSE:if((0,l.assert)(d,"close should have stream controller"),d.isClosed)break;d.isClosed=!0,d.controller.close(),this.#n(d,u);break;case a.ERROR:(0,l.assert)(d,"error should have stream controller"),d.controller.error(G(f.reason)),this.#n(d,u);break;case a.CANCEL_COMPLETE:f.success?d.cancelCall.resolve():d.cancelCall.reject(G(f.reason)),this.#n(d,u);break;case a.CANCEL:if(!me)break;new Promise(function(et){et(me.onCancel?.(G(f.reason)))}).then(function(){Z.postMessage({sourceName:p,targetName:y,stream:a.CANCEL_COMPLETE,streamId:u,success:!0})},function(et){Z.postMessage({sourceName:p,targetName:y,stream:a.CANCEL_COMPLETE,streamId:u,reason:G(et)})}),me.sinkCapability.reject(G(f.reason)),me.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}async#n(f,u){await Promise.allSettled([f.startCall?.promise,f.pullCall?.promise,f.cancelCall?.promise]),delete this.streamControllers[u]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}i.MessageHandler=tt},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Metadata=void 0;var l=s(1);class c{#e;#t;constructor({parsedData:G,rawData:tt}){this.#e=G,this.#t=tt}getRaw(){return this.#t}get(G){return this.#e.get(G)??null}getAll(){return(0,l.objectFromMap)(this.#e)}has(G){return this.#e.has(G)}}i.Metadata=c},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionalContentConfig=void 0;var l=s(1),c=s(8);const a=Symbol("INTERNAL");class G{#e=!0;constructor(f,u){this.name=f,this.intent=u}get visible(){return this.#e}_setVisible(f,u){f!==a&&(0,l.unreachable)("Internal method `_setVisible` called."),this.#e=u}}class tt{#e=null;#t=new Map;#n=null;#r=null;constructor(f){if(this.name=null,this.creator=null,f!==null){this.name=f.name,this.creator=f.creator,this.#r=f.order;for(const u of f.groups)this.#t.set(u.id,new G(u.name,u.intent));if(f.baseState==="OFF")for(const u of this.#t.values())u._setVisible(a,!1);for(const u of f.on)this.#t.get(u)._setVisible(a,!0);for(const u of f.off)this.#t.get(u)._setVisible(a,!1);this.#n=this.getHash()}}#o(f){const u=f.length;if(u<2)return!0;const p=f[0];for(let y=1;y<u;y++){const Z=f[y];let d;if(Array.isArray(Z))d=this.#o(Z);else if(this.#t.has(Z))d=this.#t.get(Z).visible;else return(0,l.warn)(`Optional content group not found: ${Z}`),!0;switch(p){case"And":if(!d)return!1;break;case"Or":if(d)return!0;break;case"Not":return!d;default:return!0}}return p==="And"}isVisible(f){if(this.#t.size===0)return!0;if(!f)return(0,l.warn)("Optional content group not defined."),!0;if(f.type==="OCG")return this.#t.has(f.id)?this.#t.get(f.id).visible:((0,l.warn)(`Optional content group not found: ${f.id}`),!0);if(f.type==="OCMD"){if(f.expression)return this.#o(f.expression);if(!f.policy||f.policy==="AnyOn"){for(const u of f.ids){if(!this.#t.has(u))return(0,l.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!0}return!1}else if(f.policy==="AllOn"){for(const u of f.ids){if(!this.#t.has(u))return(0,l.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!1}return!0}else if(f.policy==="AnyOff"){for(const u of f.ids){if(!this.#t.has(u))return(0,l.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!0}return!1}else if(f.policy==="AllOff"){for(const u of f.ids){if(!this.#t.has(u))return(0,l.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!1}return!0}return(0,l.warn)(`Unknown optional content policy ${f.policy}.`),!0}return(0,l.warn)(`Unknown group type ${f.type}.`),!0}setVisibility(f,u=!0){if(!this.#t.has(f)){(0,l.warn)(`Optional content group not found: ${f}`);return}this.#t.get(f)._setVisible(a,!!u),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,l.objectFromMap)(this.#t):null}getGroup(f){return this.#t.get(f)||null}getHash(){if(this.#e!==null)return this.#e;const f=new c.MurmurHash3_64;for(const[u,p]of this.#t)f.update(`${u}:${p.visible}`);return this.#e=f.hexdigest()}}i.OptionalContentConfig=tt},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFDataTransportStream=void 0;var l=s(1),c=s(6);class a{constructor({length:f,initialData:u,progressiveDone:p=!1,contentDispositionFilename:y=null,disableRange:Z=!1,disableStream:d=!1},me){if((0,l.assert)(me,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=p,this._contentDispositionFilename=y,u?.length>0){const et=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(et)}this._pdfDataRangeTransport=me,this._isStreamingSupported=!d,this._isRangeSupported=!Z,this._contentLength=f,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((et,E)=>{this._onReceiveData({begin:et,chunk:E})}),this._pdfDataRangeTransport.addProgressListener((et,E)=>{this._onProgress({loaded:et,total:E})}),this._pdfDataRangeTransport.addProgressiveReadListener(et=>{this._onReceiveData({chunk:et})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:f,chunk:u}){const p=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(f===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(p):this._queuedChunks.push(p);else{const y=this._rangeReaders.some(function(Z){return Z._begin!==f?!1:(Z._enqueue(p),!0)});(0,l.assert)(y,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(f){f.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:f.loaded}):this._fullRequestReader?.onProgress?.({loaded:f.loaded,total:f.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(f){const u=this._rangeReaders.indexOf(f);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,l.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const f=this._queuedChunks;return this._queuedChunks=null,new G(this,f,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(f,u){if(u<=this._progressiveDataLength)return null;const p=new tt(this,f,u);return this._pdfDataRangeTransport.requestDataRange(f,u),this._rangeReaders.push(p),p}cancelAllRequests(f){this._fullRequestReader?.cancel(f);for(const u of this._rangeReaders.slice(0))u.cancel(f);this._pdfDataRangeTransport.abort()}}i.PDFDataTransportStream=a;class G{constructor(f,u,p=!1,y=null){this._stream=f,this._done=p||!1,this._filename=(0,c.isPdfFile)(y)?y:null,this._queuedChunks=u||[],this._loaded=0;for(const Z of this._queuedChunks)this._loaded+=Z.byteLength;this._requests=[],this._headersReady=Promise.resolve(),f._fullRequestReader=this,this.onProgress=null}_enqueue(f){this._done||(this._requests.length>0?this._requests.shift().resolve({value:f,done:!1}):this._queuedChunks.push(f),this._loaded+=f.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=new l.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class tt{constructor(f,u,p){this._stream=f,this._begin=u,this._end=p,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(f){if(!this._done){if(this._requests.length===0)this._queuedChunk=f;else{this._requests.shift().resolve({value:f,done:!1});for(const p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const f=new l.PromiseCapability;return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFFetchStream=void 0;var l=s(1),c=s(20);function a(p,y,Z){return{method:"GET",headers:p,signal:Z.signal,mode:"cors",credentials:y?"include":"same-origin",redirect:"follow"}}function G(p){const y=new Headers;for(const Z in p){const d=p[Z];d!==void 0&&y.append(Z,d)}return y}function tt(p){return p instanceof Uint8Array?p.buffer:p instanceof ArrayBuffer?p:((0,l.warn)(`getArrayBuffer - unexpected data format: ${p}`),new Uint8Array(p).buffer)}class it{constructor(y){this.source=y,this.isHttp=/^https?:/i.test(y.url),this.httpHeaders=this.isHttp&&y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new f(this),this._fullRequestReader}getRangeReader(y,Z){if(Z<=this._progressiveDataLength)return null;const d=new u(this,y,Z);return this._rangeRequestReaders.push(d),d}cancelAllRequests(y){this._fullRequestReader?.cancel(y);for(const Z of this._rangeRequestReaders.slice(0))Z.cancel(y)}}i.PDFFetchStream=it;class f{constructor(y){this._stream=y,this._reader=null,this._loaded=0,this._filename=null;const Z=y.source;this._withCredentials=Z.withCredentials||!1,this._contentLength=Z.length,this._headersCapability=new l.PromiseCapability,this._disableRange=Z.disableRange||!1,this._rangeChunkSize=Z.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Z.disableStream,this._isRangeSupported=!Z.disableRange,this._headers=G(this._stream.httpHeaders);const d=Z.url;fetch(d,a(this._headers,this._withCredentials,this._abortController)).then(me=>{if(!(0,c.validateResponseStatus)(me.status))throw(0,c.createResponseStatusError)(me.status,d);this._reader=me.body.getReader(),this._headersCapability.resolve();const et=mt=>me.headers.get(mt),{allowRangeRequests:E,suggestedLength:ct}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:et,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=ct||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(et),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new l.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:y,done:Z}=await this._reader.read();return Z?{value:y,done:Z}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:tt(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}class u{constructor(y,Z,d){this._stream=y,this._reader=null,this._loaded=0;const me=y.source;this._withCredentials=me.withCredentials||!1,this._readCapability=new l.PromiseCapability,this._isStreamingSupported=!me.disableStream,this._abortController=new AbortController,this._headers=G(this._stream.httpHeaders),this._headers.append("Range",`bytes=${Z}-${d-1}`);const et=me.url;fetch(et,a(this._headers,this._withCredentials,this._abortController)).then(E=>{if(!(0,c.validateResponseStatus)(E.status))throw(0,c.createResponseStatusError)(E.status,et);this._readCapability.resolve(),this._reader=E.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:y,done:Z}=await this._reader.read();return Z?{value:y,done:Z}:(this._loaded+=y.byteLength,this.onProgress?.({loaded:this._loaded}),{value:tt(y),done:!1})}cancel(y){this._reader?.cancel(y),this._abortController.abort()}}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createResponseStatusError=it,i.extractFilenameFromHeader=tt,i.validateRangeRequestCapabilities=G,i.validateResponseStatus=f;var l=s(1),c=s(21),a=s(6);function G({getResponseHeader:u,isHttp:p,rangeChunkSize:y,disableRange:Z}){const d={allowRangeRequests:!1,suggestedLength:void 0},me=parseInt(u("Content-Length"),10);return!Number.isInteger(me)||(d.suggestedLength=me,me<=2*y)||Z||!p||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(d.allowRangeRequests=!0),d}function tt(u){const p=u("Content-Disposition");if(p){let y=(0,c.getFilenameFromContentDispositionHeader)(p);if(y.includes("%"))try{y=decodeURIComponent(y)}catch{}if((0,a.isPdfFile)(y))return y}return null}function it(u,p){return u===404||u===0&&p.startsWith("file:")?new l.MissingPDFException('Missing PDF "'+p+'".'):new l.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${p}".`,u)}function f(u){return u===200||u===206}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getFilenameFromContentDispositionHeader=c;var l=s(1);function c(a){let G=!0,tt=it("filename\\*","i").exec(a);if(tt){tt=tt[1];let me=y(tt);return me=unescape(me),me=Z(me),me=d(me),u(me)}if(tt=p(a),tt){const me=d(tt);return u(me)}if(tt=it("filename","i").exec(a),tt){tt=tt[1];let me=y(tt);return me=d(me),u(me)}function it(me,et){return new RegExp("(?:^|;)\\s*"+me+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',et)}function f(me,et){if(me){if(!/^[\x00-\xFF]+$/.test(et))return et;try{const E=new TextDecoder(me,{fatal:!0}),ct=(0,l.stringToBytes)(et);et=E.decode(ct),G=!1}catch{}}return et}function u(me){return G&&/[\x80-\xff]/.test(me)&&(me=f("utf-8",me),G&&(me=f("iso-8859-1",me))),me}function p(me){const et=[];let E;const ct=it("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(E=ct.exec(me))!==null;){let[,pt,nt,ft]=E;if(pt=parseInt(pt,10),pt in et){if(pt===0)break;continue}et[pt]=[nt,ft]}const mt=[];for(let pt=0;pt<et.length&&pt in et;++pt){let[nt,ft]=et[pt];ft=y(ft),nt&&(ft=unescape(ft),pt===0&&(ft=Z(ft))),mt.push(ft)}return mt.join("")}function y(me){if(me.startsWith('"')){const et=me.slice(1).split('\\"');for(let E=0;E<et.length;++E){const ct=et[E].indexOf('"');ct!==-1&&(et[E]=et[E].slice(0,ct),et.length=E+1),et[E]=et[E].replaceAll(/\\(.)/g,"$1")}me=et.join('"')}return me}function Z(me){const et=me.indexOf("'");if(et===-1)return me;const E=me.slice(0,et),mt=me.slice(et+1).replace(/^[^']*'/,"");return f(E,mt)}function d(me){return!me.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(me)?me:me.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(et,E,ct,mt){if(ct==="q"||ct==="Q")return mt=mt.replaceAll("_"," "),mt=mt.replaceAll(/=([0-9a-fA-F]{2})/g,function(pt,nt){return String.fromCharCode(parseInt(nt,16))}),f(E,mt);try{mt=atob(mt)}catch{}return f(E,mt)})}return""}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNetworkStream=void 0;var l=s(1),c=s(20);const a=200,G=206;function tt(y){const Z=y.response;return typeof Z!="string"?Z:(0,l.stringToBytes)(Z).buffer}class it{constructor(Z,d={}){this.url=Z,this.isHttp=/^https?:/i.test(Z),this.httpHeaders=this.isHttp&&d.httpHeaders||Object.create(null),this.withCredentials=d.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Z,d,me){const et={begin:Z,end:d};for(const E in me)et[E]=me[E];return this.request(et)}requestFull(Z){return this.request(Z)}request(Z){const d=new XMLHttpRequest,me=this.currXhrId++,et=this.pendingRequests[me]={xhr:d};d.open("GET",this.url),d.withCredentials=this.withCredentials;for(const E in this.httpHeaders){const ct=this.httpHeaders[E];ct!==void 0&&d.setRequestHeader(E,ct)}return this.isHttp&&"begin"in Z&&"end"in Z?(d.setRequestHeader("Range",`bytes=${Z.begin}-${Z.end-1}`),et.expectedStatus=G):et.expectedStatus=a,d.responseType="arraybuffer",Z.onError&&(d.onerror=function(E){Z.onError(d.status)}),d.onreadystatechange=this.onStateChange.bind(this,me),d.onprogress=this.onProgress.bind(this,me),et.onHeadersReceived=Z.onHeadersReceived,et.onDone=Z.onDone,et.onError=Z.onError,et.onProgress=Z.onProgress,d.send(null),me}onProgress(Z,d){const me=this.pendingRequests[Z];me&&me.onProgress?.(d)}onStateChange(Z,d){const me=this.pendingRequests[Z];if(!me)return;const et=me.xhr;if(et.readyState>=2&&me.onHeadersReceived&&(me.onHeadersReceived(),delete me.onHeadersReceived),et.readyState!==4||!(Z in this.pendingRequests))return;if(delete this.pendingRequests[Z],et.status===0&&this.isHttp){me.onError?.(et.status);return}const E=et.status||a;if(!(E===a&&me.expectedStatus===G)&&E!==me.expectedStatus){me.onError?.(et.status);return}const mt=tt(et);if(E===G){const pt=et.getResponseHeader("Content-Range"),nt=/bytes (\d+)-(\d+)\/(\d+)/.exec(pt);me.onDone({begin:parseInt(nt[1],10),chunk:mt})}else mt?me.onDone({begin:0,chunk:mt}):me.onError?.(et.status)}getRequestXhr(Z){return this.pendingRequests[Z].xhr}isPendingRequest(Z){return Z in this.pendingRequests}abortRequest(Z){const d=this.pendingRequests[Z].xhr;delete this.pendingRequests[Z],d.abort()}}class f{constructor(Z){this._source=Z,this._manager=new it(Z.url,{httpHeaders:Z.httpHeaders,withCredentials:Z.withCredentials}),this._rangeChunkSize=Z.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Z){const d=this._rangeRequestReaders.indexOf(Z);d>=0&&this._rangeRequestReaders.splice(d,1)}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(Z,d){const me=new p(this._manager,Z,d);return me.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(me),me}cancelAllRequests(Z){this._fullRequestReader?.cancel(Z);for(const d of this._rangeRequestReaders.slice(0))d.cancel(Z)}}i.PDFNetworkStream=f;class u{constructor(Z,d){this._manager=Z;const me={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url,this._fullRequestId=Z.requestFull(me),this._headersReceivedCapability=new l.PromiseCapability,this._disableRange=d.disableRange||!1,this._contentLength=d.length,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Z=this._fullRequestId,d=this._manager.getRequestXhr(Z),me=ct=>d.getResponseHeader(ct),{allowRangeRequests:et,suggestedLength:E}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:me,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});et&&(this._isRangeSupported=!0),this._contentLength=E||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(me),this._isRangeSupported&&this._manager.abortRequest(Z),this._headersReceivedCapability.resolve()}_onDone(Z){if(Z&&(this._requests.length>0?this._requests.shift().resolve({value:Z.chunk,done:!1}):this._cachedChunks.push(Z.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Z){this._storedError=(0,c.createResponseStatusError)(Z,this._url),this._headersReceivedCapability.reject(this._storedError);for(const d of this._requests)d.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Z){this.onProgress?.({loaded:Z.loaded,total:Z.lengthComputable?Z.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const Z=new l.PromiseCapability;return this._requests.push(Z),Z.promise}cancel(Z){this._done=!0,this._headersReceivedCapability.reject(Z);for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class p{constructor(Z,d,me){this._manager=Z;const et={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Z.url,this._requestId=Z.requestRange(d,me,et),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(Z){const d=Z.chunk;this._requests.length>0?this._requests.shift().resolve({value:d,done:!1}):this._queuedChunk=d,this._done=!0;for(const me of this._requests)me.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Z){this._storedError=(0,c.createResponseStatusError)(Z,this._url);for(const d of this._requests)d.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Z){this.isStreamingSupported||this.onProgress?.({loaded:Z.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const d=this._queuedChunk;return this._queuedChunk=null,{value:d,done:!1}}if(this._done)return{value:void 0,done:!0};const Z=new l.PromiseCapability;return this._requests.push(Z),Z.promise}cancel(Z){this._done=!0;for(const d of this._requests)d.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PDFNodeStream=void 0;var l=s(1),c=s(20);const a=/^file:\/\/\/[a-zA-Z]:\//;function G(me){const et=require$$5,E=et.parse(me);return E.protocol==="file:"||E.host?E:/^[a-z]:[/\\]/i.test(me)?et.parse(`file:///${me}`):(E.host||(E.protocol="file:"),E)}class tt{constructor(et){this.source=et,this.url=G(et.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&et.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new Z(this):new p(this),this._fullRequestReader}getRangeReader(et,E){if(E<=this._progressiveDataLength)return null;const ct=this.isFsUrl?new d(this,et,E):new y(this,et,E);return this._rangeRequestReaders.push(ct),ct}cancelAllRequests(et){this._fullRequestReader?.cancel(et);for(const E of this._rangeRequestReaders.slice(0))E.cancel(et)}}i.PDFNodeStream=tt;class it{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null;const E=et.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=new l.PromiseCapability,this._headersCapability=new l.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=new l.PromiseCapability,this.read()):(this._loaded+=et.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new l.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(et){this._url=et.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new l.PromiseCapability;const E=et.source;this._isStreamingSupported=!E.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const et=this._readableStream.read();return et===null?(this._readCapability=new l.PromiseCapability,this.read()):(this._loaded+=et.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(et).buffer,done:!1})}cancel(et){if(!this._readableStream){this._error(et);return}this._readableStream.destroy(et)}_error(et){this._storedError=et,this._readCapability.resolve()}_setReadableStream(et){this._readableStream=et,et.on("readable",()=>{this._readCapability.resolve()}),et.on("end",()=>{et.destroy(),this._done=!0,this._readCapability.resolve()}),et.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function u(me,et){return{protocol:me.protocol,auth:me.auth,host:me.hostname,port:me.port,path:me.path,method:"GET",headers:et}}class p extends it{constructor(et){super(et);const E=ct=>{if(ct.statusCode===404){const ft=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=ft,this._headersCapability.reject(ft);return}this._headersCapability.resolve(),this._setReadableStream(ct);const mt=ft=>this._readableStream.headers[ft.toLowerCase()],{allowRangeRequests:pt,suggestedLength:nt}=(0,c.validateRangeRequestCapabilities)({getResponseHeader:mt,isHttp:et.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=pt,this._contentLength=nt||this._contentLength,this._filename=(0,c.extractFilenameFromHeader)(mt)};if(this._request=null,this._url.protocol==="http:"){const ct=require$$5;this._request=ct.request(u(this._url,et.httpHeaders),E)}else{const ct=require$$5;this._request=ct.request(u(this._url,et.httpHeaders),E)}this._request.on("error",ct=>{this._storedError=ct,this._headersCapability.reject(ct)}),this._request.end()}}class y extends f{constructor(et,E,ct){super(et),this._httpHeaders={};for(const pt in et.httpHeaders){const nt=et.httpHeaders[pt];nt!==void 0&&(this._httpHeaders[pt]=nt)}this._httpHeaders.Range=`bytes=${E}-${ct-1}`;const mt=pt=>{if(pt.statusCode===404){const nt=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=nt;return}this._setReadableStream(pt)};if(this._request=null,this._url.protocol==="http:"){const pt=require$$5;this._request=pt.request(u(this._url,this._httpHeaders),mt)}else{const pt=require$$5;this._request=pt.request(u(this._url,this._httpHeaders),mt)}this._request.on("error",pt=>{this._storedError=pt}),this._request.end()}}class Z extends it{constructor(et){super(et);let E=decodeURIComponent(this._url.path);a.test(this._url.href)&&(E=E.replace(/^\//,""));const ct=require$$5;ct.lstat(E,(mt,pt)=>{if(mt){mt.code==="ENOENT"&&(mt=new l.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=mt,this._headersCapability.reject(mt);return}this._contentLength=pt.size,this._setReadableStream(ct.createReadStream(E)),this._headersCapability.resolve()})}}class d extends f{constructor(et,E,ct){super(et);let mt=decodeURIComponent(this._url.path);a.test(this._url.href)&&(mt=mt.replace(/^\//,""));const pt=require$$5;this._setReadableStream(pt.createReadStream(mt,{start:E,end:ct-1}))}}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SVGGraphics=void 0;var l=s(6),c=s(1);const a={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},G="http://www.w3.org/XML/1998/namespace",tt="http://www.w3.org/1999/xlink",it=["butt","round","square"],f=["miter","round","bevel"],u=function(pt,nt="",ft=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ft)return URL.createObjectURL(new Blob([pt],{type:nt}));const wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Pt=`data:${nt};base64,`;for(let St=0,jt=pt.length;St<jt;St+=3){const _t=pt[St]&255,Vt=pt[St+1]&255,Dt=pt[St+2]&255,$t=_t>>2,Tt=(_t&3)<<4|Vt>>4,Ct=St+1<jt?(Vt&15)<<2|Dt>>6:64,lt=St+2<jt?Dt&63:64;Pt+=wt[$t]+wt[Tt]+wt[Ct]+wt[lt]}return Pt},p=function(){const pt=new Uint8Array([137,80,78,71,13,10,26,10]),nt=12,ft=new Int32Array(256);for(let Dt=0;Dt<256;Dt++){let $t=Dt;for(let Tt=0;Tt<8;Tt++)$t=$t&1?3988292384^$t>>1&2147483647:$t>>1&2147483647;ft[Dt]=$t}function wt(Dt,$t,Tt){let Ct=-1;for(let lt=$t;lt<Tt;lt++){const Ve=(Ct^Dt[lt])&255,Y=ft[Ve];Ct=Ct>>>8^Y}return Ct^-1}function Pt(Dt,$t,Tt,Ct){let lt=Ct;const Ve=$t.length;Tt[lt]=Ve>>24&255,Tt[lt+1]=Ve>>16&255,Tt[lt+2]=Ve>>8&255,Tt[lt+3]=Ve&255,lt+=4,Tt[lt]=Dt.charCodeAt(0)&255,Tt[lt+1]=Dt.charCodeAt(1)&255,Tt[lt+2]=Dt.charCodeAt(2)&255,Tt[lt+3]=Dt.charCodeAt(3)&255,lt+=4,Tt.set($t,lt),lt+=$t.length;const Y=wt(Tt,Ct+4,lt);Tt[lt]=Y>>24&255,Tt[lt+1]=Y>>16&255,Tt[lt+2]=Y>>8&255,Tt[lt+3]=Y&255}function St(Dt,$t,Tt){let Ct=1,lt=0;for(let Ve=$t;Ve<Tt;++Ve)Ct=(Ct+(Dt[Ve]&255))%65521,lt=(lt+Ct)%65521;return lt<<16|Ct}function jt(Dt){if(!c.isNodeJS)return _t(Dt);try{const $t=parseInt(process.versions.node)>=8?Dt:Buffer.from(Dt),Tt=require$$5.deflateSync($t,{level:9});return Tt instanceof Uint8Array?Tt:new Uint8Array(Tt)}catch($t){(0,c.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+$t)}return _t(Dt)}function _t(Dt){let $t=Dt.length;const Tt=65535,Ct=Math.ceil($t/Tt),lt=new Uint8Array(2+$t+Ct*5+4);let Ve=0;lt[Ve++]=120,lt[Ve++]=156;let Y=0;for(;$t>Tt;)lt[Ve++]=0,lt[Ve++]=255,lt[Ve++]=255,lt[Ve++]=0,lt[Ve++]=0,lt.set(Dt.subarray(Y,Y+Tt),Ve),Ve+=Tt,Y+=Tt,$t-=Tt;lt[Ve++]=1,lt[Ve++]=$t&255,lt[Ve++]=$t>>8&255,lt[Ve++]=~$t&65535&255,lt[Ve++]=(~$t&65535)>>8&255,lt.set(Dt.subarray(Y),Ve),Ve+=Dt.length-Y;const ne=St(Dt,0,Dt.length);return lt[Ve++]=ne>>24&255,lt[Ve++]=ne>>16&255,lt[Ve++]=ne>>8&255,lt[Ve++]=ne&255,lt}function Vt(Dt,$t,Tt,Ct){const lt=Dt.width,Ve=Dt.height;let Y,ne,ee;const rt=Dt.data;switch($t){case c.ImageKind.GRAYSCALE_1BPP:ne=0,Y=1,ee=lt+7>>3;break;case c.ImageKind.RGB_24BPP:ne=2,Y=8,ee=lt*3;break;case c.ImageKind.RGBA_32BPP:ne=6,Y=8,ee=lt*4;break;default:throw new Error("invalid format")}const at=new Uint8Array((1+ee)*Ve);let vt=0,ut=0;for(let xt=0;xt<Ve;++xt)at[vt++]=0,at.set(rt.subarray(ut,ut+ee),vt),ut+=ee,vt+=ee;if($t===c.ImageKind.GRAYSCALE_1BPP&&Ct){vt=0;for(let xt=0;xt<Ve;xt++){vt++;for(let Rt=0;Rt<ee;Rt++)at[vt++]^=255}}const x=new Uint8Array([lt>>24&255,lt>>16&255,lt>>8&255,lt&255,Ve>>24&255,Ve>>16&255,Ve>>8&255,Ve&255,Y,ne,0,0,0]),st=jt(at),ot=pt.length+nt*3+x.length+st.length,gt=new Uint8Array(ot);let yt=0;return gt.set(pt,yt),yt+=pt.length,Pt("IHDR",x,gt,yt),yt+=nt+x.length,Pt("IDATA",st,gt,yt),yt+=nt+st.length,Pt("IEND",new Uint8Array(0),gt,yt),u(gt,"image/png",Tt)}return function($t,Tt,Ct){const lt=$t.kind===void 0?c.ImageKind.GRAYSCALE_1BPP:$t.kind;return Vt($t,lt,Tt,Ct)}}();class y{constructor(){this.fontSizeScale=1,this.fontWeight=a.fontWeight,this.fontSize=0,this.textMatrix=c.IDENTITY_MATRIX,this.fontMatrix=c.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=c.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=a.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(nt,ft){this.x=nt,this.y=ft}}function Z(pt){let nt=[];const ft=[];for(const wt of pt){if(wt.fn==="save"){nt.push({fnId:92,fn:"group",items:[]}),ft.push(nt),nt=nt.at(-1).items;continue}wt.fn==="restore"?nt=ft.pop():nt.push(wt)}return nt}function d(pt){if(Number.isInteger(pt))return pt.toString();const nt=pt.toFixed(10);let ft=nt.length-1;if(nt[ft]!=="0")return nt;do ft--;while(nt[ft]==="0");return nt.substring(0,nt[ft]==="."?ft:ft+1)}function me(pt){if(pt[4]===0&&pt[5]===0){if(pt[1]===0&&pt[2]===0)return pt[0]===1&&pt[3]===1?"":`scale(${d(pt[0])} ${d(pt[3])})`;if(pt[0]===pt[3]&&pt[1]===-pt[2]){const nt=Math.acos(pt[0])*180/Math.PI;return`rotate(${d(nt)})`}}else if(pt[0]===1&&pt[1]===0&&pt[2]===0&&pt[3]===1)return`translate(${d(pt[4])} ${d(pt[5])})`;return`matrix(${d(pt[0])} ${d(pt[1])} ${d(pt[2])} ${d(pt[3])} ${d(pt[4])} ${d(pt[5])})`}let et=0,E=0,ct=0;class mt{constructor(nt,ft,wt=!1){(0,l.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new l.DOMSVGFactory,this.current=new y,this.transformMatrix=c.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=nt,this.objs=ft,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!wt,this._operatorIdMapping=[];for(const Pt in c.OPS)this._operatorIdMapping[c.OPS[Pt]]=Pt}getObject(nt,ft=null){return typeof nt=="string"?nt.startsWith("g_")?this.commonObjs.get(nt):this.objs.get(nt):ft}save(){this.transformStack.push(this.transformMatrix);const nt=this.current;this.extraStack.push(nt),this.current=nt.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(nt){this.save(),this.executeOpTree(nt),this.restore()}loadDependencies(nt){const ft=nt.fnArray,wt=nt.argsArray;for(let Pt=0,St=ft.length;Pt<St;Pt++)if(ft[Pt]===c.OPS.dependency)for(const jt of wt[Pt]){const _t=jt.startsWith("g_")?this.commonObjs:this.objs,Vt=new Promise(Dt=>{_t.get(jt,Dt)});this.current.dependencies.push(Vt)}return Promise.all(this.current.dependencies)}transform(nt,ft,wt,Pt,St,jt){const _t=[nt,ft,wt,Pt,St,jt];this.transformMatrix=c.Util.transform(this.transformMatrix,_t),this.tgrp=null}getSVG(nt,ft){this.viewport=ft;const wt=this._initialize(ft);return this.loadDependencies(nt).then(()=>(this.transformMatrix=c.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(nt)),wt))}convertOpList(nt){const ft=this._operatorIdMapping,wt=nt.argsArray,Pt=nt.fnArray,St=[];for(let jt=0,_t=Pt.length;jt<_t;jt++){const Vt=Pt[jt];St.push({fnId:Vt,fn:ft[Vt],args:wt[jt]})}return Z(St)}executeOpTree(nt){for(const ft of nt){const wt=ft.fn,Pt=ft.fnId,St=ft.args;switch(Pt|0){case c.OPS.beginText:this.beginText();break;case c.OPS.dependency:break;case c.OPS.setLeading:this.setLeading(St);break;case c.OPS.setLeadingMoveText:this.setLeadingMoveText(St[0],St[1]);break;case c.OPS.setFont:this.setFont(St);break;case c.OPS.showText:this.showText(St[0]);break;case c.OPS.showSpacedText:this.showText(St[0]);break;case c.OPS.endText:this.endText();break;case c.OPS.moveText:this.moveText(St[0],St[1]);break;case c.OPS.setCharSpacing:this.setCharSpacing(St[0]);break;case c.OPS.setWordSpacing:this.setWordSpacing(St[0]);break;case c.OPS.setHScale:this.setHScale(St[0]);break;case c.OPS.setTextMatrix:this.setTextMatrix(St[0],St[1],St[2],St[3],St[4],St[5]);break;case c.OPS.setTextRise:this.setTextRise(St[0]);break;case c.OPS.setTextRenderingMode:this.setTextRenderingMode(St[0]);break;case c.OPS.setLineWidth:this.setLineWidth(St[0]);break;case c.OPS.setLineJoin:this.setLineJoin(St[0]);break;case c.OPS.setLineCap:this.setLineCap(St[0]);break;case c.OPS.setMiterLimit:this.setMiterLimit(St[0]);break;case c.OPS.setFillRGBColor:this.setFillRGBColor(St[0],St[1],St[2]);break;case c.OPS.setStrokeRGBColor:this.setStrokeRGBColor(St[0],St[1],St[2]);break;case c.OPS.setStrokeColorN:this.setStrokeColorN(St);break;case c.OPS.setFillColorN:this.setFillColorN(St);break;case c.OPS.shadingFill:this.shadingFill(St[0]);break;case c.OPS.setDash:this.setDash(St[0],St[1]);break;case c.OPS.setRenderingIntent:this.setRenderingIntent(St[0]);break;case c.OPS.setFlatness:this.setFlatness(St[0]);break;case c.OPS.setGState:this.setGState(St[0]);break;case c.OPS.fill:this.fill();break;case c.OPS.eoFill:this.eoFill();break;case c.OPS.stroke:this.stroke();break;case c.OPS.fillStroke:this.fillStroke();break;case c.OPS.eoFillStroke:this.eoFillStroke();break;case c.OPS.clip:this.clip("nonzero");break;case c.OPS.eoClip:this.clip("evenodd");break;case c.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case c.OPS.paintImageXObject:this.paintImageXObject(St[0]);break;case c.OPS.paintInlineImageXObject:this.paintInlineImageXObject(St[0]);break;case c.OPS.paintImageMaskXObject:this.paintImageMaskXObject(St[0]);break;case c.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(St[0],St[1]);break;case c.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case c.OPS.closePath:this.closePath();break;case c.OPS.closeStroke:this.closeStroke();break;case c.OPS.closeFillStroke:this.closeFillStroke();break;case c.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case c.OPS.nextLine:this.nextLine();break;case c.OPS.transform:this.transform(St[0],St[1],St[2],St[3],St[4],St[5]);break;case c.OPS.constructPath:this.constructPath(St[0],St[1]);break;case c.OPS.endPath:this.endPath();break;case 92:this.group(ft.items);break;default:(0,c.warn)(`Unimplemented operator ${wt}`);break}}}setWordSpacing(nt){this.current.wordSpacing=nt}setCharSpacing(nt){this.current.charSpacing=nt}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(nt,ft,wt,Pt,St,jt){const _t=this.current;_t.textMatrix=_t.lineMatrix=[nt,ft,wt,Pt,St,jt],_t.textMatrixScale=Math.hypot(nt,ft),_t.x=_t.lineX=0,_t.y=_t.lineY=0,_t.xcoords=[],_t.ycoords=[],_t.tspan=this.svgFactory.createElement("svg:tspan"),_t.tspan.setAttributeNS(null,"font-family",_t.fontFamily),_t.tspan.setAttributeNS(null,"font-size",`${d(_t.fontSize)}px`),_t.tspan.setAttributeNS(null,"y",d(-_t.y)),_t.txtElement=this.svgFactory.createElement("svg:text"),_t.txtElement.append(_t.tspan)}beginText(){const nt=this.current;nt.x=nt.lineX=0,nt.y=nt.lineY=0,nt.textMatrix=c.IDENTITY_MATRIX,nt.lineMatrix=c.IDENTITY_MATRIX,nt.textMatrixScale=1,nt.tspan=this.svgFactory.createElement("svg:tspan"),nt.txtElement=this.svgFactory.createElement("svg:text"),nt.txtgrp=this.svgFactory.createElement("svg:g"),nt.xcoords=[],nt.ycoords=[]}moveText(nt,ft){const wt=this.current;wt.x=wt.lineX+=nt,wt.y=wt.lineY+=ft,wt.xcoords=[],wt.ycoords=[],wt.tspan=this.svgFactory.createElement("svg:tspan"),wt.tspan.setAttributeNS(null,"font-family",wt.fontFamily),wt.tspan.setAttributeNS(null,"font-size",`${d(wt.fontSize)}px`),wt.tspan.setAttributeNS(null,"y",d(-wt.y))}showText(nt){const ft=this.current,wt=ft.font,Pt=ft.fontSize;if(Pt===0)return;const St=ft.fontSizeScale,jt=ft.charSpacing,_t=ft.wordSpacing,Vt=ft.fontDirection,Dt=ft.textHScale*Vt,$t=wt.vertical,Tt=$t?1:-1,Ct=wt.defaultVMetrics,lt=Pt*ft.fontMatrix[0];let Ve=0;for(const ee of nt){if(ee===null){Ve+=Vt*_t;continue}else if(typeof ee=="number"){Ve+=Tt*ee*Pt/1e3;continue}const rt=(ee.isSpace?_t:0)+jt,at=ee.fontChar;let vt,ut,x=ee.width;if($t){let ot;const gt=ee.vmetric||Ct;ot=ee.vmetric?gt[1]:x*.5,ot=-ot*lt;const yt=gt[2]*lt;x=gt?-gt[0]:x,vt=ot/St,ut=(Ve+yt)/St}else vt=Ve/St,ut=0;(ee.isInFont||wt.missingFile)&&(ft.xcoords.push(ft.x+vt),$t&&ft.ycoords.push(-ft.y+ut),ft.tspan.textContent+=at);const st=$t?x*lt-rt*Vt:x*lt+rt*Vt;Ve+=st}ft.tspan.setAttributeNS(null,"x",ft.xcoords.map(d).join(" ")),$t?ft.tspan.setAttributeNS(null,"y",ft.ycoords.map(d).join(" ")):ft.tspan.setAttributeNS(null,"y",d(-ft.y)),$t?ft.y-=Ve:ft.x+=Ve*Dt,ft.tspan.setAttributeNS(null,"font-family",ft.fontFamily),ft.tspan.setAttributeNS(null,"font-size",`${d(ft.fontSize)}px`),ft.fontStyle!==a.fontStyle&&ft.tspan.setAttributeNS(null,"font-style",ft.fontStyle),ft.fontWeight!==a.fontWeight&&ft.tspan.setAttributeNS(null,"font-weight",ft.fontWeight);const Y=ft.textRenderingMode&c.TextRenderingMode.FILL_STROKE_MASK;if(Y===c.TextRenderingMode.FILL||Y===c.TextRenderingMode.FILL_STROKE?(ft.fillColor!==a.fillColor&&ft.tspan.setAttributeNS(null,"fill",ft.fillColor),ft.fillAlpha<1&&ft.tspan.setAttributeNS(null,"fill-opacity",ft.fillAlpha)):ft.textRenderingMode===c.TextRenderingMode.ADD_TO_PATH?ft.tspan.setAttributeNS(null,"fill","transparent"):ft.tspan.setAttributeNS(null,"fill","none"),Y===c.TextRenderingMode.STROKE||Y===c.TextRenderingMode.FILL_STROKE){const ee=1/(ft.textMatrixScale||1);this._setStrokeAttributes(ft.tspan,ee)}let ne=ft.textMatrix;ft.textRise!==0&&(ne=ne.slice(),ne[5]+=ft.textRise),ft.txtElement.setAttributeNS(null,"transform",`${me(ne)} scale(${d(Dt)}, -1)`),ft.txtElement.setAttributeNS(G,"xml:space","preserve"),ft.txtElement.append(ft.tspan),ft.txtgrp.append(ft.txtElement),this._ensureTransformGroup().append(ft.txtElement)}setLeadingMoveText(nt,ft){this.setLeading(-ft),this.moveText(nt,ft)}addFontStyle(nt){if(!nt.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const ft=u(nt.data,nt.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${nt.loadedName}"; src: url(${ft}); }
`}setFont(nt){const ft=this.current,wt=this.commonObjs.get(nt[0]);let Pt=nt[1];ft.font=wt,this.embedFonts&&!wt.missingFile&&!this.embeddedFonts[wt.loadedName]&&(this.addFontStyle(wt),this.embeddedFonts[wt.loadedName]=wt),ft.fontMatrix=wt.fontMatrix||c.FONT_IDENTITY_MATRIX;let St="normal";wt.black?St="900":wt.bold&&(St="bold");const jt=wt.italic?"italic":"normal";Pt<0?(Pt=-Pt,ft.fontDirection=-1):ft.fontDirection=1,ft.fontSize=Pt,ft.fontFamily=wt.loadedName,ft.fontWeight=St,ft.fontStyle=jt,ft.tspan=this.svgFactory.createElement("svg:tspan"),ft.tspan.setAttributeNS(null,"y",d(-ft.y)),ft.xcoords=[],ft.ycoords=[]}endText(){const nt=this.current;nt.textRenderingMode&c.TextRenderingMode.ADD_TO_PATH_FLAG&&nt.txtElement?.hasChildNodes()&&(nt.element=nt.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(nt){nt>0&&(this.current.lineWidth=nt)}setLineCap(nt){this.current.lineCap=it[nt]}setLineJoin(nt){this.current.lineJoin=f[nt]}setMiterLimit(nt){this.current.miterLimit=nt}setStrokeAlpha(nt){this.current.strokeAlpha=nt}setStrokeRGBColor(nt,ft,wt){this.current.strokeColor=c.Util.makeHexColor(nt,ft,wt)}setFillAlpha(nt){this.current.fillAlpha=nt}setFillRGBColor(nt,ft,wt){this.current.fillColor=c.Util.makeHexColor(nt,ft,wt),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(nt){this.current.strokeColor=this._makeColorN_Pattern(nt)}setFillColorN(nt){this.current.fillColor=this._makeColorN_Pattern(nt)}shadingFill(nt){const{width:ft,height:wt}=this.viewport,Pt=c.Util.inverseTransform(this.transformMatrix),[St,jt,_t,Vt]=c.Util.getAxialAlignedBoundingBox([0,0,ft,wt],Pt),Dt=this.svgFactory.createElement("svg:rect");Dt.setAttributeNS(null,"x",St),Dt.setAttributeNS(null,"y",jt),Dt.setAttributeNS(null,"width",_t-St),Dt.setAttributeNS(null,"height",Vt-jt),Dt.setAttributeNS(null,"fill",this._makeShadingPattern(nt)),this.current.fillAlpha<1&&Dt.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Dt)}_makeColorN_Pattern(nt){return nt[0]==="TilingPattern"?this._makeTilingPattern(nt):this._makeShadingPattern(nt)}_makeTilingPattern(nt){const ft=nt[1],wt=nt[2],Pt=nt[3]||c.IDENTITY_MATRIX,[St,jt,_t,Vt]=nt[4],Dt=nt[5],$t=nt[6],Tt=nt[7],Ct=`shading${ct++}`,[lt,Ve,Y,ne]=c.Util.normalizeRect([...c.Util.applyTransform([St,jt],Pt),...c.Util.applyTransform([_t,Vt],Pt)]),[ee,rt]=c.Util.singularValueDecompose2dScale(Pt),at=Dt*ee,vt=$t*rt,ut=this.svgFactory.createElement("svg:pattern");ut.setAttributeNS(null,"id",Ct),ut.setAttributeNS(null,"patternUnits","userSpaceOnUse"),ut.setAttributeNS(null,"width",at),ut.setAttributeNS(null,"height",vt),ut.setAttributeNS(null,"x",`${lt}`),ut.setAttributeNS(null,"y",`${Ve}`);const x=this.svg,st=this.transformMatrix,ot=this.current.fillColor,gt=this.current.strokeColor,yt=this.svgFactory.create(Y-lt,ne-Ve);if(this.svg=yt,this.transformMatrix=Pt,Tt===2){const xt=c.Util.makeHexColor(...ft);this.current.fillColor=xt,this.current.strokeColor=xt}return this.executeOpTree(this.convertOpList(wt)),this.svg=x,this.transformMatrix=st,this.current.fillColor=ot,this.current.strokeColor=gt,ut.append(yt.childNodes[0]),this.defs.append(ut),`url(#${Ct})`}_makeShadingPattern(nt){switch(typeof nt=="string"&&(nt=this.objs.get(nt)),nt[0]){case"RadialAxial":const ft=`shading${ct++}`,wt=nt[3];let Pt;switch(nt[1]){case"axial":const St=nt[4],jt=nt[5];Pt=this.svgFactory.createElement("svg:linearGradient"),Pt.setAttributeNS(null,"id",ft),Pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pt.setAttributeNS(null,"x1",St[0]),Pt.setAttributeNS(null,"y1",St[1]),Pt.setAttributeNS(null,"x2",jt[0]),Pt.setAttributeNS(null,"y2",jt[1]);break;case"radial":const _t=nt[4],Vt=nt[5],Dt=nt[6],$t=nt[7];Pt=this.svgFactory.createElement("svg:radialGradient"),Pt.setAttributeNS(null,"id",ft),Pt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Pt.setAttributeNS(null,"cx",Vt[0]),Pt.setAttributeNS(null,"cy",Vt[1]),Pt.setAttributeNS(null,"r",$t),Pt.setAttributeNS(null,"fx",_t[0]),Pt.setAttributeNS(null,"fy",_t[1]),Pt.setAttributeNS(null,"fr",Dt);break;default:throw new Error(`Unknown RadialAxial type: ${nt[1]}`)}for(const St of wt){const jt=this.svgFactory.createElement("svg:stop");jt.setAttributeNS(null,"offset",St[0]),jt.setAttributeNS(null,"stop-color",St[1]),Pt.append(jt)}return this.defs.append(Pt),`url(#${ft})`;case"Mesh":return(0,c.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${nt[0]}`)}}setDash(nt,ft){this.current.dashArray=nt,this.current.dashPhase=ft}constructPath(nt,ft){const wt=this.current;let Pt=wt.x,St=wt.y,jt=[],_t=0;for(const Vt of nt)switch(Vt|0){case c.OPS.rectangle:Pt=ft[_t++],St=ft[_t++];const Dt=ft[_t++],$t=ft[_t++],Tt=Pt+Dt,Ct=St+$t;jt.push("M",d(Pt),d(St),"L",d(Tt),d(St),"L",d(Tt),d(Ct),"L",d(Pt),d(Ct),"Z");break;case c.OPS.moveTo:Pt=ft[_t++],St=ft[_t++],jt.push("M",d(Pt),d(St));break;case c.OPS.lineTo:Pt=ft[_t++],St=ft[_t++],jt.push("L",d(Pt),d(St));break;case c.OPS.curveTo:Pt=ft[_t+4],St=ft[_t+5],jt.push("C",d(ft[_t]),d(ft[_t+1]),d(ft[_t+2]),d(ft[_t+3]),d(Pt),d(St)),_t+=6;break;case c.OPS.curveTo2:jt.push("C",d(Pt),d(St),d(ft[_t]),d(ft[_t+1]),d(ft[_t+2]),d(ft[_t+3])),Pt=ft[_t+2],St=ft[_t+3],_t+=4;break;case c.OPS.curveTo3:Pt=ft[_t+2],St=ft[_t+3],jt.push("C",d(ft[_t]),d(ft[_t+1]),d(Pt),d(St),d(Pt),d(St)),_t+=4;break;case c.OPS.closePath:jt.push("Z");break}jt=jt.join(" "),wt.path&&nt.length>0&&nt[0]!==c.OPS.rectangle&&nt[0]!==c.OPS.moveTo?jt=wt.path.getAttributeNS(null,"d")+jt:(wt.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(wt.path)),wt.path.setAttributeNS(null,"d",jt),wt.path.setAttributeNS(null,"fill","none"),wt.element=wt.path,wt.setCurrentPoint(Pt,St)}endPath(){const nt=this.current;if(nt.path=null,!this.pendingClip)return;if(!nt.element){this.pendingClip=null;return}const ft=`clippath${et++}`,wt=this.svgFactory.createElement("svg:clipPath");wt.setAttributeNS(null,"id",ft),wt.setAttributeNS(null,"transform",me(this.transformMatrix));const Pt=nt.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Pt.setAttributeNS(null,"clip-rule","evenodd"):Pt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,wt.append(Pt),this.defs.append(wt),nt.activeClipUrl){nt.clipGroup=null;for(const St of this.extraStack)St.clipGroup=null;wt.setAttributeNS(null,"clip-path",nt.activeClipUrl)}nt.activeClipUrl=`url(#${ft})`,this.tgrp=null}clip(nt){this.pendingClip=nt}closePath(){const nt=this.current;if(nt.path){const ft=`${nt.path.getAttributeNS(null,"d")}Z`;nt.path.setAttributeNS(null,"d",ft)}}setLeading(nt){this.current.leading=-nt}setTextRise(nt){this.current.textRise=nt}setTextRenderingMode(nt){this.current.textRenderingMode=nt}setHScale(nt){this.current.textHScale=nt/100}setRenderingIntent(nt){}setFlatness(nt){}setGState(nt){for(const[ft,wt]of nt)switch(ft){case"LW":this.setLineWidth(wt);break;case"LC":this.setLineCap(wt);break;case"LJ":this.setLineJoin(wt);break;case"ML":this.setMiterLimit(wt);break;case"D":this.setDash(wt[0],wt[1]);break;case"RI":this.setRenderingIntent(wt);break;case"FL":this.setFlatness(wt);break;case"Font":this.setFont(wt);break;case"CA":this.setStrokeAlpha(wt);break;case"ca":this.setFillAlpha(wt);break;default:(0,c.warn)(`Unimplemented graphic state operator ${ft}`);break}}fill(){const nt=this.current;nt.element&&(nt.element.setAttributeNS(null,"fill",nt.fillColor),nt.element.setAttributeNS(null,"fill-opacity",nt.fillAlpha),this.endPath())}stroke(){const nt=this.current;nt.element&&(this._setStrokeAttributes(nt.element),nt.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(nt,ft=1){const wt=this.current;let Pt=wt.dashArray;ft!==1&&Pt.length>0&&(Pt=Pt.map(function(St){return ft*St})),nt.setAttributeNS(null,"stroke",wt.strokeColor),nt.setAttributeNS(null,"stroke-opacity",wt.strokeAlpha),nt.setAttributeNS(null,"stroke-miterlimit",d(wt.miterLimit)),nt.setAttributeNS(null,"stroke-linecap",wt.lineCap),nt.setAttributeNS(null,"stroke-linejoin",wt.lineJoin),nt.setAttributeNS(null,"stroke-width",d(ft*wt.lineWidth)+"px"),nt.setAttributeNS(null,"stroke-dasharray",Pt.map(d).join(" ")),nt.setAttributeNS(null,"stroke-dashoffset",d(ft*wt.dashPhase)+"px")}eoFill(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element?.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const nt=this.svgFactory.createElement("svg:rect");nt.setAttributeNS(null,"x","0"),nt.setAttributeNS(null,"y","0"),nt.setAttributeNS(null,"width","1px"),nt.setAttributeNS(null,"height","1px"),nt.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(nt)}paintImageXObject(nt){const ft=this.getObject(nt);if(!ft){(0,c.warn)(`Dependent image with object ID ${nt} is not ready yet`);return}this.paintInlineImageXObject(ft)}paintInlineImageXObject(nt,ft){const wt=nt.width,Pt=nt.height,St=p(nt,this.forceDataSchema,!!ft),jt=this.svgFactory.createElement("svg:rect");jt.setAttributeNS(null,"x","0"),jt.setAttributeNS(null,"y","0"),jt.setAttributeNS(null,"width",d(wt)),jt.setAttributeNS(null,"height",d(Pt)),this.current.element=jt,this.clip("nonzero");const _t=this.svgFactory.createElement("svg:image");_t.setAttributeNS(tt,"xlink:href",St),_t.setAttributeNS(null,"x","0"),_t.setAttributeNS(null,"y",d(-Pt)),_t.setAttributeNS(null,"width",d(wt)+"px"),_t.setAttributeNS(null,"height",d(Pt)+"px"),_t.setAttributeNS(null,"transform",`scale(${d(1/wt)} ${d(-1/Pt)})`),ft?ft.append(_t):this._ensureTransformGroup().append(_t)}paintImageMaskXObject(nt){const ft=this.getObject(nt.data,nt);if(ft.bitmap){(0,c.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const wt=this.current,Pt=ft.width,St=ft.height,jt=wt.fillColor;wt.maskId=`mask${E++}`;const _t=this.svgFactory.createElement("svg:mask");_t.setAttributeNS(null,"id",wt.maskId);const Vt=this.svgFactory.createElement("svg:rect");Vt.setAttributeNS(null,"x","0"),Vt.setAttributeNS(null,"y","0"),Vt.setAttributeNS(null,"width",d(Pt)),Vt.setAttributeNS(null,"height",d(St)),Vt.setAttributeNS(null,"fill",jt),Vt.setAttributeNS(null,"mask",`url(#${wt.maskId})`),this.defs.append(_t),this._ensureTransformGroup().append(Vt),this.paintInlineImageXObject(ft,_t)}paintFormXObjectBegin(nt,ft){if(Array.isArray(nt)&&nt.length===6&&this.transform(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5]),ft){const wt=ft[2]-ft[0],Pt=ft[3]-ft[1],St=this.svgFactory.createElement("svg:rect");St.setAttributeNS(null,"x",ft[0]),St.setAttributeNS(null,"y",ft[1]),St.setAttributeNS(null,"width",d(wt)),St.setAttributeNS(null,"height",d(Pt)),this.current.element=St,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(nt){const ft=this.svgFactory.create(nt.width,nt.height),wt=this.svgFactory.createElement("svg:defs");ft.append(wt),this.defs=wt;const Pt=this.svgFactory.createElement("svg:g");return Pt.setAttributeNS(null,"transform",me(nt.transform)),ft.append(Pt),this.svg=Pt,ft}_ensureClipGroup(){if(!this.current.clipGroup){const nt=this.svgFactory.createElement("svg:g");nt.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(nt),this.current.clipGroup=nt}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",me(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}i.SVGGraphics=mt},(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaText=void 0;class s{static textContent(c){const a=[],G={items:a,styles:Object.create(null)};function tt(it){if(!it)return;let f=null;const u=it.name;if(u==="#text")f=it.value;else if(s.shouldBuildText(u))it?.attributes?.textContent?f=it.attributes.textContent:it.value&&(f=it.value);else return;if(f!==null&&a.push({str:f}),!!it.children)for(const p of it.children)tt(p)}return tt(c),G}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}i.XfaText=s},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TextLayerRenderTask=void 0,i.renderTextLayer=me,i.updateTextLayer=et;var l=s(1),c=s(6);const a=1e5,G=30,tt=.8,it=new Map;function f(E,ct){let mt;if(ct&&l.FeatureTest.isOffscreenCanvasSupported)mt=new OffscreenCanvas(E,E).getContext("2d",{alpha:!1});else{const pt=document.createElement("canvas");pt.width=pt.height=E,mt=pt.getContext("2d",{alpha:!1})}return mt}function u(E,ct){const mt=it.get(E);if(mt)return mt;const pt=f(G,ct);pt.font=`${G}px ${E}`;const nt=pt.measureText("");let ft=nt.fontBoundingBoxAscent,wt=Math.abs(nt.fontBoundingBoxDescent);if(ft){const St=ft/(ft+wt);return it.set(E,St),pt.canvas.width=pt.canvas.height=0,St}pt.strokeStyle="red",pt.clearRect(0,0,G,G),pt.strokeText("g",0,0);let Pt=pt.getImageData(0,0,G,G).data;wt=0;for(let St=Pt.length-1-3;St>=0;St-=4)if(Pt[St]>0){wt=Math.ceil(St/4/G);break}pt.clearRect(0,0,G,G),pt.strokeText("A",0,G),Pt=pt.getImageData(0,0,G,G).data,ft=0;for(let St=0,jt=Pt.length;St<jt;St+=4)if(Pt[St]>0){ft=G-Math.floor(St/4/G);break}if(pt.canvas.width=pt.canvas.height=0,ft){const St=ft/(ft+wt);return it.set(E,St),St}return it.set(E,tt),tt}function p(E,ct,mt){const pt=document.createElement("span"),nt={angle:0,canvasWidth:0,hasText:ct.str!=="",hasEOL:ct.hasEOL,fontSize:0};E._textDivs.push(pt);const ft=l.Util.transform(E._transform,ct.transform);let wt=Math.atan2(ft[1],ft[0]);const Pt=mt[ct.fontName];Pt.vertical&&(wt+=Math.PI/2);const St=Math.hypot(ft[2],ft[3]),jt=St*u(Pt.fontFamily,E._isOffscreenCanvasSupported);let _t,Vt;wt===0?(_t=ft[4],Vt=ft[5]-jt):(_t=ft[4]+jt*Math.sin(wt),Vt=ft[5]-jt*Math.cos(wt));const Dt="calc(var(--scale-factor)*",$t=pt.style;E._container===E._rootContainer?($t.left=`${(100*_t/E._pageWidth).toFixed(2)}%`,$t.top=`${(100*Vt/E._pageHeight).toFixed(2)}%`):($t.left=`${Dt}${_t.toFixed(2)}px)`,$t.top=`${Dt}${Vt.toFixed(2)}px)`),$t.fontSize=`${Dt}${St.toFixed(2)}px)`,$t.fontFamily=Pt.fontFamily,nt.fontSize=St,pt.setAttribute("role","presentation"),pt.textContent=ct.str,pt.dir=ct.dir,E._fontInspectorEnabled&&(pt.dataset.fontName=ct.fontName),wt!==0&&(nt.angle=wt*(180/Math.PI));let Tt=!1;if(ct.str.length>1)Tt=!0;else if(ct.str!==" "&&ct.transform[0]!==ct.transform[3]){const Ct=Math.abs(ct.transform[0]),lt=Math.abs(ct.transform[3]);Ct!==lt&&Math.max(Ct,lt)/Math.min(Ct,lt)>1.5&&(Tt=!0)}Tt&&(nt.canvasWidth=Pt.vertical?ct.height:ct.width),E._textDivProperties.set(pt,nt),E._isReadableStream&&E._layoutText(pt)}function y(E){const{div:ct,scale:mt,properties:pt,ctx:nt,prevFontSize:ft,prevFontFamily:wt}=E,{style:Pt}=ct;let St="";if(pt.canvasWidth!==0&&pt.hasText){const{fontFamily:jt}=Pt,{canvasWidth:_t,fontSize:Vt}=pt;(ft!==Vt||wt!==jt)&&(nt.font=`${Vt*mt}px ${jt}`,E.prevFontSize=Vt,E.prevFontFamily=jt);const{width:Dt}=nt.measureText(ct.textContent);Dt>0&&(St=`scaleX(${_t*mt/Dt})`)}pt.angle!==0&&(St=`rotate(${pt.angle}deg) ${St}`),St.length>0&&(Pt.transform=St)}function Z(E){if(E._canceled)return;const ct=E._textDivs,mt=E._capability;if(ct.length>a){mt.resolve();return}if(!E._isReadableStream)for(const nt of ct)E._layoutText(nt);mt.resolve()}class d{constructor({textContentSource:ct,container:mt,viewport:pt,textDivs:nt,textDivProperties:ft,textContentItemsStr:wt,isOffscreenCanvasSupported:Pt}){this._textContentSource=ct,this._isReadableStream=ct instanceof ReadableStream,this._container=this._rootContainer=mt,this._textDivs=nt||[],this._textContentItemsStr=wt||[],this._isOffscreenCanvasSupported=Pt,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=ft||new WeakMap,this._canceled=!1,this._capability=new l.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:pt.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:f(0,Pt)};const{pageWidth:St,pageHeight:jt,pageX:_t,pageY:Vt}=pt.rawDims;this._transform=[1,0,0,-1,-_t,Vt+jt],this._pageWidth=St,this._pageHeight=jt,(0,c.setLayerDimensions)(mt,pt),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new l.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new l.AbortException("TextLayer task cancelled."))}_processItems(ct,mt){for(const pt of ct){if(pt.str===void 0){if(pt.type==="beginMarkedContentProps"||pt.type==="beginMarkedContent"){const nt=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),pt.id!==null&&this._container.setAttribute("id",`${pt.id}`),nt.append(this._container)}else pt.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(pt.str),p(this,pt,mt)}}_layoutText(ct){const mt=this._layoutTextParams.properties=this._textDivProperties.get(ct);if(this._layoutTextParams.div=ct,y(this._layoutTextParams),mt.hasText&&this._container.append(ct),mt.hasEOL){const pt=document.createElement("br");pt.setAttribute("role","presentation"),this._container.append(pt)}}_render(){const ct=new l.PromiseCapability;let mt=Object.create(null);if(this._isReadableStream){const pt=()=>{this._reader.read().then(({value:nt,done:ft})=>{if(ft){ct.resolve();return}Object.assign(mt,nt.styles),this._processItems(nt.items,mt),pt()},ct.reject)};this._reader=this._textContentSource.getReader(),pt()}else if(this._textContentSource){const{items:pt,styles:nt}=this._textContentSource;this._processItems(pt,nt),ct.resolve()}else throw new Error('No "textContentSource" parameter specified.');ct.promise.then(()=>{mt=null,Z(this)},this._capability.reject)}}i.TextLayerRenderTask=d;function me(E){!E.textContentSource&&(E.textContent||E.textContentStream)&&((0,c.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),E.textContentSource=E.textContent||E.textContentStream);const{container:ct,viewport:mt}=E,pt=getComputedStyle(ct),nt=pt.getPropertyValue("visibility"),ft=parseFloat(pt.getPropertyValue("--scale-factor"));nt==="visible"&&(!ft||Math.abs(ft-mt.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const wt=new d(E);return wt._render(),wt}function et({container:E,viewport:ct,textDivs:mt,textDivProperties:pt,isOffscreenCanvasSupported:nt,mustRotate:ft=!0,mustRescale:wt=!0}){if(ft&&(0,c.setLayerDimensions)(E,{rotation:ct.rotation}),wt){const Pt=f(0,nt),jt={prevFontSize:null,prevFontFamily:null,div:null,scale:ct.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Pt};for(const _t of mt)jt.properties=pt.get(_t),jt.div=_t,y(jt)}}},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AnnotationEditorLayer=void 0;var l=s(1),c=s(4),a=s(28),G=s(33),tt=s(6),it=s(34);class f{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#o=this.pointerdown.bind(this);#a=new Map;#s=!1;#l=!1;#c=!1;#i;static _initialized=!1;constructor({uiManager:p,pageIndex:y,div:Z,accessibilityManager:d,annotationLayer:me,viewport:et,l10n:E}){const ct=[a.FreeTextEditor,G.InkEditor,it.StampEditor];if(!f._initialized){f._initialized=!0;for(const mt of ct)mt.initialize(E)}p.registerEditorTypes(ct),this.#i=p,this.pageIndex=y,this.div=Z,this.#e=d,this.#n=me,this.viewport=et,this.#i.addLayer(this)}get isEmpty(){return this.#a.size===0}updateToolbar(p){this.#i.updateToolbar(p)}updateMode(p=this.#i.getMode()){this.#p(),p===l.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),p!==l.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",p===l.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",p===l.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",p===l.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(p){if(!p&&this.#i.getMode()!==l.AnnotationEditorType.INK)return;if(!p){for(const Z of this.#a.values())if(Z.isEmpty()){Z.setInBackground();return}}this.#d({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(p){this.#i.setEditingState(p)}addCommands(p){this.#i.addCommands(p)}enable(){this.div.style.pointerEvents="auto";const p=new Set;for(const Z of this.#a.values())Z.enableEditing(),Z.annotationElementId&&p.add(Z.annotationElementId);if(!this.#n)return;const y=this.#n.getEditableAnnotations();for(const Z of y){if(Z.hide(),this.#i.isDeletedAnnotationElement(Z.data.id)||p.has(Z.data.id))continue;const d=this.deserialize(Z);d&&(this.addOrRebuild(d),d.enableEditing())}}disable(){this.#c=!0,this.div.style.pointerEvents="none";const p=new Set;for(const y of this.#a.values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){p.add(y.annotationElementId);continue}this.getEditableAnnotation(y.annotationElementId)?.show(),y.remove()}if(this.#n){const y=this.#n.getEditableAnnotations();for(const Z of y){const{id:d}=Z.data;p.has(d)||this.#i.isDeletedAnnotationElement(d)||Z.show()}}this.#p(),this.isEmpty&&(this.div.hidden=!0),this.#c=!1}getEditableAnnotation(p){return this.#n?.getEditableAnnotation(p)||null}setActiveEditor(p){this.#i.getActive()!==p&&this.#i.setActiveEditor(p)}enableClick(){this.div.addEventListener("pointerdown",this.#o),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#o),this.div.removeEventListener("pointerup",this.#r)}attach(p){this.#a.set(p.id,p);const{annotationElementId:y}=p;y&&this.#i.isDeletedAnnotationElement(y)&&this.#i.removeDeletedAnnotationElement(p)}detach(p){this.#a.delete(p.id),this.#e?.removePointerInTextLayer(p.contentDiv),!this.#c&&p.annotationElementId&&this.#i.addDeletedAnnotationElement(p)}remove(p){this.detach(p),this.#i.removeEditor(p),p.div.contains(document.activeElement)&&setTimeout(()=>{this.#i.focusMainContainer()},0),p.div.remove(),p.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(p){p.parent!==this&&(p.annotationElementId&&(this.#i.addDeletedAnnotationElement(p.annotationElementId),c.AnnotationEditor.deleteAnnotationElement(p),p.annotationElementId=null),this.attach(p),p.parent?.detach(p),p.setParent(this),p.div&&p.isAttachedToDOM&&(p.div.remove(),this.div.append(p.div)))}add(p){if(this.changeParent(p),this.#i.addEditor(p),this.attach(p),!p.isAttachedToDOM){const y=p.render();this.div.append(y),p.isAttachedToDOM=!0}p.fixAndSetPosition(),p.onceAdded(),this.#i.addToAnnotationStorage(p)}moveEditorInDOM(p){if(!p.isAttachedToDOM)return;const{activeElement:y}=document;p.div.contains(y)&&(p._focusEventsAllowed=!1,setTimeout(()=>{p.div.contains(document.activeElement)?p._focusEventsAllowed=!0:(p.div.addEventListener("focusin",()=>{p._focusEventsAllowed=!0},{once:!0}),y.focus())},0)),p._structTreeParentId=this.#e?.moveElementInDOM(this.div,p.div,p.contentDiv,!0)}addOrRebuild(p){p.needsToBeRebuilt()?p.rebuild():this.add(p)}addUndoableEditor(p){const y=()=>p._uiManager.rebuild(p),Z=()=>{p.remove()};this.addCommands({cmd:y,undo:Z,mustExec:!1})}getNextId(){return this.#i.getId()}#f(p){switch(this.#i.getMode()){case l.AnnotationEditorType.FREETEXT:return new a.FreeTextEditor(p);case l.AnnotationEditorType.INK:return new G.InkEditor(p);case l.AnnotationEditorType.STAMP:return new it.StampEditor(p)}return null}pasteEditor(p,y){this.#i.updateToolbar(p),this.#i.updateMode(p);const{offsetX:Z,offsetY:d}=this.#h(),me=this.getNextId(),et=this.#f({parent:this,id:me,x:Z,y:d,uiManager:this.#i,isCentered:!0,...y});et&&this.add(et)}deserialize(p){switch(p.annotationType??p.annotationEditorType){case l.AnnotationEditorType.FREETEXT:return a.FreeTextEditor.deserialize(p,this,this.#i);case l.AnnotationEditorType.INK:return G.InkEditor.deserialize(p,this,this.#i);case l.AnnotationEditorType.STAMP:return it.StampEditor.deserialize(p,this,this.#i)}return null}#d(p,y){const Z=this.getNextId(),d=this.#f({parent:this,id:Z,x:p.offsetX,y:p.offsetY,uiManager:this.#i,isCentered:y});return d&&this.add(d),d}#h(){const{x:p,y,width:Z,height:d}=this.div.getBoundingClientRect(),me=Math.max(0,p),et=Math.max(0,y),E=Math.min(window.innerWidth,p+Z),ct=Math.min(window.innerHeight,y+d),mt=(me+E)/2-p,pt=(et+ct)/2-y,[nt,ft]=this.viewport.rotation%180===0?[mt,pt]:[pt,mt];return{offsetX:nt,offsetY:ft}}addNewEditor(){this.#d(this.#h(),!0)}setSelected(p){this.#i.setSelected(p)}toggleSelected(p){this.#i.toggleSelected(p)}isSelected(p){return this.#i.isSelected(p)}unselect(p){this.#i.unselect(p)}pointerup(p){const{isMac:y}=l.FeatureTest.platform;if(!(p.button!==0||p.ctrlKey&&y)&&p.target===this.div&&this.#s){if(this.#s=!1,!this.#t){this.#t=!0;return}if(this.#i.getMode()===l.AnnotationEditorType.STAMP){this.#i.unselectAll();return}this.#d(p,!1)}}pointerdown(p){if(this.#s){this.#s=!1;return}const{isMac:y}=l.FeatureTest.platform;if(p.button!==0||p.ctrlKey&&y||p.target!==this.div)return;this.#s=!0;const Z=this.#i.getActive();this.#t=!Z||Z.isEmpty()}findNewParent(p,y,Z){const d=this.#i.findParent(y,Z);return d===null||d===this?!1:(d.changeParent(p),!0)}destroy(){this.#i.getActive()?.parent===this&&(this.#i.commitOrRemove(),this.#i.setActiveEditor(null));for(const p of this.#a.values())this.#e?.removePointerInTextLayer(p.contentDiv),p.setParent(null),p.isAttachedToDOM=!1,p.div.remove();this.div=null,this.#a.clear(),this.#i.removeLayer(this)}#p(){this.#l=!0;for(const p of this.#a.values())p.isEmpty()&&p.remove();this.#l=!1}render({viewport:p}){this.viewport=p,(0,tt.setLayerDimensions)(this.div,p);for(const y of this.#i.getEditors(this.pageIndex))this.add(y);this.updateMode()}update({viewport:p}){this.#i.commitOrRemove(),this.viewport=p,(0,tt.setLayerDimensions)(this.div,{rotation:p.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:p,pageHeight:y}=this.viewport.rawDims;return[p,y]}}i.AnnotationEditorLayer=f},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FreeTextEditor=void 0;var l=s(1),c=s(5),a=s(4),G=s(29);class tt extends a.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#o;#a="";#s=`${this.id}-editor`;#l;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const f=tt.prototype,u=Z=>Z.isEmpty(),p=c.AnnotationEditorUIManager.TRANSLATE_SMALL,y=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,l.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],f.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],f.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],f._translateEmpty,{args:[-p,0],checker:u}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f._translateEmpty,{args:[-y,0],checker:u}],[["ArrowRight","mac+ArrowRight"],f._translateEmpty,{args:[p,0],checker:u}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f._translateEmpty,{args:[y,0],checker:u}],[["ArrowUp","mac+ArrowUp"],f._translateEmpty,{args:[0,-p],checker:u}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f._translateEmpty,{args:[0,-y],checker:u}],[["ArrowDown","mac+ArrowDown"],f._translateEmpty,{args:[0,p],checker:u}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f._translateEmpty,{args:[0,y],checker:u}]]))}static _type="freetext";constructor(f){super({...f,name:"freeTextEditor"}),this.#o=f.color||tt._defaultColor||a.AnnotationEditor._defaultLineColor,this.#l=f.fontSize||tt._defaultFontSize}static initialize(f){a.AnnotationEditor.initialize(f,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const u=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(u.getPropertyValue("--freetext-padding"))}static updateDefaultParams(f,u){switch(f){case l.AnnotationEditorParamsType.FREETEXT_SIZE:tt._defaultFontSize=u;break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:tt._defaultColor=u;break}}updateParams(f,u){switch(f){case l.AnnotationEditorParamsType.FREETEXT_SIZE:this.#i(u);break;case l.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(u);break}}static get defaultPropertiesToUpdate(){return[[l.AnnotationEditorParamsType.FREETEXT_SIZE,tt._defaultFontSize],[l.AnnotationEditorParamsType.FREETEXT_COLOR,tt._defaultColor||a.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[l.AnnotationEditorParamsType.FREETEXT_SIZE,this.#l],[l.AnnotationEditorParamsType.FREETEXT_COLOR,this.#o]]}#i(f){const u=y=>{this.editorDiv.style.fontSize=`calc(${y}px * var(--scale-factor))`,this.translate(0,-(y-this.#l)*this.parentScale),this.#l=y,this.#h()},p=this.#l;this.addCommands({cmd:()=>{u(f)},undo:()=>{u(p)},mustExec:!0,type:l.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(f){const u=this.#o;this.addCommands({cmd:()=>{this.#o=this.editorDiv.style.color=f},undo:()=>{this.#o=this.editorDiv.style.color=u},mustExec:!0,type:l.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(f,u){this._uiManager.translateSelectedEditors(f,u,!0)}getInitialTranslation(){const f=this.parentScale;return[-tt._internalPadding*f,-(tt._internalPadding+this.#l)*f]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(l.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#s),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(f){this._focusEventsAllowed&&(super.focusin(f),f.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#m();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}#d(){const f=this.editorDiv.getElementsByTagName("div");if(f.length===0)return this.editorDiv.innerText;const u=[];for(const p of f)u.push(p.innerText.replace(/\r\n?|\n/,""));return u.join(`
`)}#h(){const[f,u]=this.parentDimensions;let p;if(this.isAttachedToDOM)p=this.div.getBoundingClientRect();else{const{currentLayer:y,div:Z}=this,d=Z.style.display;Z.style.display="hidden",y.div.append(this.div),p=Z.getBoundingClientRect(),Z.remove(),Z.style.display=d}this.rotation%180===this.parentRotation%180?(this.width=p.width/f,this.height=p.height/u):(this.width=p.height/f,this.height=p.width/u),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const f=this.#a,u=this.#a=this.#d().trimEnd();if(f===u)return;const p=y=>{if(this.#a=y,!y){this.remove();return}this.#p(),this._uiManager.rebuild(this),this.#h()};this.addCommands({cmd:()=>{p(u)},undo:()=>{p(f)},mustExec:!1}),this.#h()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(f){this.enterInEditMode()}keydown(f){f.target===this.div&&f.key==="Enter"&&(this.enterInEditMode(),f.preventDefault())}editorDivKeydown(f){tt._keyboardManager.exec(this,f)}editorDivFocus(f){this.isEditing=!0}editorDivBlur(f){this.isEditing=!1}editorDivInput(f){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let f,u;this.width&&(f=this.x,u=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#s),this.enableEditing(),a.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(y=>this.editorDiv?.setAttribute("aria-label",y)),a.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(y=>this.editorDiv?.setAttribute("default-content",y)),this.editorDiv.contentEditable=!0;const{style:p}=this.editorDiv;if(p.fontSize=`calc(${this.#l}px * var(--scale-factor))`,p.color=this.#o,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[y,Z]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this.#c;let[me,et]=this.getInitialTranslation();[me,et]=this.pageTranslationToScreen(me,et);const[E,ct]=this.pageDimensions,[mt,pt]=this.pageTranslation;let nt,ft;switch(this.rotation){case 0:nt=f+(d[0]-mt)/E,ft=u+this.height-(d[1]-pt)/ct;break;case 90:nt=f+(d[0]-mt)/E,ft=u-(d[1]-pt)/ct,[me,et]=[et,-me];break;case 180:nt=f-this.width+(d[0]-mt)/E,ft=u-(d[1]-pt)/ct,[me,et]=[-me,-et];break;case 270:nt=f+(d[0]-mt-this.height*ct)/E,ft=u+(d[1]-pt-this.width*E)/ct,[me,et]=[-et,me];break}this.setAt(nt*y,ft*Z,me,et)}else this.setAt(f*y,u*Z,this.width*y,this.height*Z);this.#p(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#p(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const f of this.#a.split(`
`)){const u=document.createElement("div");u.append(f?document.createTextNode(f):document.createElement("br")),this.editorDiv.append(u)}}get contentDiv(){return this.editorDiv}static deserialize(f,u,p){let y=null;if(f instanceof G.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:d,fontColor:me},rect:et,rotation:E,id:ct},textContent:mt,textPosition:pt,parent:{page:{pageNumber:nt}}}=f;if(!mt||mt.length===0)return null;y=f={annotationType:l.AnnotationEditorType.FREETEXT,color:Array.from(me),fontSize:d,value:mt.join(`
`),position:pt,pageIndex:nt-1,rect:et,rotation:E,id:ct,deleted:!1}}const Z=super.deserialize(f,u,p);return Z.#l=f.fontSize,Z.#o=l.Util.makeHexColor(...f.color),Z.#a=f.value,Z.annotationElementId=f.id||null,Z.#c=y,Z}serialize(f=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const u=tt._internalPadding*this.parentScale,p=this.getRect(u,u),y=a.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#o),Z={annotationType:l.AnnotationEditorType.FREETEXT,color:y,fontSize:this.#l,value:this.#a,pageIndex:this.pageIndex,rect:p,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return f?Z:this.annotationElementId&&!this.#v(Z)?null:(Z.id=this.annotationElementId,Z)}#v(f){const{value:u,fontSize:p,color:y,rect:Z,pageIndex:d}=this.#c;return f.value!==u||f.fontSize!==p||f.rect.some((me,et)=>Math.abs(me-Z[et])>=1)||f.color.some((me,et)=>me!==y[et])||f.pageIndex!==d}#m(f=!1){if(!this.annotationElementId)return;if(this.#h(),!f&&(this.width===0||this.height===0)){setTimeout(()=>this.#m(!0),0);return}const u=tt._internalPadding*this.parentScale;this.#c.rect=this.getRect(u,u)}}i.FreeTextEditor=tt},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StampAnnotationElement=i.InkAnnotationElement=i.FreeTextAnnotationElement=i.AnnotationLayer=void 0;var l=s(1),c=s(6),a=s(3),G=s(30),tt=s(31),it=s(32);const f=1e3,u=9,p=new WeakSet;function y(ut){return{width:ut[2]-ut[0],height:ut[3]-ut[1]}}class Z{static create(x){switch(x.data.annotationType){case l.AnnotationType.LINK:return new me(x);case l.AnnotationType.TEXT:return new et(x);case l.AnnotationType.WIDGET:switch(x.data.fieldType){case"Tx":return new ct(x);case"Btn":return x.data.radioButton?new nt(x):x.data.checkBox?new pt(x):new ft(x);case"Ch":return new wt(x);case"Sig":return new mt(x)}return new E(x);case l.AnnotationType.POPUP:return new Pt(x);case l.AnnotationType.FREETEXT:return new jt(x);case l.AnnotationType.LINE:return new _t(x);case l.AnnotationType.SQUARE:return new Vt(x);case l.AnnotationType.CIRCLE:return new Dt(x);case l.AnnotationType.POLYLINE:return new $t(x);case l.AnnotationType.CARET:return new Ct(x);case l.AnnotationType.INK:return new lt(x);case l.AnnotationType.POLYGON:return new Tt(x);case l.AnnotationType.HIGHLIGHT:return new Ve(x);case l.AnnotationType.UNDERLINE:return new Y(x);case l.AnnotationType.SQUIGGLY:return new ne(x);case l.AnnotationType.STRIKEOUT:return new ee(x);case l.AnnotationType.STAMP:return new rt(x);case l.AnnotationType.FILEATTACHMENT:return new at(x);default:return new d(x)}}}class d{#e=!1;constructor(x,{isRenderable:st=!1,ignoreBorder:ot=!1,createQuadrilaterals:gt=!1}={}){this.isRenderable=st,this.data=x.data,this.layer=x.layer,this.linkService=x.linkService,this.downloadManager=x.downloadManager,this.imageResourcesPath=x.imageResourcesPath,this.renderForms=x.renderForms,this.svgFactory=x.svgFactory,this.annotationStorage=x.annotationStorage,this.enableScripting=x.enableScripting,this.hasJSActions=x.hasJSActions,this._fieldObjects=x.fieldObjects,this.parent=x.parent,st&&(this.container=this._createContainer(ot)),gt&&this._createQuadrilaterals()}static _hasPopupData({titleObj:x,contentsObj:st,richText:ot}){return!!(x?.str||st?.str||ot?.str)}get hasPopupData(){return d._hasPopupData(this.data)}_createContainer(x){const{data:st,parent:{page:ot,viewport:gt}}=this,yt=document.createElement("section");yt.setAttribute("data-annotation-id",st.id),this instanceof E||(yt.tabIndex=f),yt.style.zIndex=this.parent.zIndex++,this.data.popupRef&&yt.setAttribute("aria-haspopup","dialog"),st.noRotate&&yt.classList.add("norotate");const{pageWidth:xt,pageHeight:Rt,pageX:qt,pageY:un}=gt.rawDims;if(!st.rect||this instanceof Pt){const{rotation:nn}=st;return!st.hasOwnCanvas&&nn!==0&&this.setRotation(nn,yt),yt}const{width:Yt,height:Qt}=y(st.rect),Jt=l.Util.normalizeRect([st.rect[0],ot.view[3]-st.rect[1]+ot.view[1],st.rect[2],ot.view[3]-st.rect[3]+ot.view[1]]);if(!x&&st.borderStyle.width>0){yt.style.borderWidth=`${st.borderStyle.width}px`;const nn=st.borderStyle.horizontalCornerRadius,fn=st.borderStyle.verticalCornerRadius;if(nn>0||fn>0){const _n=`calc(${nn}px * var(--scale-factor)) / calc(${fn}px * var(--scale-factor))`;yt.style.borderRadius=_n}else if(this instanceof nt){const _n=`calc(${Yt}px * var(--scale-factor)) / calc(${Qt}px * var(--scale-factor))`;yt.style.borderRadius=_n}switch(st.borderStyle.style){case l.AnnotationBorderStyleType.SOLID:yt.style.borderStyle="solid";break;case l.AnnotationBorderStyleType.DASHED:yt.style.borderStyle="dashed";break;case l.AnnotationBorderStyleType.BEVELED:(0,l.warn)("Unimplemented border style: beveled");break;case l.AnnotationBorderStyleType.INSET:(0,l.warn)("Unimplemented border style: inset");break;case l.AnnotationBorderStyleType.UNDERLINE:yt.style.borderBottomStyle="solid";break}const an=st.borderColor||null;an?(this.#e=!0,yt.style.borderColor=l.Util.makeHexColor(an[0]|0,an[1]|0,an[2]|0)):yt.style.borderWidth=0}yt.style.left=`${100*(Jt[0]-qt)/xt}%`,yt.style.top=`${100*(Jt[1]-un)/Rt}%`;const{rotation:Gt}=st;return st.hasOwnCanvas||Gt===0?(yt.style.width=`${100*Yt/xt}%`,yt.style.height=`${100*Qt/Rt}%`):this.setRotation(Gt,yt),yt}setRotation(x,st=this.container){if(!this.data.rect)return;const{pageWidth:ot,pageHeight:gt}=this.parent.viewport.rawDims,{width:yt,height:xt}=y(this.data.rect);let Rt,qt;x%180===0?(Rt=100*yt/ot,qt=100*xt/gt):(Rt=100*xt/ot,qt=100*yt/gt),st.style.width=`${Rt}%`,st.style.height=`${qt}%`,st.setAttribute("data-main-rotation",(360-x)%360)}get _commonActions(){const x=(st,ot,gt)=>{const yt=gt.detail[st],xt=yt[0],Rt=yt.slice(1);gt.target.style[ot]=G.ColorConverters[`${xt}_HTML`](Rt),this.annotationStorage.setValue(this.data.id,{[ot]:G.ColorConverters[`${xt}_rgb`](Rt)})};return(0,l.shadow)(this,"_commonActions",{display:st=>{const{display:ot}=st.detail,gt=ot%2===1;this.container.style.visibility=gt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:gt,noPrint:ot===1||ot===2})},print:st=>{this.annotationStorage.setValue(this.data.id,{noPrint:!st.detail.print})},hidden:st=>{const{hidden:ot}=st.detail;this.container.style.visibility=ot?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ot,noView:ot})},focus:st=>{setTimeout(()=>st.target.focus({preventScroll:!1}),0)},userName:st=>{st.target.title=st.detail.userName},readonly:st=>{st.target.disabled=st.detail.readonly},required:st=>{this._setRequired(st.target,st.detail.required)},bgColor:st=>{x("bgColor","backgroundColor",st)},fillColor:st=>{x("fillColor","backgroundColor",st)},fgColor:st=>{x("fgColor","color",st)},textColor:st=>{x("textColor","color",st)},borderColor:st=>{x("borderColor","borderColor",st)},strokeColor:st=>{x("strokeColor","borderColor",st)},rotation:st=>{const ot=st.detail.rotation;this.setRotation(ot),this.annotationStorage.setValue(this.data.id,{rotation:ot})}})}_dispatchEventFromSandbox(x,st){const ot=this._commonActions;for(const gt of Object.keys(st.detail))(x[gt]||ot[gt])?.(st)}_setDefaultPropertiesFromJS(x){if(!this.enableScripting)return;const st=this.annotationStorage.getRawValue(this.data.id);if(!st)return;const ot=this._commonActions;for(const[gt,yt]of Object.entries(st)){const xt=ot[gt];if(xt){const Rt={detail:{[gt]:yt},target:x};xt(Rt),delete st[gt]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:x}=this.data;if(!x)return;const[st,ot,gt,yt]=this.data.rect;if(x.length===1){const[,{x:fn,y:an},{x:_n,y:An}]=x[0];if(gt===fn&&yt===an&&st===_n&&ot===An)return}const{style:xt}=this.container;let Rt;if(this.#e){const{borderColor:fn,borderWidth:an}=xt;xt.borderWidth=0,Rt=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${fn}" stroke-width="${an}">`],this.container.classList.add("hasBorder")}const qt=gt-st,un=yt-ot,{svgFactory:Yt}=this,Qt=Yt.createElement("svg");Qt.classList.add("quadrilateralsContainer"),Qt.setAttribute("width",0),Qt.setAttribute("height",0);const Jt=Yt.createElement("defs");Qt.append(Jt);const Gt=Yt.createElement("clipPath"),nn=`clippath_${this.data.id}`;Gt.setAttribute("id",nn),Gt.setAttribute("clipPathUnits","objectBoundingBox"),Jt.append(Gt);for(const[,{x:fn,y:an},{x:_n,y:An}]of x){const Mn=Yt.createElement("rect"),Yn=(_n-st)/qt,ar=(yt-an)/un,er=(fn-_n)/qt,Tr=(an-An)/un;Mn.setAttribute("x",Yn),Mn.setAttribute("y",ar),Mn.setAttribute("width",er),Mn.setAttribute("height",Tr),Gt.append(Mn),Rt?.push(`<rect vector-effect="non-scaling-stroke" x="${Yn}" y="${ar}" width="${er}" height="${Tr}"/>`)}this.#e&&(Rt.push("</g></svg>')"),xt.backgroundImage=Rt.join("")),this.container.append(Qt),this.container.style.clipPath=`url(#${nn})`}_createPopup(){const{container:x,data:st}=this;x.setAttribute("aria-haspopup","dialog");const ot=new Pt({data:{color:st.color,titleObj:st.titleObj,modificationDate:st.modificationDate,contentsObj:st.contentsObj,richText:st.richText,parentRect:st.rect,borderStyle:0,id:`popup_${st.id}`,rotation:st.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ot.render())}render(){(0,l.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(x,st=null){const ot=[];if(this._fieldObjects){const gt=this._fieldObjects[x];if(gt)for(const{page:yt,id:xt,exportValues:Rt}of gt){if(yt===-1||xt===st)continue;const qt=typeof Rt=="string"?Rt:null,un=document.querySelector(`[data-element-id="${xt}"]`);if(un&&!p.has(un)){(0,l.warn)(`_getElementsByName - element not allowed: ${xt}`);continue}ot.push({id:xt,exportValue:qt,domElement:un})}return ot}for(const gt of document.getElementsByName(x)){const{exportValue:yt}=gt,xt=gt.getAttribute("data-element-id");xt!==st&&p.has(gt)&&ot.push({id:xt,exportValue:yt,domElement:gt})}return ot}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const x=this.getElementsToTriggerPopup();if(Array.isArray(x))for(const st of x)st.classList.add("highlightArea");else x.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:x,data:{id:st}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:x,editId:st})})}}class me extends d{constructor(x,st=null){super(x,{isRenderable:!0,ignoreBorder:!!st?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=x.data.isTooltipOnly}render(){const{data:x,linkService:st}=this,ot=document.createElement("a");ot.setAttribute("data-element-id",x.id);let gt=!1;return x.url?(st.addLinkAttributes(ot,x.url,x.newWindow),gt=!0):x.action?(this._bindNamedAction(ot,x.action),gt=!0):x.attachment?(this._bindAttachment(ot,x.attachment),gt=!0):x.setOCGState?(this.#t(ot,x.setOCGState),gt=!0):x.dest?(this._bindLink(ot,x.dest),gt=!0):(x.actions&&(x.actions.Action||x.actions["Mouse Up"]||x.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ot,x),gt=!0),x.resetForm?(this._bindResetFormAction(ot,x.resetForm),gt=!0):this.isTooltipOnly&&!gt&&(this._bindLink(ot,""),gt=!0)),this.container.classList.add("linkAnnotation"),gt&&this.container.append(ot),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(x,st){x.href=this.linkService.getDestinationHash(st),x.onclick=()=>(st&&this.linkService.goToDestination(st),!1),(st||st==="")&&this.#e()}_bindNamedAction(x,st){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.linkService.executeNamedAction(st),!1),this.#e()}_bindAttachment(x,st){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.downloadManager?.openOrDownloadData(this.container,st.content,st.filename),!1),this.#e()}#t(x,st){x.href=this.linkService.getAnchorUrl(""),x.onclick=()=>(this.linkService.executeSetOCGState(st),!1),this.#e()}_bindJSAction(x,st){x.href=this.linkService.getAnchorUrl("");const ot=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const gt of Object.keys(st.actions)){const yt=ot.get(gt);yt&&(x[yt]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st.id,name:gt}}),!1))}x.onclick||(x.onclick=()=>!1),this.#e()}_bindResetFormAction(x,st){const ot=x.onclick;if(ot||(x.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,l.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ot||(x.onclick=()=>!1);return}x.onclick=()=>{ot?.();const{fields:gt,refs:yt,include:xt}=st,Rt=[];if(gt.length!==0||yt.length!==0){const Yt=new Set(yt);for(const Qt of gt){const Jt=this._fieldObjects[Qt]||[];for(const{id:Gt}of Jt)Yt.add(Gt)}for(const Qt of Object.values(this._fieldObjects))for(const Jt of Qt)Yt.has(Jt.id)===xt&&Rt.push(Jt)}else for(const Yt of Object.values(this._fieldObjects))Rt.push(...Yt);const qt=this.annotationStorage,un=[];for(const Yt of Rt){const{id:Qt}=Yt;switch(un.push(Qt),Yt.type){case"text":{const Gt=Yt.defaultValue||"";qt.setValue(Qt,{value:Gt});break}case"checkbox":case"radiobutton":{const Gt=Yt.defaultValue===Yt.exportValues;qt.setValue(Qt,{value:Gt});break}case"combobox":case"listbox":{const Gt=Yt.defaultValue||"";qt.setValue(Qt,{value:Gt});break}default:continue}const Jt=document.querySelector(`[data-element-id="${Qt}"]`);if(Jt){if(!p.has(Jt)){(0,l.warn)(`_bindResetFormAction - element not allowed: ${Qt}`);continue}}else continue;Jt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:un,name:"ResetForm"}}),!1}}}class et extends d{constructor(x){super(x,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const x=document.createElement("img");return x.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",x.alt="[{{type}} Annotation]",x.dataset.l10nId="text_annotation_type",x.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(x),this.container}}class E extends d{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(x){this.data.hasOwnCanvas&&(x.previousSibling?.nodeName==="CANVAS"&&(x.previousSibling.hidden=!0),x.hidden=!1)}_getKeyModifier(x){const{isWin:st,isMac:ot}=l.FeatureTest.platform;return st&&x.ctrlKey||ot&&x.metaKey}_setEventListener(x,st,ot,gt,yt){ot.includes("mouse")?x.addEventListener(ot,xt=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:gt,value:yt(xt),shift:xt.shiftKey,modifier:this._getKeyModifier(xt)}})}):x.addEventListener(ot,xt=>{if(ot==="blur"){if(!st.focused||!xt.relatedTarget)return;st.focused=!1}else if(ot==="focus"){if(st.focused)return;st.focused=!0}yt&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:gt,value:yt(xt)}})})}_setEventListeners(x,st,ot,gt){for(const[yt,xt]of ot)(xt==="Action"||this.data.actions?.[xt])&&((xt==="Focus"||xt==="Blur")&&(st||={focused:!1}),this._setEventListener(x,st,yt,xt,gt),xt==="Focus"&&!this.data.actions?.Blur?this._setEventListener(x,st,"blur","Blur",null):xt==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(x,st,"focus","Focus",null))}_setBackgroundColor(x){const st=this.data.backgroundColor||null;x.style.backgroundColor=st===null?"transparent":l.Util.makeHexColor(st[0],st[1],st[2])}_setTextStyle(x){const st=["left","center","right"],{fontColor:ot}=this.data.defaultAppearanceData,gt=this.data.defaultAppearanceData.fontSize||u,yt=x.style;let xt;const Rt=2,qt=un=>Math.round(10*un)/10;if(this.data.multiLine){const un=Math.abs(this.data.rect[3]-this.data.rect[1]-Rt),Yt=Math.round(un/(l.LINE_FACTOR*gt))||1,Qt=un/Yt;xt=Math.min(gt,qt(Qt/l.LINE_FACTOR))}else{const un=Math.abs(this.data.rect[3]-this.data.rect[1]-Rt);xt=Math.min(gt,qt(un/l.LINE_FACTOR))}yt.fontSize=`calc(${xt}px * var(--scale-factor))`,yt.color=l.Util.makeHexColor(ot[0],ot[1],ot[2]),this.data.textAlignment!==null&&(yt.textAlign=st[this.data.textAlignment])}_setRequired(x,st){st?x.setAttribute("required",!0):x.removeAttribute("required"),x.setAttribute("aria-required",st)}}class ct extends E{constructor(x){const st=x.renderForms||!x.data.hasAppearance&&!!x.data.fieldValue;super(x,{isRenderable:st})}setPropertyOnSiblings(x,st,ot,gt){const yt=this.annotationStorage;for(const xt of this._getElementsByName(x.name,x.id))xt.domElement&&(xt.domElement[st]=ot),yt.setValue(xt.id,{[gt]:ot})}render(){const x=this.annotationStorage,st=this.data.id;this.container.classList.add("textWidgetAnnotation");let ot=null;if(this.renderForms){const gt=x.getValue(st,{value:this.data.fieldValue});let yt=gt.value||"";const xt=x.getValue(st,{charLimit:this.data.maxLen}).charLimit;xt&&yt.length>xt&&(yt=yt.slice(0,xt));let Rt=gt.formattedValue||this.data.textContent?.join(`
`)||null;Rt&&this.data.comb&&(Rt=Rt.replaceAll(/\s+/g,""));const qt={userValue:yt,formattedValue:Rt,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ot=document.createElement("textarea"),ot.textContent=Rt??yt,this.data.doNotScroll&&(ot.style.overflowY="hidden")):(ot=document.createElement("input"),ot.type="text",ot.setAttribute("value",Rt??yt),this.data.doNotScroll&&(ot.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ot.hidden=!0),p.add(ot),ot.setAttribute("data-element-id",st),ot.disabled=this.data.readOnly,ot.name=this.data.fieldName,ot.tabIndex=f,this._setRequired(ot,this.data.required),xt&&(ot.maxLength=xt),ot.addEventListener("input",Yt=>{x.setValue(st,{value:Yt.target.value}),this.setPropertyOnSiblings(ot,"value",Yt.target.value,"value"),qt.formattedValue=null}),ot.addEventListener("resetform",Yt=>{const Qt=this.data.defaultFieldValue??"";ot.value=qt.userValue=Qt,qt.formattedValue=null});let un=Yt=>{const{formattedValue:Qt}=qt;Qt!=null&&(Yt.target.value=Qt),Yt.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ot.addEventListener("focus",Qt=>{if(qt.focused)return;const{target:Jt}=Qt;qt.userValue&&(Jt.value=qt.userValue),qt.lastCommittedValue=Jt.value,qt.commitKey=1,qt.focused=!0}),ot.addEventListener("updatefromsandbox",Qt=>{this.showElementAndHideCanvas(Qt.target);const Jt={value(Gt){qt.userValue=Gt.detail.value??"",x.setValue(st,{value:qt.userValue.toString()}),Gt.target.value=qt.userValue},formattedValue(Gt){const{formattedValue:nn}=Gt.detail;qt.formattedValue=nn,nn!=null&&Gt.target!==document.activeElement&&(Gt.target.value=nn),x.setValue(st,{formattedValue:nn})},selRange(Gt){Gt.target.setSelectionRange(...Gt.detail.selRange)},charLimit:Gt=>{const{charLimit:nn}=Gt.detail,{target:fn}=Gt;if(nn===0){fn.removeAttribute("maxLength");return}fn.setAttribute("maxLength",nn);let an=qt.userValue;!an||an.length<=nn||(an=an.slice(0,nn),fn.value=qt.userValue=an,x.setValue(st,{value:an}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:an,willCommit:!0,commitKey:1,selStart:fn.selectionStart,selEnd:fn.selectionEnd}}))}};this._dispatchEventFromSandbox(Jt,Qt)}),ot.addEventListener("keydown",Qt=>{qt.commitKey=1;let Jt=-1;if(Qt.key==="Escape"?Jt=0:Qt.key==="Enter"&&!this.data.multiLine?Jt=2:Qt.key==="Tab"&&(qt.commitKey=3),Jt===-1)return;const{value:Gt}=Qt.target;qt.lastCommittedValue!==Gt&&(qt.lastCommittedValue=Gt,qt.userValue=Gt,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:Gt,willCommit:!0,commitKey:Jt,selStart:Qt.target.selectionStart,selEnd:Qt.target.selectionEnd}}))});const Yt=un;un=null,ot.addEventListener("blur",Qt=>{if(!qt.focused||!Qt.relatedTarget)return;qt.focused=!1;const{value:Jt}=Qt.target;qt.userValue=Jt,qt.lastCommittedValue!==Jt&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:Jt,willCommit:!0,commitKey:qt.commitKey,selStart:Qt.target.selectionStart,selEnd:Qt.target.selectionEnd}}),Yt(Qt)}),this.data.actions?.Keystroke&&ot.addEventListener("beforeinput",Qt=>{qt.lastCommittedValue=null;const{data:Jt,target:Gt}=Qt,{value:nn,selectionStart:fn,selectionEnd:an}=Gt;let _n=fn,An=an;switch(Qt.inputType){case"deleteWordBackward":{const Mn=nn.substring(0,fn).match(/\w*[^\w]*$/);Mn&&(_n-=Mn[0].length);break}case"deleteWordForward":{const Mn=nn.substring(fn).match(/^[^\w]*\w*/);Mn&&(An+=Mn[0].length);break}case"deleteContentBackward":fn===an&&(_n-=1);break;case"deleteContentForward":fn===an&&(An+=1);break}Qt.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:nn,change:Jt||"",willCommit:!1,selStart:_n,selEnd:An}})}),this._setEventListeners(ot,qt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Qt=>Qt.target.value)}if(un&&ot.addEventListener("blur",un),this.data.comb){const Qt=(this.data.rect[2]-this.data.rect[0])/xt;ot.classList.add("comb"),ot.style.letterSpacing=`calc(${Qt}px * var(--scale-factor) - 1ch)`}}else ot=document.createElement("div"),ot.textContent=this.data.fieldValue,ot.style.verticalAlign="middle",ot.style.display="table-cell";return this._setTextStyle(ot),this._setBackgroundColor(ot),this._setDefaultPropertiesFromJS(ot),this.container.append(ot),this.container}}class mt extends E{constructor(x){super(x,{isRenderable:!!x.data.hasOwnCanvas})}}class pt extends E{constructor(x){super(x,{isRenderable:x.renderForms})}render(){const x=this.annotationStorage,st=this.data,ot=st.id;let gt=x.getValue(ot,{value:st.exportValue===st.fieldValue}).value;typeof gt=="string"&&(gt=gt!=="Off",x.setValue(ot,{value:gt})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const yt=document.createElement("input");return p.add(yt),yt.setAttribute("data-element-id",ot),yt.disabled=st.readOnly,this._setRequired(yt,this.data.required),yt.type="checkbox",yt.name=st.fieldName,gt&&yt.setAttribute("checked",!0),yt.setAttribute("exportValue",st.exportValue),yt.tabIndex=f,yt.addEventListener("change",xt=>{const{name:Rt,checked:qt}=xt.target;for(const un of this._getElementsByName(Rt,ot)){const Yt=qt&&un.exportValue===st.exportValue;un.domElement&&(un.domElement.checked=Yt),x.setValue(un.id,{value:Yt})}x.setValue(ot,{value:qt})}),yt.addEventListener("resetform",xt=>{const Rt=st.defaultFieldValue||"Off";xt.target.checked=Rt===st.exportValue}),this.enableScripting&&this.hasJSActions&&(yt.addEventListener("updatefromsandbox",xt=>{const Rt={value(qt){qt.target.checked=qt.detail.value!=="Off",x.setValue(ot,{value:qt.target.checked})}};this._dispatchEventFromSandbox(Rt,xt)}),this._setEventListeners(yt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],xt=>xt.target.checked)),this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class nt extends E{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const x=this.annotationStorage,st=this.data,ot=st.id;let gt=x.getValue(ot,{value:st.fieldValue===st.buttonValue}).value;typeof gt=="string"&&(gt=gt!==st.buttonValue,x.setValue(ot,{value:gt}));const yt=document.createElement("input");if(p.add(yt),yt.setAttribute("data-element-id",ot),yt.disabled=st.readOnly,this._setRequired(yt,this.data.required),yt.type="radio",yt.name=st.fieldName,gt&&yt.setAttribute("checked",!0),yt.tabIndex=f,yt.addEventListener("change",xt=>{const{name:Rt,checked:qt}=xt.target;for(const un of this._getElementsByName(Rt,ot))x.setValue(un.id,{value:!1});x.setValue(ot,{value:qt})}),yt.addEventListener("resetform",xt=>{const Rt=st.defaultFieldValue;xt.target.checked=Rt!=null&&Rt===st.buttonValue}),this.enableScripting&&this.hasJSActions){const xt=st.buttonValue;yt.addEventListener("updatefromsandbox",Rt=>{const qt={value:un=>{const Yt=xt===un.detail.value;for(const Qt of this._getElementsByName(un.target.name)){const Jt=Yt&&Qt.id===ot;Qt.domElement&&(Qt.domElement.checked=Jt),x.setValue(Qt.id,{value:Jt})}}};this._dispatchEventFromSandbox(qt,Rt)}),this._setEventListeners(yt,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Rt=>Rt.target.checked)}return this._setBackgroundColor(yt),this._setDefaultPropertiesFromJS(yt),this.container.append(yt),this.container}}class ft extends me{constructor(x){super(x,{ignoreBorder:x.data.hasAppearance})}render(){const x=super.render();x.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(x.title=this.data.alternativeText);const st=x.lastChild;return this.enableScripting&&this.hasJSActions&&st&&(this._setDefaultPropertiesFromJS(st),st.addEventListener("updatefromsandbox",ot=>{this._dispatchEventFromSandbox({},ot)})),x}}class wt extends E{constructor(x){super(x,{isRenderable:x.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const x=this.annotationStorage,st=this.data.id,ot=x.getValue(st,{value:this.data.fieldValue}),gt=document.createElement("select");p.add(gt),gt.setAttribute("data-element-id",st),gt.disabled=this.data.readOnly,this._setRequired(gt,this.data.required),gt.name=this.data.fieldName,gt.tabIndex=f;let yt=this.data.combo&&this.data.options.length>0;this.data.combo||(gt.size=this.data.options.length,this.data.multiSelect&&(gt.multiple=!0)),gt.addEventListener("resetform",Yt=>{const Qt=this.data.defaultFieldValue;for(const Jt of gt.options)Jt.selected=Jt.value===Qt});for(const Yt of this.data.options){const Qt=document.createElement("option");Qt.textContent=Yt.displayValue,Qt.value=Yt.exportValue,ot.value.includes(Yt.exportValue)&&(Qt.setAttribute("selected",!0),yt=!1),gt.append(Qt)}let xt=null;if(yt){const Yt=document.createElement("option");Yt.value=" ",Yt.setAttribute("hidden",!0),Yt.setAttribute("selected",!0),gt.prepend(Yt),xt=()=>{Yt.remove(),gt.removeEventListener("input",xt),xt=null},gt.addEventListener("input",xt)}const Rt=Yt=>{const Qt=Yt?"value":"textContent",{options:Jt,multiple:Gt}=gt;return Gt?Array.prototype.filter.call(Jt,nn=>nn.selected).map(nn=>nn[Qt]):Jt.selectedIndex===-1?null:Jt[Jt.selectedIndex][Qt]};let qt=Rt(!1);const un=Yt=>{const Qt=Yt.target.options;return Array.prototype.map.call(Qt,Jt=>({displayValue:Jt.textContent,exportValue:Jt.value}))};return this.enableScripting&&this.hasJSActions?(gt.addEventListener("updatefromsandbox",Yt=>{const Qt={value(Jt){xt?.();const Gt=Jt.detail.value,nn=new Set(Array.isArray(Gt)?Gt:[Gt]);for(const fn of gt.options)fn.selected=nn.has(fn.value);x.setValue(st,{value:Rt(!0)}),qt=Rt(!1)},multipleSelection(Jt){gt.multiple=!0},remove(Jt){const Gt=gt.options,nn=Jt.detail.remove;Gt[nn].selected=!1,gt.remove(nn),Gt.length>0&&Array.prototype.findIndex.call(Gt,an=>an.selected)===-1&&(Gt[0].selected=!0),x.setValue(st,{value:Rt(!0),items:un(Jt)}),qt=Rt(!1)},clear(Jt){for(;gt.length!==0;)gt.remove(0);x.setValue(st,{value:null,items:[]}),qt=Rt(!1)},insert(Jt){const{index:Gt,displayValue:nn,exportValue:fn}=Jt.detail.insert,an=gt.children[Gt],_n=document.createElement("option");_n.textContent=nn,_n.value=fn,an?an.before(_n):gt.append(_n),x.setValue(st,{value:Rt(!0),items:un(Jt)}),qt=Rt(!1)},items(Jt){const{items:Gt}=Jt.detail;for(;gt.length!==0;)gt.remove(0);for(const nn of Gt){const{displayValue:fn,exportValue:an}=nn,_n=document.createElement("option");_n.textContent=fn,_n.value=an,gt.append(_n)}gt.options.length>0&&(gt.options[0].selected=!0),x.setValue(st,{value:Rt(!0),items:un(Jt)}),qt=Rt(!1)},indices(Jt){const Gt=new Set(Jt.detail.indices);for(const nn of Jt.target.options)nn.selected=Gt.has(nn.index);x.setValue(st,{value:Rt(!0)}),qt=Rt(!1)},editable(Jt){Jt.target.disabled=!Jt.detail.editable}};this._dispatchEventFromSandbox(Qt,Yt)}),gt.addEventListener("input",Yt=>{const Qt=Rt(!0);x.setValue(st,{value:Qt}),Yt.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:st,name:"Keystroke",value:qt,changeEx:Qt,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(gt,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Yt=>Yt.target.value)):gt.addEventListener("input",function(Yt){x.setValue(st,{value:Rt(!0)})}),this.data.combo&&this._setTextStyle(gt),this._setBackgroundColor(gt),this._setDefaultPropertiesFromJS(gt),this.container.append(gt),this.container}}class Pt extends d{constructor(x){const{data:st,elements:ot}=x;super(x,{isRenderable:d._hasPopupData(st)}),this.elements=ot}render(){this.container.classList.add("popupAnnotation");const x=new St({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),st=[];for(const ot of this.elements)ot.popup=x,st.push(ot.data.id),ot.addHighlightArea();return this.container.setAttribute("aria-controls",st.map(ot=>`${l.AnnotationPrefix}${ot}`).join(",")),this.container}}class St{#e=null;#t=this.#u.bind(this);#n=this.#w.bind(this);#r=this.#x.bind(this);#o=this.#y.bind(this);#a=null;#s=null;#l=null;#c=null;#i=null;#f=null;#d=!1;#h=null;#p=null;#v=null;#m=null;#g=!1;constructor({container:x,color:st,elements:ot,titleObj:gt,modificationDate:yt,contentsObj:xt,richText:Rt,parent:qt,rect:un,parentRect:Yt,open:Qt}){this.#s=x,this.#m=gt,this.#l=xt,this.#v=Rt,this.#i=qt,this.#a=st,this.#p=un,this.#f=Yt,this.#c=ot;const Jt=c.PDFDateString.toDateObject(yt);Jt&&(this.#e=qt.l10n.get("annotation_date_string",{date:Jt.toLocaleDateString(),time:Jt.toLocaleTimeString()})),this.trigger=ot.flatMap(Gt=>Gt.getElementsToTriggerPopup());for(const Gt of this.trigger)Gt.addEventListener("click",this.#o),Gt.addEventListener("mouseenter",this.#r),Gt.addEventListener("mouseleave",this.#n),Gt.classList.add("popupTriggerArea");for(const Gt of ot)Gt.container?.addEventListener("keydown",this.#t);this.#s.hidden=!0,Qt&&this.#y()}render(){if(this.#h)return;const{page:{view:x},viewport:{rawDims:{pageWidth:st,pageHeight:ot,pageX:gt,pageY:yt}}}=this.#i,xt=this.#h=document.createElement("div");if(xt.className="popup",this.#a){const Mn=xt.style.outlineColor=l.Util.makeHexColor(...this.#a);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?xt.style.backgroundColor=`color-mix(in srgb, ${Mn} 30%, white)`:xt.style.backgroundColor=l.Util.makeHexColor(...this.#a.map(ar=>Math.floor(.7*(255-ar)+ar)))}const Rt=document.createElement("span");Rt.className="header";const qt=document.createElement("h1");if(Rt.append(qt),{dir:qt.dir,str:qt.textContent}=this.#m,xt.append(Rt),this.#e){const Mn=document.createElement("span");Mn.classList.add("popupDate"),this.#e.then(Yn=>{Mn.textContent=Yn}),Rt.append(Mn)}const un=this.#l,Yt=this.#v;if(Yt?.str&&(!un?.str||un.str===Yt.str))it.XfaLayer.render({xfaHtml:Yt.html,intent:"richText",div:xt}),xt.lastChild.classList.add("richText","popupContent");else{const Mn=this._formatContents(un);xt.append(Mn)}let Qt=!!this.#f,Jt=Qt?this.#f:this.#p;for(const Mn of this.#c)if(!Jt||l.Util.intersect(Mn.data.rect,Jt)!==null){Jt=Mn.data.rect,Qt=!0;break}const Gt=l.Util.normalizeRect([Jt[0],x[3]-Jt[1]+x[1],Jt[2],x[3]-Jt[3]+x[1]]),fn=Qt?Jt[2]-Jt[0]+5:0,an=Gt[0]+fn,_n=Gt[1],{style:An}=this.#s;An.left=`${100*(an-gt)/st}%`,An.top=`${100*(_n-yt)/ot}%`,this.#s.append(xt)}_formatContents({str:x,dir:st}){const ot=document.createElement("p");ot.classList.add("popupContent"),ot.dir=st;const gt=x.split(/(?:\r\n?|\n)/);for(let yt=0,xt=gt.length;yt<xt;++yt){const Rt=gt[yt];ot.append(document.createTextNode(Rt)),yt<xt-1&&ot.append(document.createElement("br"))}return ot}#u(x){x.altKey||x.shiftKey||x.ctrlKey||x.metaKey||(x.key==="Enter"||x.key==="Escape"&&this.#d)&&this.#y()}#y(){this.#d=!this.#d,this.#d?(this.#x(),this.#s.addEventListener("click",this.#o),this.#s.addEventListener("keydown",this.#t)):(this.#w(),this.#s.removeEventListener("click",this.#o),this.#s.removeEventListener("keydown",this.#t))}#x(){this.#h||this.render(),this.isVisible?this.#d&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#w(){this.#s.classList.remove("focused"),!(this.#d||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#g=this.isVisible,this.#g&&(this.#s.hidden=!0)}maybeShow(){this.#g&&(this.#g=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class jt extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0}),this.textContent=x.data.textContent,this.textPosition=x.data.textPosition,this.annotationEditorType=l.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const x=document.createElement("div");x.classList.add("annotationTextContent"),x.setAttribute("role","comment");for(const st of this.textContent){const ot=document.createElement("span");ot.textContent=st,x.append(ot)}this.container.append(x)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}i.FreeTextAnnotationElement=jt;class _t extends d{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const x=this.data,{width:st,height:ot}=y(x.rect),gt=this.svgFactory.create(st,ot,!0),yt=this.#e=this.svgFactory.createElement("svg:line");return yt.setAttribute("x1",x.rect[2]-x.lineCoordinates[0]),yt.setAttribute("y1",x.rect[3]-x.lineCoordinates[1]),yt.setAttribute("x2",x.rect[2]-x.lineCoordinates[2]),yt.setAttribute("y2",x.rect[3]-x.lineCoordinates[3]),yt.setAttribute("stroke-width",x.borderStyle.width||1),yt.setAttribute("stroke","transparent"),yt.setAttribute("fill","transparent"),gt.append(yt),this.container.append(gt),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Vt extends d{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const x=this.data,{width:st,height:ot}=y(x.rect),gt=this.svgFactory.create(st,ot,!0),yt=x.borderStyle.width,xt=this.#e=this.svgFactory.createElement("svg:rect");return xt.setAttribute("x",yt/2),xt.setAttribute("y",yt/2),xt.setAttribute("width",st-yt),xt.setAttribute("height",ot-yt),xt.setAttribute("stroke-width",yt||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),gt.append(xt),this.container.append(gt),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Dt extends d{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const x=this.data,{width:st,height:ot}=y(x.rect),gt=this.svgFactory.create(st,ot,!0),yt=x.borderStyle.width,xt=this.#e=this.svgFactory.createElement("svg:ellipse");return xt.setAttribute("cx",st/2),xt.setAttribute("cy",ot/2),xt.setAttribute("rx",st/2-yt/2),xt.setAttribute("ry",ot/2-yt/2),xt.setAttribute("stroke-width",yt||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),gt.append(xt),this.container.append(gt),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class $t extends d{#e=null;constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const x=this.data,{width:st,height:ot}=y(x.rect),gt=this.svgFactory.create(st,ot,!0);let yt=[];for(const Rt of x.vertices){const qt=Rt.x-x.rect[0],un=x.rect[3]-Rt.y;yt.push(qt+","+un)}yt=yt.join(" ");const xt=this.#e=this.svgFactory.createElement(this.svgElementName);return xt.setAttribute("points",yt),xt.setAttribute("stroke-width",x.borderStyle.width||1),xt.setAttribute("stroke","transparent"),xt.setAttribute("fill","transparent"),gt.append(xt),this.container.append(gt),!x.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Tt extends $t{constructor(x){super(x),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ct extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class lt extends d{#e=[];constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=l.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const x=this.data,{width:st,height:ot}=y(x.rect),gt=this.svgFactory.create(st,ot,!0);for(const yt of x.inkLists){let xt=[];for(const qt of yt){const un=qt.x-x.rect[0],Yt=x.rect[3]-qt.y;xt.push(`${un},${Yt}`)}xt=xt.join(" ");const Rt=this.svgFactory.createElement(this.svgElementName);this.#e.push(Rt),Rt.setAttribute("points",xt),Rt.setAttribute("stroke-width",x.borderStyle.width||1),Rt.setAttribute("stroke","transparent"),Rt.setAttribute("fill","transparent"),!x.popupRef&&this.hasPopupData&&this._createPopup(),gt.append(Rt)}return this.container.append(gt),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}i.InkAnnotationElement=lt;class Ve extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class Y extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class ne extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ee extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class rt extends d{constructor(x){super(x,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}i.StampAnnotationElement=rt;class at extends d{#e=null;constructor(x){super(x,{isRenderable:!0});const{filename:st,content:ot}=this.data.file;this.filename=(0,c.getFilenameFromUrl)(st,!0),this.content=ot,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:st,content:ot})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:x,data:st}=this;let ot;st.hasAppearance||st.fillAlpha===0?ot=document.createElement("div"):(ot=document.createElement("img"),ot.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(st.name)?"paperclip":"pushpin"}.svg`,st.fillAlpha&&st.fillAlpha<1&&(ot.style=`filter: opacity(${Math.round(st.fillAlpha*100)}%);`)),ot.addEventListener("dblclick",this.#t.bind(this)),this.#e=ot;const{isMac:gt}=l.FeatureTest.platform;return x.addEventListener("keydown",yt=>{yt.key==="Enter"&&(gt?yt.metaKey:yt.ctrlKey)&&this.#t()}),!st.popupRef&&this.hasPopupData?this._createPopup():ot.classList.add("popupTriggerArea"),x.append(ot),x}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class vt{#e=null;#t=null;#n=new Map;constructor({div:x,accessibilityManager:st,annotationCanvasMap:ot,l10n:gt,page:yt,viewport:xt}){this.div=x,this.#e=st,this.#t=ot,this.l10n=gt,this.page=yt,this.viewport=xt,this.zIndex=0,this.l10n||=tt.NullL10n}#r(x,st){const ot=x.firstChild||x;ot.id=`${l.AnnotationPrefix}${st}`,this.div.append(x),this.#e?.moveElementInDOM(this.div,x,ot,!1)}async render(x){const{annotations:st}=x,ot=this.div;(0,c.setLayerDimensions)(ot,this.viewport);const gt=new Map,yt={data:null,layer:ot,linkService:x.linkService,downloadManager:x.downloadManager,imageResourcesPath:x.imageResourcesPath||"",renderForms:x.renderForms!==!1,svgFactory:new c.DOMSVGFactory,annotationStorage:x.annotationStorage||new a.AnnotationStorage,enableScripting:x.enableScripting===!0,hasJSActions:x.hasJSActions,fieldObjects:x.fieldObjects,parent:this,elements:null};for(const xt of st){if(xt.noHTML)continue;const Rt=xt.annotationType===l.AnnotationType.POPUP;if(Rt){const Yt=gt.get(xt.id);if(!Yt)continue;yt.elements=Yt}else{const{width:Yt,height:Qt}=y(xt.rect);if(Yt<=0||Qt<=0)continue}yt.data=xt;const qt=Z.create(yt);if(!qt.isRenderable)continue;if(!Rt&&xt.popupRef){const Yt=gt.get(xt.popupRef);Yt?Yt.push(qt):gt.set(xt.popupRef,[qt])}qt.annotationEditorType>0&&this.#n.set(qt.data.id,qt);const un=qt.render();xt.hidden&&(un.style.visibility="hidden"),this.#r(un,xt.id)}this.#o(),await this.l10n.translate(ot)}update({viewport:x}){const st=this.div;this.viewport=x,(0,c.setLayerDimensions)(st,{rotation:x.rotation}),this.#o(),st.hidden=!1}#o(){if(!this.#t)return;const x=this.div;for(const[st,ot]of this.#t){const gt=x.querySelector(`[data-annotation-id="${st}"]`);if(!gt)continue;const{firstChild:yt}=gt;yt?yt.nodeName==="CANVAS"?yt.replaceWith(ot):yt.before(ot):gt.append(ot)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(x){return this.#n.get(x)}}i.AnnotationLayer=vt},(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorConverters=void 0;function s(a){return Math.floor(Math.max(0,Math.min(1,a))*255).toString(16).padStart(2,"0")}function l(a){return Math.max(0,Math.min(255,255*a))}class c{static CMYK_G([G,tt,it,f]){return["G",1-Math.min(1,.3*G+.59*it+.11*tt+f)]}static G_CMYK([G]){return["CMYK",0,0,0,1-G]}static G_RGB([G]){return["RGB",G,G,G]}static G_rgb([G]){return G=l(G),[G,G,G]}static G_HTML([G]){const tt=s(G);return`#${tt}${tt}${tt}`}static RGB_G([G,tt,it]){return["G",.3*G+.59*tt+.11*it]}static RGB_rgb(G){return G.map(l)}static RGB_HTML(G){return`#${G.map(s).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([G,tt,it,f]){return["RGB",1-Math.min(1,G+f),1-Math.min(1,it+f),1-Math.min(1,tt+f)]}static CMYK_rgb([G,tt,it,f]){return[l(1-Math.min(1,G+f)),l(1-Math.min(1,it+f)),l(1-Math.min(1,tt+f))]}static CMYK_HTML(G){const tt=this.CMYK_RGB(G).slice(1);return this.RGB_HTML(tt)}static RGB_CMYK([G,tt,it]){const f=1-G,u=1-tt,p=1-it,y=Math.min(f,u,p);return["CMYK",f,u,p,y]}}i.ColorConverters=c},(r,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.NullL10n=void 0,i.getL10nFallback=l;const s={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} × {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} × {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing…",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};s.print_progress_percent="{{progress}}%";function l(G,tt){switch(G){case"find_match_count":G=`find_match_count[${tt.total===1?"one":"other"}]`;break;case"find_match_count_limit":G=`find_match_count_limit[${tt.limit===1?"one":"other"}]`;break}return s[G]||""}function c(G,tt){return tt?G.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(it,f)=>f in tt?tt[f]:"{{"+f+"}}"):G}const a={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(G,tt=null,it=l(G,tt)){return c(it,tt)},async translate(G){}};i.NullL10n=a},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.XfaLayer=void 0;var l=s(25);class c{static setupStorage(G,tt,it,f,u){const p=f.getValue(tt,{value:null});switch(it.name){case"textarea":if(p.value!==null&&(G.textContent=p.value),u==="print")break;G.addEventListener("input",y=>{f.setValue(tt,{value:y.target.value})});break;case"input":if(it.attributes.type==="radio"||it.attributes.type==="checkbox"){if(p.value===it.attributes.xfaOn?G.setAttribute("checked",!0):p.value===it.attributes.xfaOff&&G.removeAttribute("checked"),u==="print")break;G.addEventListener("change",y=>{f.setValue(tt,{value:y.target.checked?y.target.getAttribute("xfaOn"):y.target.getAttribute("xfaOff")})})}else{if(p.value!==null&&G.setAttribute("value",p.value),u==="print")break;G.addEventListener("input",y=>{f.setValue(tt,{value:y.target.value})})}break;case"select":if(p.value!==null){G.setAttribute("value",p.value);for(const y of it.children)y.attributes.value===p.value?y.attributes.selected=!0:y.attributes.hasOwnProperty("selected")&&delete y.attributes.selected}G.addEventListener("input",y=>{const Z=y.target.options,d=Z.selectedIndex===-1?"":Z[Z.selectedIndex].value;f.setValue(tt,{value:d})});break}}static setAttributes({html:G,element:tt,storage:it=null,intent:f,linkService:u}){const{attributes:p}=tt,y=G instanceof HTMLAnchorElement;p.type==="radio"&&(p.name=`${p.name}-${f}`);for(const[Z,d]of Object.entries(p))if(d!=null)switch(Z){case"class":d.length&&G.setAttribute(Z,d.join(" "));break;case"dataId":break;case"id":G.setAttribute("data-element-id",d);break;case"style":Object.assign(G.style,d);break;case"textContent":G.textContent=d;break;default:(!y||Z!=="href"&&Z!=="newWindow")&&G.setAttribute(Z,d)}y&&u.addLinkAttributes(G,p.href,p.newWindow),it&&p.dataId&&this.setupStorage(G,p.dataId,tt,it)}static render(G){const tt=G.annotationStorage,it=G.linkService,f=G.xfaHtml,u=G.intent||"display",p=document.createElement(f.name);f.attributes&&this.setAttributes({html:p,element:f,intent:u,linkService:it});const y=[[f,-1,p]],Z=G.div;if(Z.append(p),G.viewport){const me=`matrix(${G.viewport.transform.join(",")})`;Z.style.transform=me}u!=="richText"&&Z.setAttribute("class","xfaLayer xfaFont");const d=[];for(;y.length>0;){const[me,et,E]=y.at(-1);if(et+1===me.children.length){y.pop();continue}const ct=me.children[++y.at(-1)[1]];if(ct===null)continue;const{name:mt}=ct;if(mt==="#text"){const nt=document.createTextNode(ct.value);d.push(nt),E.append(nt);continue}const pt=ct?.attributes?.xmlns?document.createElementNS(ct.attributes.xmlns,mt):document.createElement(mt);if(E.append(pt),ct.attributes&&this.setAttributes({html:pt,element:ct,storage:tt,intent:u,linkService:it}),ct.children&&ct.children.length>0)y.push([ct,-1,pt]);else if(ct.value){const nt=document.createTextNode(ct.value);l.XfaText.shouldBuildText(mt)&&d.push(nt),pt.append(nt)}}for(const me of Z.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))me.setAttribute("readOnly",!0);return{textDivs:d}}static update(G){const tt=`matrix(${G.viewport.transform.join(",")})`;G.div.style.transform=tt,G.div.hidden=!1}}i.XfaLayer=c},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InkEditor=void 0;var l=s(1),c=s(4),a=s(29),G=s(6),tt=s(5);class it extends c.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#o=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#s=new Path2D;#l=!1;#c=!1;#i=!1;#f=null;#d=0;#h=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";constructor(u){super({...u,name:"inkEditor"}),this.color=u.color||null,this.thickness=u.thickness||null,this.opacity=u.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(u){c.AnnotationEditor.initialize(u,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(u,p){switch(u){case l.AnnotationEditorParamsType.INK_THICKNESS:it._defaultThickness=p;break;case l.AnnotationEditorParamsType.INK_COLOR:it._defaultColor=p;break;case l.AnnotationEditorParamsType.INK_OPACITY:it._defaultOpacity=p/100;break}}updateParams(u,p){switch(u){case l.AnnotationEditorParamsType.INK_THICKNESS:this.#v(p);break;case l.AnnotationEditorParamsType.INK_COLOR:this.#m(p);break;case l.AnnotationEditorParamsType.INK_OPACITY:this.#g(p);break}}static get defaultPropertiesToUpdate(){return[[l.AnnotationEditorParamsType.INK_THICKNESS,it._defaultThickness],[l.AnnotationEditorParamsType.INK_COLOR,it._defaultColor||c.AnnotationEditor._defaultLineColor],[l.AnnotationEditorParamsType.INK_OPACITY,Math.round(it._defaultOpacity*100)]]}get propertiesToUpdate(){return[[l.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||it._defaultThickness],[l.AnnotationEditorParamsType.INK_COLOR,this.color||it._defaultColor||c.AnnotationEditor._defaultLineColor],[l.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??it._defaultOpacity))]]}#v(u){const p=this.thickness;this.addCommands({cmd:()=>{this.thickness=u,this.#A()},undo:()=>{this.thickness=p,this.#A()},mustExec:!0,type:l.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(u){const p=this.color;this.addCommands({cmd:()=>{this.color=u,this.#_()},undo:()=>{this.color=p,this.#_()},mustExec:!0,type:l.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#g(u){u/=100;const p=this.opacity;this.addCommands({cmd:()=>{this.opacity=u,this.#_()},undo:()=>{this.opacity=p,this.#_()},mustExec:!0,type:l.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#P(),this.#R()),this.isAttachedToDOM||(this.parent.add(this),this.#E()),this.#A()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#f.disconnect(),this.#f=null,super.remove())}setParent(u){!this.parent&&u?this._uiManager.removeShouldRescale(this):this.parent&&u===null&&this._uiManager.addShouldRescale(this),super.setParent(u)}onScaleChanging(){const[u,p]=this.parentDimensions,y=this.width*u,Z=this.height*p;this.setDimensions(y,Z)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#u(){const{parentRotation:u,parentDimensions:[p,y]}=this;switch(u){case 90:return[0,y,y,p];case 180:return[p,y,p,y];case 270:return[p,0,y,p];default:return[0,0,p,y]}}#y(){const{ctx:u,color:p,opacity:y,thickness:Z,parentScale:d,scaleFactor:me}=this;u.lineWidth=Z*d/me,u.lineCap="round",u.lineJoin="round",u.miterLimit=10,u.strokeStyle=`${p}${(0,tt.opacityToHex)(y)}`}#x(u,p){this.canvas.addEventListener("contextmenu",G.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#o),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#i||(this.#i=!0,this.#E(),this.thickness||=it._defaultThickness,this.color||=it._defaultColor||c.AnnotationEditor._defaultLineColor,this.opacity??=it._defaultOpacity),this.currentPath.push([u,p]),this.#c=!1,this.#y(),this.#p=()=>{this.#I(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#w(u,p){const[y,Z]=this.currentPath.at(-1);if(this.currentPath.length>1&&u===y&&p===Z)return;const d=this.currentPath;let me=this.#s;if(d.push([u,p]),this.#c=!0,d.length<=2){me.moveTo(...d[0]),me.lineTo(u,p);return}d.length===3&&(this.#s=me=new Path2D,me.moveTo(...d[0])),this.#D(me,...d.at(-3),...d.at(-2),u,p)}#k(){if(this.currentPath.length===0)return;const u=this.currentPath.at(-1);this.#s.lineTo(...u)}#T(u,p){this.#p=null,u=Math.min(Math.max(u,0),this.canvas.width),p=Math.min(Math.max(p,0),this.canvas.height),this.#w(u,p),this.#k();let y;if(this.currentPath.length!==1)y=this.#O();else{const E=[u,p];y=[[E,E.slice(),E.slice(),E]]}const Z=this.#s,d=this.currentPath;this.currentPath=[],this.#s=new Path2D;const me=()=>{this.allRawPaths.push(d),this.paths.push(y),this.bezierPath2D.push(Z),this.rebuild()},et=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#P(),this.#R()),this.#A())};this.addCommands({cmd:me,undo:et,mustExec:!0})}#I(){if(!this.#c)return;this.#c=!1;const u=Math.ceil(this.thickness*this.parentScale),p=this.currentPath.slice(-3),y=p.map(me=>me[0]),Z=p.map(me=>me[1]);Math.min(...y)-u,Math.max(...y)+u,Math.min(...Z)-u,Math.max(...Z)+u;const{ctx:d}=this;d.save(),d.clearRect(0,0,this.canvas.width,this.canvas.height);for(const me of this.bezierPath2D)d.stroke(me);d.stroke(this.#s),d.restore()}#D(u,p,y,Z,d,me,et){const E=(p+Z)/2,ct=(y+d)/2,mt=(Z+me)/2,pt=(d+et)/2;u.bezierCurveTo(E+2*(Z-E)/3,ct+2*(d-ct)/3,mt+2*(Z-mt)/3,pt+2*(d-pt)/3,mt,pt)}#O(){const u=this.currentPath;if(u.length<=2)return[[u[0],u[0],u.at(-1),u.at(-1)]];const p=[];let y,[Z,d]=u[0];for(y=1;y<u.length-2;y++){const[nt,ft]=u[y],[wt,Pt]=u[y+1],St=(nt+wt)/2,jt=(ft+Pt)/2,_t=[Z+2*(nt-Z)/3,d+2*(ft-d)/3],Vt=[St+2*(nt-St)/3,jt+2*(ft-jt)/3];p.push([[Z,d],_t,Vt,[St,jt]]),[Z,d]=[St,jt]}const[me,et]=u[y],[E,ct]=u[y+1],mt=[Z+2*(me-Z)/3,d+2*(et-d)/3],pt=[E+2*(me-E)/3,ct+2*(et-ct)/3];return p.push([[Z,d],mt,pt,[E,ct]]),p}#_(){if(this.isEmpty()){this.#b();return}this.#y();const{canvas:u,ctx:p}=this;p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,u.width,u.height),this.#b();for(const y of this.bezierPath2D)p.stroke(y)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#A(!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(u){this._focusEventsAllowed&&(super.focusin(u),this.enableEditMode())}canvasPointerdown(u){u.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),u.preventDefault(),u.type!=="mouse"&&this.div.focus(),this.#x(u.offsetX,u.offsetY))}canvasPointermove(u){u.preventDefault(),this.#w(u.offsetX,u.offsetY)}canvasPointerup(u){u.preventDefault(),this.#F(u)}canvasPointerleave(u){this.#F(u)}#F(u){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#o),this.canvas.addEventListener("pointerdown",this.#a),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",G.noContextMenu)},10),this.#T(u.offsetX,u.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#P(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",c.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(u=>this.canvas?.setAttribute("aria-label",u)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#R(){this.#f=new ResizeObserver(u=>{const p=u[0].contentRect;p.width&&p.height&&this.setDimensions(p.width,p.height)}),this.#f.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let u,p;this.width&&(u=this.x,p=this.y),super.render(),c.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(et=>this.div?.setAttribute("aria-label",et));const[y,Z,d,me]=this.#u();if(this.setAt(y,Z,0,0),this.setDims(d,me),this.#P(),this.width){const[et,E]=this.parentDimensions;this.setAspectRatio(this.width*et,this.height*E),this.setAt(u*et,p*E,this.width*et,this.height*E),this.#i=!0,this.#E(),this.setDims(this.width*et,this.height*E),this.#_(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#R(),this.div}#E(){if(!this.#i)return;const[u,p]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*u),this.canvas.height=Math.ceil(this.height*p),this.#b()}setDimensions(u,p){const y=Math.round(u),Z=Math.round(p);if(this.#d===y&&this.#h===Z)return;this.#d=y,this.#h=Z,this.canvas.style.visibility="hidden";const[d,me]=this.parentDimensions;this.width=u/d,this.height=p/me,this.fixAndSetPosition(),this.#l&&this.#C(u,p),this.#E(),this.#_(),this.canvas.style.visibility="visible",this.fixDims()}#C(u,p){const y=this.#L(),Z=(u-y)/this.#t,d=(p-y)/this.#e;this.scaleFactor=Math.min(Z,d)}#b(){const u=this.#L()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+u,this.translationY*this.scaleFactor+u)}static#N(u){const p=new Path2D;for(let y=0,Z=u.length;y<Z;y++){const[d,me,et,E]=u[y];y===0&&p.moveTo(...d),p.bezierCurveTo(me[0],me[1],et[0],et[1],E[0],E[1])}return p}static#j(u,p,y){const[Z,d,me,et]=p;switch(y){case 0:for(let E=0,ct=u.length;E<ct;E+=2)u[E]+=Z,u[E+1]=et-u[E+1];break;case 90:for(let E=0,ct=u.length;E<ct;E+=2){const mt=u[E];u[E]=u[E+1]+Z,u[E+1]=mt+d}break;case 180:for(let E=0,ct=u.length;E<ct;E+=2)u[E]=me-u[E],u[E+1]+=d;break;case 270:for(let E=0,ct=u.length;E<ct;E+=2){const mt=u[E];u[E]=me-u[E+1],u[E+1]=et-mt}break;default:throw new Error("Invalid rotation")}return u}static#z(u,p,y){const[Z,d,me,et]=p;switch(y){case 0:for(let E=0,ct=u.length;E<ct;E+=2)u[E]-=Z,u[E+1]=et-u[E+1];break;case 90:for(let E=0,ct=u.length;E<ct;E+=2){const mt=u[E];u[E]=u[E+1]-d,u[E+1]=mt-Z}break;case 180:for(let E=0,ct=u.length;E<ct;E+=2)u[E]=me-u[E],u[E+1]-=d;break;case 270:for(let E=0,ct=u.length;E<ct;E+=2){const mt=u[E];u[E]=et-u[E+1],u[E+1]=me-mt}break;default:throw new Error("Invalid rotation")}return u}#B(u,p,y,Z){const d=[],me=this.thickness/2,et=u*p+me,E=u*y+me;for(const ct of this.paths){const mt=[],pt=[];for(let nt=0,ft=ct.length;nt<ft;nt++){const[wt,Pt,St,jt]=ct[nt],_t=u*wt[0]+et,Vt=u*wt[1]+E,Dt=u*Pt[0]+et,$t=u*Pt[1]+E,Tt=u*St[0]+et,Ct=u*St[1]+E,lt=u*jt[0]+et,Ve=u*jt[1]+E;nt===0&&(mt.push(_t,Vt),pt.push(_t,Vt)),mt.push(Dt,$t,Tt,Ct,lt,Ve),pt.push(Dt,$t),nt===ft-1&&pt.push(lt,Ve)}d.push({bezier:it.#j(mt,Z,this.rotation),points:it.#j(pt,Z,this.rotation)})}return d}#M(){let u=1/0,p=-1/0,y=1/0,Z=-1/0;for(const d of this.paths)for(const[me,et,E,ct]of d){const mt=l.Util.bezierBoundingBox(...me,...et,...E,...ct);u=Math.min(u,mt[0]),y=Math.min(y,mt[1]),p=Math.max(p,mt[2]),Z=Math.max(Z,mt[3])}return[u,y,p,Z]}#L(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#A(u=!1){if(this.isEmpty())return;if(!this.#l){this.#_();return}const p=this.#M(),y=this.#L();this.#t=Math.max(c.AnnotationEditor.MIN_SIZE,p[2]-p[0]),this.#e=Math.max(c.AnnotationEditor.MIN_SIZE,p[3]-p[1]);const Z=Math.ceil(y+this.#t*this.scaleFactor),d=Math.ceil(y+this.#e*this.scaleFactor),[me,et]=this.parentDimensions;this.width=Z/me,this.height=d/et,this.setAspectRatio(Z,d);const E=this.translationX,ct=this.translationY;this.translationX=-p[0],this.translationY=-p[1],this.#E(),this.#_(),this.#d=Z,this.#h=d,this.setDims(Z,d);const mt=u?y/this.scaleFactor/2:0;this.translate(E-this.translationX-mt,ct-this.translationY-mt)}static deserialize(u,p,y){if(u instanceof a.InkAnnotationElement)return null;const Z=super.deserialize(u,p,y);Z.thickness=u.thickness,Z.color=l.Util.makeHexColor(...u.color),Z.opacity=u.opacity;const[d,me]=Z.pageDimensions,et=Z.width*d,E=Z.height*me,ct=Z.parentScale,mt=u.thickness/2;Z.#l=!0,Z.#d=Math.round(et),Z.#h=Math.round(E);const{paths:pt,rect:nt,rotation:ft}=u;for(let{bezier:Pt}of pt){Pt=it.#z(Pt,nt,ft);const St=[];Z.paths.push(St);let jt=ct*(Pt[0]-mt),_t=ct*(Pt[1]-mt);for(let Dt=2,$t=Pt.length;Dt<$t;Dt+=6){const Tt=ct*(Pt[Dt]-mt),Ct=ct*(Pt[Dt+1]-mt),lt=ct*(Pt[Dt+2]-mt),Ve=ct*(Pt[Dt+3]-mt),Y=ct*(Pt[Dt+4]-mt),ne=ct*(Pt[Dt+5]-mt);St.push([[jt,_t],[Tt,Ct],[lt,Ve],[Y,ne]]),jt=Y,_t=ne}const Vt=this.#N(St);Z.bezierPath2D.push(Vt)}const wt=Z.#M();return Z.#t=Math.max(c.AnnotationEditor.MIN_SIZE,wt[2]-wt[0]),Z.#e=Math.max(c.AnnotationEditor.MIN_SIZE,wt[3]-wt[1]),Z.#C(et,E),Z}serialize(){if(this.isEmpty())return null;const u=this.getRect(0,0),p=c.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:l.AnnotationEditorType.INK,color:p,thickness:this.thickness,opacity:this.opacity,paths:this.#B(this.scaleFactor/this.parentScale,this.translationX,this.translationY,u),pageIndex:this.pageIndex,rect:u,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}i.InkEditor=it},(r,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.StampEditor=void 0;var l=s(1),c=s(4),a=s(6),G=s(29);class tt extends c.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#o=null;#a=null;#s=null;#l=null;#c=!1;#i=!1;static _type="stamp";constructor(f){super({...f,name:"stampEditor"}),this.#r=f.bitmapUrl,this.#o=f.bitmapFile}static initialize(f){c.AnnotationEditor.initialize(f)}static get supportedTypes(){const f=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,l.shadow)(this,"supportedTypes",f.map(u=>`image/${u}`))}static get supportedTypesStr(){return(0,l.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(f){return this.supportedTypes.includes(f)}static paste(f,u){u.pasteEditor(l.AnnotationEditorType.STAMP,{bitmapFile:f.getAsFile()})}#f(f,u=!1){if(!f){this.remove();return}this.#e=f.bitmap,u||(this.#t=f.id,this.#c=f.isSvg),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#a&&this.div.focus()}#h(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(u=>this.#f(u,!0)).finally(()=>this.#d());return}if(this.#r){const u=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(u).then(p=>this.#f(p)).finally(()=>this.#d());return}if(this.#o){const u=this.#o;this.#o=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(u).then(p=>this.#f(p)).finally(()=>this.#d());return}const f=document.createElement("input");f.type="file",f.accept=tt.supportedTypesStr,this.#n=new Promise(u=>{f.addEventListener("change",async()=>{if(!f.files||f.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const p=await this._uiManager.imageManager.getFromFile(f.files[0]);this.#f(p)}u()}),f.addEventListener("cancel",()=>{this.remove(),u()})}).finally(()=>this.#d()),f.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#s?.disconnect(),this.#s=null),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#h();return}super.rebuild(),this.div!==null&&(this.#t&&this.#h(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#o)}get isResizable(){return!0}render(){if(this.div)return this.div;let f,u;if(this.width&&(f=this.x,u=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#h(),this.width){const[p,y]=this.parentDimensions;this.setAt(f*p,u*y,this.width*p,this.height*y)}return this.div}#p(){const{div:f}=this;let{width:u,height:p}=this.#e;const[y,Z]=this.pageDimensions,d=.75;if(this.width)u=this.width*y,p=this.height*Z;else if(u>d*y||p>d*Z){const ct=Math.min(d*y/u,d*Z/p);u*=ct,p*=ct}const[me,et]=this.parentDimensions;this.setDims(u*me/y,p*et/Z),this._uiManager.enableWaiting(!1);const E=this.#a=document.createElement("canvas");f.append(E),f.hidden=!1,this.#g(u,p),this.#y(),this.#i||(this.parent.addUndoableEditor(this),this.#i=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()}#v(f,u){const[p,y]=this.parentDimensions;this.width=f/p,this.height=u/y,this.setDims(f,u),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const Z=200;this.#l=setTimeout(()=>{this.#l=null,this.#g(f,u)},Z)}#m(f,u){const{width:p,height:y}=this.#e;let Z=p,d=y,me=this.#e;for(;Z>2*f||d>2*u;){const et=Z,E=d;Z>2*f&&(Z=Z>=16384?Math.floor(Z/2)-1:Math.ceil(Z/2)),d>2*u&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const ct=new OffscreenCanvas(Z,d);ct.getContext("2d").drawImage(me,0,0,et,E,0,0,Z,d),me=ct.transferToImageBitmap()}return me}#g(f,u){f=Math.ceil(f),u=Math.ceil(u);const p=this.#a;if(!p||p.width===f&&p.height===u)return;p.width=f,p.height=u;const y=this.#c?this.#e:this.#m(f,u),Z=p.getContext("2d");Z.filter=this._uiManager.hcmFilter,Z.drawImage(y,0,0,y.width,y.height,0,0,f,u)}#u(f){if(f){if(this.#c){const y=this._uiManager.imageManager.getSvgUrl(this.#t);if(y)return y}const u=document.createElement("canvas");return{width:u.width,height:u.height}=this.#e,u.getContext("2d").drawImage(this.#e,0,0),u.toDataURL()}if(this.#c){const[u,p]=this.pageDimensions,y=Math.round(this.width*u*a.PixelsPerInch.PDF_TO_CSS_UNITS),Z=Math.round(this.height*p*a.PixelsPerInch.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(y,Z);return d.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,y,Z),d.transferToImageBitmap()}return structuredClone(this.#e)}#y(){this.#s=new ResizeObserver(f=>{const u=f[0].contentRect;u.width&&u.height&&this.#v(u.width,u.height)}),this.#s.observe(this.div)}static deserialize(f,u,p){if(f instanceof G.StampAnnotationElement)return null;const y=super.deserialize(f,u,p),{rect:Z,bitmapUrl:d,bitmapId:me,isSvg:et,accessibilityData:E}=f;me&&p.imageManager.isValidId(me)?y.#t=me:y.#r=d,y.#c=et;const[ct,mt]=y.pageDimensions;return y.width=(Z[2]-Z[0])/ct,y.height=(Z[3]-Z[1])/mt,E&&(y.altTextData=E),y}serialize(f=!1,u=null){if(this.isEmpty())return null;const p={annotationType:l.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(f)return p.bitmapUrl=this.#u(!0),p.accessibilityData=this.altTextData,p;const{decorative:y,altText:Z}=this.altTextData;if(!y&&Z&&(p.accessibilityData={type:"Figure",alt:Z}),u===null)return p;u.stamps||=new Map;const d=this.#c?(p.rect[2]-p.rect[0])*(p.rect[3]-p.rect[1]):null;if(!u.stamps.has(this.#t))u.stamps.set(this.#t,{area:d,serialized:p}),p.bitmap=this.#u(!1);else if(this.#c){const me=u.stamps.get(this.#t);d>me.area&&(me.area=d,me.serialized.bitmap.close(),me.serialized.bitmap=this.#u(!1))}return p}}i.StampEditor=tt}],__webpack_module_cache__={};function __w_pdfjs_require__(r){var i=__webpack_module_cache__[r];if(i!==void 0)return i.exports;var s=__webpack_module_cache__[r]={exports:{}};return __webpack_modules__[r](s,s.exports,__w_pdfjs_require__),s.exports}var __webpack_exports__={};return(()=>{var r=__webpack_exports__;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AbortException",{enumerable:!0,get:function(){return i.AbortException}}),Object.defineProperty(r,"AnnotationEditorLayer",{enumerable:!0,get:function(){return a.AnnotationEditorLayer}}),Object.defineProperty(r,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return i.AnnotationEditorParamsType}}),Object.defineProperty(r,"AnnotationEditorType",{enumerable:!0,get:function(){return i.AnnotationEditorType}}),Object.defineProperty(r,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return G.AnnotationEditorUIManager}}),Object.defineProperty(r,"AnnotationLayer",{enumerable:!0,get:function(){return tt.AnnotationLayer}}),Object.defineProperty(r,"AnnotationMode",{enumerable:!0,get:function(){return i.AnnotationMode}}),Object.defineProperty(r,"CMapCompressionType",{enumerable:!0,get:function(){return i.CMapCompressionType}}),Object.defineProperty(r,"DOMSVGFactory",{enumerable:!0,get:function(){return l.DOMSVGFactory}}),Object.defineProperty(r,"FeatureTest",{enumerable:!0,get:function(){return i.FeatureTest}}),Object.defineProperty(r,"GlobalWorkerOptions",{enumerable:!0,get:function(){return it.GlobalWorkerOptions}}),Object.defineProperty(r,"ImageKind",{enumerable:!0,get:function(){return i.ImageKind}}),Object.defineProperty(r,"InvalidPDFException",{enumerable:!0,get:function(){return i.InvalidPDFException}}),Object.defineProperty(r,"MissingPDFException",{enumerable:!0,get:function(){return i.MissingPDFException}}),Object.defineProperty(r,"OPS",{enumerable:!0,get:function(){return i.OPS}}),Object.defineProperty(r,"PDFDataRangeTransport",{enumerable:!0,get:function(){return s.PDFDataRangeTransport}}),Object.defineProperty(r,"PDFDateString",{enumerable:!0,get:function(){return l.PDFDateString}}),Object.defineProperty(r,"PDFWorker",{enumerable:!0,get:function(){return s.PDFWorker}}),Object.defineProperty(r,"PasswordResponses",{enumerable:!0,get:function(){return i.PasswordResponses}}),Object.defineProperty(r,"PermissionFlag",{enumerable:!0,get:function(){return i.PermissionFlag}}),Object.defineProperty(r,"PixelsPerInch",{enumerable:!0,get:function(){return l.PixelsPerInch}}),Object.defineProperty(r,"PromiseCapability",{enumerable:!0,get:function(){return i.PromiseCapability}}),Object.defineProperty(r,"RenderingCancelledException",{enumerable:!0,get:function(){return l.RenderingCancelledException}}),Object.defineProperty(r,"SVGGraphics",{enumerable:!0,get:function(){return s.SVGGraphics}}),Object.defineProperty(r,"UnexpectedResponseException",{enumerable:!0,get:function(){return i.UnexpectedResponseException}}),Object.defineProperty(r,"Util",{enumerable:!0,get:function(){return i.Util}}),Object.defineProperty(r,"VerbosityLevel",{enumerable:!0,get:function(){return i.VerbosityLevel}}),Object.defineProperty(r,"XfaLayer",{enumerable:!0,get:function(){return f.XfaLayer}}),Object.defineProperty(r,"build",{enumerable:!0,get:function(){return s.build}}),Object.defineProperty(r,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return i.createValidAbsoluteUrl}}),Object.defineProperty(r,"getDocument",{enumerable:!0,get:function(){return s.getDocument}}),Object.defineProperty(r,"getFilenameFromUrl",{enumerable:!0,get:function(){return l.getFilenameFromUrl}}),Object.defineProperty(r,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return l.getPdfFilenameFromUrl}}),Object.defineProperty(r,"getXfaPageViewport",{enumerable:!0,get:function(){return l.getXfaPageViewport}}),Object.defineProperty(r,"isDataScheme",{enumerable:!0,get:function(){return l.isDataScheme}}),Object.defineProperty(r,"isPdfFile",{enumerable:!0,get:function(){return l.isPdfFile}}),Object.defineProperty(r,"loadScript",{enumerable:!0,get:function(){return l.loadScript}}),Object.defineProperty(r,"noContextMenu",{enumerable:!0,get:function(){return l.noContextMenu}}),Object.defineProperty(r,"normalizeUnicode",{enumerable:!0,get:function(){return i.normalizeUnicode}}),Object.defineProperty(r,"renderTextLayer",{enumerable:!0,get:function(){return c.renderTextLayer}}),Object.defineProperty(r,"setLayerDimensions",{enumerable:!0,get:function(){return l.setLayerDimensions}}),Object.defineProperty(r,"shadow",{enumerable:!0,get:function(){return i.shadow}}),Object.defineProperty(r,"updateTextLayer",{enumerable:!0,get:function(){return c.updateTextLayer}}),Object.defineProperty(r,"version",{enumerable:!0,get:function(){return s.version}});var i=__w_pdfjs_require__(1),s=__w_pdfjs_require__(2),l=__w_pdfjs_require__(6),c=__w_pdfjs_require__(26),a=__w_pdfjs_require__(27),G=__w_pdfjs_require__(5),tt=__w_pdfjs_require__(29),it=__w_pdfjs_require__(14),f=__w_pdfjs_require__(32)})(),__webpack_exports__})())}(pdf)),pdf.exports}var hasRequiredCore_min;function requireCore_min(){return hasRequiredCore_min||(hasRequiredCore_min=1,function(r){var i=requireReact(),s=requirePdf();function l(Ye){var dt=Object.create(null);return Ye&&Object.keys(Ye).forEach(function(Et){if(Et!=="default"){var bt=Object.getOwnPropertyDescriptor(Ye,Et);Object.defineProperty(dt,Et,bt.get?bt:{enumerable:!0,get:function(){return Ye[Et]}})}}),dt.default=Ye,Object.freeze(dt)}var c,a=l(i),G=l(s);r.AnnotationType=void 0,(c=r.AnnotationType||(r.AnnotationType={}))[c.Text=1]="Text",c[c.Link=2]="Link",c[c.FreeText=3]="FreeText",c[c.Line=4]="Line",c[c.Square=5]="Square",c[c.Circle=6]="Circle",c[c.Polygon=7]="Polygon",c[c.Polyline=8]="Polyline",c[c.Highlight=9]="Highlight",c[c.Underline=10]="Underline",c[c.Squiggly=11]="Squiggly",c[c.StrikeOut=12]="StrikeOut",c[c.Stamp=13]="Stamp",c[c.Caret=14]="Caret",c[c.Ink=15]="Ink",c[c.Popup=16]="Popup",c[c.FileAttachment=17]="FileAttachment";var tt=function(Ye,dt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Et,bt){Et.__proto__=bt}||function(Et,bt){for(var Mt in bt)Object.prototype.hasOwnProperty.call(bt,Mt)&&(Et[Mt]=bt[Mt])},tt(Ye,dt)};function it(Ye,dt){if(typeof dt!="function"&&dt!==null)throw new TypeError("Class extends value "+String(dt)+" is not a constructor or null");function Et(){this.constructor=Ye}tt(Ye,dt),Ye.prototype=dt===null?Object.create(dt):(Et.prototype=dt.prototype,new Et)}var f,u=function(){return u=Object.assign||function(Ye){for(var dt,Et=1,bt=arguments.length;Et<bt;Et++)for(var Mt in dt=arguments[Et])Object.prototype.hasOwnProperty.call(dt,Mt)&&(Ye[Mt]=dt[Mt]);return Ye},u.apply(this,arguments)};r.TextDirection=void 0,(f=r.TextDirection||(r.TextDirection={})).RightToLeft="RTL",f.LeftToRight="LTR";var p,y=a.createContext({currentTheme:"light",direction:r.TextDirection.LeftToRight,setCurrentTheme:function(){}}),Z=function(Ye){var dt=[];return Object.keys(Ye).forEach(function(Et){Et&&Ye[Et]&&dt.push(Et)}),dt.join(" ")},d=typeof window<"u"?a.useLayoutEffect:a.useEffect,me=function(Ye){var dt=a.useRef(null),Et=Ye.once,bt=Ye.threshold,Mt=Ye.onVisibilityChanged;return d(function(){var Lt=dt.current;if(Lt){var Bt=new IntersectionObserver(function(It){It.forEach(function(At){var zt=At.isIntersecting,Nt=At.intersectionRatio;Mt({isVisible:zt,ratio:Nt}),zt&&Et&&(Bt.unobserve(Lt),Bt.disconnect())})},{threshold:bt||0});return Bt.observe(Lt),function(){Bt.unobserve(Lt),Bt.disconnect()}}},[]),dt},et=function(Ye){var dt=Ye.children,Et=Ye.ignoreDirection,bt=Et!==void 0&&Et,Mt=Ye.size,Lt=Mt===void 0?24:Mt,Bt=a.useContext(y).direction,It=!bt&&Bt===r.TextDirection.RightToLeft,At="".concat(Lt||24,"px");return a.createElement("svg",{"aria-hidden":"true",className:Z({"rpv-core__icon":!0,"rpv-core__icon--rtl":It}),focusable:"false",height:At,viewBox:"0 0 24 24",width:At},dt)},E=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},ct=function(Ye){var dt=Ye.children,Et=Ye.testId,bt=Ye.onClick,Mt=a.useContext(y).direction===r.TextDirection.RightToLeft,Lt=Et?{"data-testid":Et}:{};return a.createElement("button",u({className:Z({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Mt}),type:"button",onClick:bt},Lt),dt)},mt=function(Ye){var dt=Ye.size,Et=dt===void 0?"4rem":dt,bt=Ye.testId,Mt=a.useState(!1),Lt=Mt[0],Bt=Mt[1],It=bt?{"data-testid":bt}:{},At=me({onVisibilityChanged:function(zt){Bt(zt.isVisible)}});return a.createElement("div",u({},It,{className:Z({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Lt}),ref:At,style:{height:Et,width:Et}}))},pt=function(Ye){var dt=Ye.ariaLabel,Et=dt===void 0?"":dt,bt=Ye.autoFocus,Mt=bt!==void 0&&bt,Lt=Ye.placeholder,Bt=Lt===void 0?"":Lt,It=Ye.testId,At=Ye.type,zt=At===void 0?"text":At,Nt=Ye.value,rn=Nt===void 0?"":Nt,tn=Ye.onChange,en=Ye.onKeyDown,pn=en===void 0?function(){}:en,ln=a.useContext(y).direction,cn=a.useRef(),Vn=ln===r.TextDirection.RightToLeft,Fn={ref:cn,"data-testid":"","aria-label":Et,className:Z({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Vn}),placeholder:Bt,value:rn,onChange:function(Pn){return tn(Pn.target.value)},onKeyDown:pn};return It&&(Fn["data-testid"]=It),d(function(){if(Mt){var Pn=cn.current;if(Pn){var jn=window.scrollX,Sn=window.scrollY;Pn.focus(),window.scrollTo(jn,Sn)}}},[]),zt==="text"?a.createElement("input",u({type:"text"},Fn)):a.createElement("input",u({type:"password"},Fn))};(function(Ye){Ye[Ye.ExitFullScreen=0]="ExitFullScreen",Ye[Ye.FullScreenChange=1]="FullScreenChange",Ye[Ye.FullScreenElement=2]="FullScreenElement",Ye[Ye.FullScreenEnabled=3]="FullScreenEnabled",Ye[Ye.RequestFullScreen=4]="RequestFullScreen"})(p||(p={}));var nt,ft={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},wt={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},Pt={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},St=typeof window<"u",jt=St&&(p.FullScreenEnabled in document&&ft||wt.FullScreenEnabled in document&&wt||Pt.FullScreenEnabled in document&&Pt)||ft,_t=function(){return St&&jt.FullScreenEnabled in document&&document[jt.FullScreenEnabled]===!0},Vt=function(Ye){return St?Ye[jt.ExitFullScreen]():Promise.resolve({})},Dt=function(){return St?document[jt.FullScreenElement]:null},$t=function(Ye,dt){var Et=a.useRef(),bt=function(){Et.current&&clearTimeout(Et.current)};return a.useEffect(function(){return function(){return bt()}},[]),a.useCallback(function(){for(var Mt=[],Lt=0;Lt<arguments.length;Lt++)Mt[Lt]=arguments[Lt];bt(),Et.current=setTimeout(function(){Ye.apply(void 0,Mt)},dt)},[Ye,dt])},Tt=function(){var Ye=a.useRef(!1);return a.useEffect(function(){return Ye.current=!0,function(){Ye.current=!1}},[]),Ye},Ct=function(Ye){var dt=a.useRef(Ye);return a.useEffect(function(){dt.current=Ye},[Ye]),dt.current};(function(Ye){Ye.NotRenderedYet="NotRenderedYet",Ye.Rendering="Rendering",Ye.Rendered="Rendered"})(nt||(nt={}));var lt,Ve=-9999,Y=function(Ye){var dt=Ye.doc,Et=dt.numPages,bt=dt.loadingTask.docId,Mt=a.useMemo(function(){return Array(Et).fill(null).map(function(It,At){return{pageIndex:At,renderStatus:nt.NotRenderedYet,visibility:Ve}})},[bt]),Lt=a.useRef({currentRenderingPage:-1,startRange:0,endRange:Et-1,visibilities:Mt}),Bt=function(It,At){Lt.current.visibilities[It].visibility=At};return{getHighestPriorityPage:function(){var It=Lt.current.visibilities.slice(Lt.current.startRange,Lt.current.endRange+1).filter(function(tn){return tn.visibility>Ve});if(!It.length)return-1;for(var At=It[0].pageIndex,zt=It[It.length-1].pageIndex,Nt=It.length,rn=0;rn<Nt;rn++){if(It[rn].renderStatus===nt.Rendering)return-1;if(It[rn].renderStatus===nt.NotRenderedYet)return It[rn].pageIndex}return zt+1<Et&&Lt.current.visibilities[zt+1].renderStatus!==nt.Rendered?zt+1:At-1>=0&&Lt.current.visibilities[At-1].renderStatus!==nt.Rendered?At-1:-1},isInRange:function(It){return It>=Lt.current.startRange&&It<=Lt.current.endRange},markNotRendered:function(){for(var It=0;It<Et;It++)Lt.current.visibilities[It].renderStatus=nt.NotRenderedYet},markRendered:function(It){Lt.current.visibilities[It].renderStatus=nt.Rendered},markRendering:function(It){Lt.current.currentRenderingPage!==-1&&Lt.current.currentRenderingPage!==It&&Lt.current.visibilities[Lt.current.currentRenderingPage].renderStatus===nt.Rendering&&(Lt.current.visibilities[Lt.current.currentRenderingPage].renderStatus=nt.NotRenderedYet),Lt.current.visibilities[It].renderStatus=nt.Rendering,Lt.current.currentRenderingPage=It},setOutOfRange:function(It){Bt(It,Ve)},setRange:function(It,At){Lt.current.startRange=It,Lt.current.endRange=At;for(var zt=0;zt<Et;zt++)(zt<It||zt>At)&&(Lt.current.visibilities[zt].visibility=Ve,Lt.current.visibilities[zt].renderStatus=nt.NotRenderedYet)},setVisibility:Bt}},ne={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ee=a.createContext({l10n:ne,setL10n:function(){}}),rt=0,at=function(){return rt++},vt=function(Ye,dt,Et){var bt=function(Mt){var Lt=dt.current;if(Lt){var Bt=Mt.target;if(Bt instanceof Element&&Bt.shadowRoot){var It=Mt.composedPath();It.length>0&&!Lt.contains(It[0])&&Et()}else Lt.contains(Bt)||Et()}};a.useEffect(function(){if(Ye){var Mt={capture:!0};return document.addEventListener("click",bt,Mt),function(){document.removeEventListener("click",bt,Mt)}}},[])},ut=function(Ye){var dt=function(Et){Et.key==="Escape"&&Ye()};a.useEffect(function(){return document.addEventListener("keyup",dt),function(){document.removeEventListener("keyup",dt)}},[])},x=function(Ye){var dt=Ye.ariaControlsSuffix,Et=Ye.children,bt=Ye.closeOnClickOutside,Mt=Ye.closeOnEscape,Lt=Ye.onToggle,Bt=a.useRef(),It=a.useContext(y).direction===r.TextDirection.RightToLeft;return a.useEffect(function(){var At=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=At}},[]),ut(function(){Bt.current&&Mt&&Lt()}),vt(bt,Bt,Lt),d(function(){var At=Bt.current;if(At){var zt=.75*document.body.clientHeight;At.getBoundingClientRect().height>=zt&&(At.style.overflow="auto",At.style.maxHeight="".concat(zt,"px"))}},[]),a.createElement("div",{"aria-modal":"true",className:Z({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":It}),id:"rpv-core__modal-body-".concat(dt),ref:Bt,role:"dialog",tabIndex:-1},Et)},st=function(Ye){var dt=Ye.children;return a.createElement("div",{className:"rpv-core__modal-overlay"},dt)};r.ToggleStatus=void 0,(lt=r.ToggleStatus||(r.ToggleStatus={})).Close="Close",lt.Open="Open",lt.Toggle="Toggle";var ot,gt=function(Ye){var dt=a.useState(Ye),Et=dt[0],bt=dt[1];return{opened:Et,toggle:function(Mt){switch(Mt){case r.ToggleStatus.Close:bt(!1);break;case r.ToggleStatus.Open:bt(!0);break;case r.ToggleStatus.Toggle:default:bt(function(Lt){return!Lt})}}}},yt=function(Ye){var dt=Ye.content,Et=Ye.isOpened,bt=Et!==void 0&&Et,Mt=Ye.target,Lt=gt(bt),Bt=Lt.opened,It=Lt.toggle;return a.createElement(a.Fragment,null,Mt&&Mt(It,Bt),Bt&&dt(It))};r.Position=void 0,(ot=r.Position||(r.Position={})).TopLeft="TOP_LEFT",ot.TopCenter="TOP_CENTER",ot.TopRight="TOP_RIGHT",ot.RightTop="RIGHT_TOP",ot.RightCenter="RIGHT_CENTER",ot.RightBottom="RIGHT_BOTTOM",ot.BottomLeft="BOTTOM_LEFT",ot.BottomCenter="BOTTOM_CENTER",ot.BottomRight="BOTTOM_RIGHT",ot.LeftTop="LEFT_TOP",ot.LeftCenter="LEFT_CENTER",ot.LeftBottom="LEFT_BOTTOM";var xt,Rt,qt,un,Yt,Qt,Jt,Gt,nn=function(Ye,dt,Et,bt,Mt){d(function(){var Lt=dt.current,Bt=Ye.current,It=Et.current;if(Bt&&Lt&&It){var At=It.getBoundingClientRect(),zt=function(tn,en,pn,ln){var cn=en.getBoundingClientRect(),Vn=tn.getBoundingClientRect(),Fn=Vn.height,Pn=Vn.width,jn=0,Sn=0;switch(pn){case r.Position.TopLeft:jn=cn.top-Fn,Sn=cn.left;break;case r.Position.TopCenter:jn=cn.top-Fn,Sn=cn.left+cn.width/2-Pn/2;break;case r.Position.TopRight:jn=cn.top-Fn,Sn=cn.left+cn.width-Pn;break;case r.Position.RightTop:jn=cn.top,Sn=cn.left+cn.width;break;case r.Position.RightCenter:jn=cn.top+cn.height/2-Fn/2,Sn=cn.left+cn.width;break;case r.Position.RightBottom:jn=cn.top+cn.height-Fn,Sn=cn.left+cn.width;break;case r.Position.BottomLeft:jn=cn.top+cn.height,Sn=cn.left;break;case r.Position.BottomCenter:jn=cn.top+cn.height,Sn=cn.left+cn.width/2-Pn/2;break;case r.Position.BottomRight:jn=cn.top+cn.height,Sn=cn.left+cn.width-Pn;break;case r.Position.LeftTop:jn=cn.top,Sn=cn.left-Pn;break;case r.Position.LeftCenter:jn=cn.top+cn.height/2-Fn/2,Sn=cn.left-Pn;break;case r.Position.LeftBottom:jn=cn.top+cn.height-Fn,Sn=cn.left-Pn}return{left:Sn+(ln.left||0),top:jn+(ln.top||0)}}(Bt,Lt,bt,Mt),Nt=zt.top,rn=zt.left;Bt.style.top="".concat(Nt-At.top,"px"),Bt.style.left="".concat(rn-At.left,"px")}},[])},fn=function(Ye){var dt,Et=Ye.customClassName,bt=Ye.position;return a.createElement("div",{className:Z((dt={"rpv-core__arrow":!0,"rpv-core__arrow--tl":bt===r.Position.TopLeft,"rpv-core__arrow--tc":bt===r.Position.TopCenter,"rpv-core__arrow--tr":bt===r.Position.TopRight,"rpv-core__arrow--rt":bt===r.Position.RightTop,"rpv-core__arrow--rc":bt===r.Position.RightCenter,"rpv-core__arrow--rb":bt===r.Position.RightBottom,"rpv-core__arrow--bl":bt===r.Position.BottomLeft,"rpv-core__arrow--bc":bt===r.Position.BottomCenter,"rpv-core__arrow--br":bt===r.Position.BottomRight,"rpv-core__arrow--lt":bt===r.Position.LeftTop,"rpv-core__arrow--lc":bt===r.Position.LeftCenter,"rpv-core__arrow--lb":bt===r.Position.LeftBottom},dt["".concat(Et)]=Et!=="",dt))})},an=function(Ye){var dt=Ye.ariaControlsSuffix,Et=Ye.children,bt=Ye.closeOnClickOutside,Mt=Ye.offset,Lt=Ye.position,Bt=Ye.targetRef,It=Ye.onClose,At=a.useRef(),zt=a.useRef(),Nt=a.useRef(),rn=a.useContext(y).direction===r.TextDirection.RightToLeft;vt(bt,At,It),nn(At,Bt,Nt,Lt,Mt),d(function(){var en=zt.current;if(en){var pn=.75*document.body.clientHeight;en.getBoundingClientRect().height>=pn&&(en.style.overflow="auto",en.style.maxHeight="".concat(pn,"px"))}},[]);var tn="rpv-core__popover-body-inner-".concat(dt);return a.createElement(a.Fragment,null,a.createElement("div",{ref:Nt,style:{left:0,position:"absolute",top:0}}),a.createElement("div",{"aria-describedby":tn,className:Z({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":rn}),id:"rpv-core__popover-body-".concat(dt),ref:At,role:"dialog",tabIndex:-1},a.createElement(fn,{customClassName:"rpv-core__popover-body-arrow",position:Lt}),a.createElement("div",{id:tn,ref:zt},Et)))},_n=function(Ye){var dt=Ye.closeOnEscape,Et=Ye.onClose,bt=a.useRef();return ut(function(){bt.current&&dt&&Et()}),a.createElement("div",{className:"rpv-core__popover-overlay",ref:bt})},An=function(Ye){var dt=Ye.ariaControlsSuffix,Et=Ye.children,bt=Ye.contentRef,Mt=Ye.offset,Lt=Ye.position,Bt=Ye.targetRef,It=a.useRef(),At=a.useContext(y).direction===r.TextDirection.RightToLeft;return nn(bt,Bt,It,Lt,Mt),a.createElement(a.Fragment,null,a.createElement("div",{ref:It,style:{left:0,position:"absolute",top:0}}),a.createElement("div",{className:Z({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":At}),id:"rpv-core__tooltip-body-".concat(dt),ref:bt,role:"tooltip"},a.createElement(fn,{customClassName:"rpv-core__tooltip-body-arrow",position:Lt}),a.createElement("div",{className:"rpv-core__tooltip-body-content"},Et)))};r.FullScreenMode=void 0,(xt=r.FullScreenMode||(r.FullScreenMode={})).Normal="Normal",xt.Entering="Entering",xt.Entered="Entered",xt.EnteredCompletely="EnteredCompletely",xt.Exitting="Exitting",xt.Exited="Exited",r.LayerRenderStatus=void 0,(Rt=r.LayerRenderStatus||(r.LayerRenderStatus={}))[Rt.PreRender=0]="PreRender",Rt[Rt.DidRender=1]="DidRender",r.PageMode=void 0,(qt=r.PageMode||(r.PageMode={})).Attachments="UseAttachments",qt.Bookmarks="UseOutlines",qt.ContentGroup="UseOC",qt.Default="UserNone",qt.FullScreen="FullScreen",qt.Thumbnails="UseThumbs",r.PasswordStatus=void 0,(un=r.PasswordStatus||(r.PasswordStatus={})).RequiredPassword="RequiredPassword",un.WrongPassword="WrongPassword",r.RotateDirection=void 0,(Yt=r.RotateDirection||(r.RotateDirection={})).Backward="Backward",Yt.Forward="Forward",r.ScrollMode=void 0,(Qt=r.ScrollMode||(r.ScrollMode={})).Page="Page",Qt.Horizontal="Horizontal",Qt.Vertical="Vertical",Qt.Wrapped="Wrapped",r.SpecialZoomLevel=void 0,(Jt=r.SpecialZoomLevel||(r.SpecialZoomLevel={})).ActualSize="ActualSize",Jt.PageFit="PageFit",Jt.PageWidth="PageWidth",r.ViewMode=void 0,(Gt=r.ViewMode||(r.ViewMode={})).DualPage="DualPage",Gt.DualPageWithCover="DualPageWithCover",Gt.SinglePage="SinglePage";var Mn,Yn=function(Ye,dt){return Ye.reduce(function(Et,bt,Mt){return Mt%dt?Et[Et.length-1].push(bt):Et.push([bt]),Et},[])},ar=function(Ye,dt){switch(dt[1].name){case"XYZ":return{bottomOffset:function(Et,bt){return dt[3]===null?bt:dt[3]},leftOffset:function(Et,bt){return dt[2]===null?0:dt[2]},pageIndex:Ye,scaleTo:dt[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:Ye,scaleTo:r.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:dt[2],leftOffset:0,pageIndex:Ye,scaleTo:r.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:Ye,scaleTo:1}}},er=new Map,Tr=new Map,dr=function(Ye,dt){return"".concat(Ye.loadingTask.docId,"___").concat(dt.num,"R").concat(dt.gen===0?"":dt.gen)},hr=function(Ye,dt,Et){er.set(dr(Ye,dt),Et)},or=function(Ye,dt){if(!Ye)return Promise.reject("The document is not loaded yet");var Et="".concat(Ye.loadingTask.docId,"___").concat(dt),bt=Tr.get(Et);return bt?Promise.resolve(bt):new Promise(function(Mt,Lt){Ye.getPage(dt+1).then(function(Bt){Tr.set(Et,Bt),Bt.ref&&hr(Ye,Bt.ref,dt),Mt(Bt)})})},oi=function(Ye,dt){return new Promise(function(Et){new Promise(function(bt){typeof dt=="string"?Ye.getDestination(dt).then(function(Mt){bt(Mt)}):bt(dt)}).then(function(bt){if(typeof bt[0]=="object"&&bt[0]!==null){var Mt=bt[0],Lt=function(It,At){var zt=dr(It,At);return er.has(zt)?er.get(zt):null}(Ye,Mt);Lt===null?Ye.getPageIndex(Mt).then(function(It){hr(Ye,Mt,It),oi(Ye,dt).then(function(At){return Et(At)})}):Et(ar(Lt,bt))}else{var Bt=ar(bt[0],bt);Et(Bt)}})})};(function(Ye){Ye[Ye.Solid=1]="Solid",Ye[Ye.Dashed=2]="Dashed",Ye[Ye.Beveled=3]="Beveled",Ye[Ye.Inset=4]="Inset",Ye[Ye.Underline=5]="Underline"})(Mn||(Mn={}));var Sr,sn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),Wt=function(Ye,dt,Et,bt){var Mt=parseInt(Ye,10);return Mt>=dt&&Mt<=Et?Mt:bt},Ut=function(Ye){return Ye.contentsObj?Ye.contentsObj.str:Ye.contents||""},mn=function(Ye){return Ye.titleObj?Ye.titleObj.str:Ye.title||""},lr=function(Ye){var dt=Ye.annotation,Et=a.useContext(y).direction,bt=mn(dt),Mt=Ut(dt),Lt=Et===r.TextDirection.RightToLeft,Bt=a.useRef(),It="";if(dt.modificationDate){var At=function(zt){var Nt=sn.exec(zt);if(!Nt)return null;var rn=parseInt(Nt[1],10),tn=Wt(Nt[2],1,12,1)-1,en=Wt(Nt[3],1,31,1),pn=Wt(Nt[4],0,23,0),ln=Wt(Nt[5],0,59,0),cn=Wt(Nt[6],0,59,0),Vn=Nt[7]||"Z",Fn=Wt(Nt[8],0,23,0),Pn=Wt(Nt[9],0,59,0);switch(Vn){case"-":pn+=Fn,ln+=Pn;break;case"+":pn-=Fn,ln-=Pn}return new Date(Date.UTC(rn,tn,en,pn,ln,cn))}(dt.modificationDate);It=At?"".concat(At.toLocaleDateString(),", ").concat(At.toLocaleTimeString()):""}return a.useLayoutEffect(function(){if(Bt.current){var zt=document.querySelector('[data-annotation-id="'.concat(dt.id,'"]'));if(zt){var Nt=zt;return Nt.style.zIndex+=1,function(){Nt.style.zIndex="".concat(parseInt(Nt.style.zIndex,10)-1)}}}},[]),a.createElement("div",{ref:Bt,className:Z({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Lt}),style:{top:dt.annotationType===r.AnnotationType.Popup?"":"100%"}},bt&&a.createElement(a.Fragment,null,a.createElement("div",{className:Z({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Lt,"rpv-core__annotation-popup-title--rtl":Lt})},bt),a.createElement("div",{className:"rpv-core__annotation-popup-date"},It)),Mt&&a.createElement("div",{className:"rpv-core__annotation-popup-content"},Mt.split(`
`).map(function(zt,Nt){return a.createElement(a.Fragment,{key:Nt},zt,a.createElement("br",null))})))};(function(Ye){Ye.Click="Click",Ye.Hover="Hover"})(Sr||(Sr={}));var zn,Zn=function(Ye){var dt,Et=Ye.annotation,bt=Ye.children,Mt=Ye.ignoreBorder,Lt=Ye.hasPopup,Bt=Ye.isRenderable,It=Ye.page,At=Ye.viewport,zt=Et.rect,Nt=function(){var In=gt(!1),cr=In.opened,ir=In.toggle,pr=a.useState(Sr.Hover),fr=pr[0],gr=pr[1];return{opened:cr,closeOnHover:function(){fr===Sr.Hover&&ir(r.ToggleStatus.Close)},openOnHover:function(){fr===Sr.Hover&&ir(r.ToggleStatus.Open)},toggleOnClick:function(){switch(fr){case Sr.Click:cr&&gr(Sr.Hover),ir(r.ToggleStatus.Toggle);break;case Sr.Hover:gr(Sr.Click),ir(r.ToggleStatus.Open)}}}}(),rn=Nt.closeOnHover,tn=Nt.opened,en=Nt.openOnHover,pn=Nt.toggleOnClick,ln=(dt=[zt[0],It.view[3]+It.view[1]-zt[1],zt[2],It.view[3]+It.view[1]-zt[3]],[Math.min(dt[0],dt[2]),Math.min(dt[1],dt[3]),Math.max(dt[0],dt[2]),Math.max(dt[1],dt[3])]),cn=zt[2]-zt[0],Vn=zt[3]-zt[1],Fn={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Mt&&Et.borderStyle.width>0){switch(Et.borderStyle.style){case Mn.Dashed:Fn.borderStyle="dashed";break;case Mn.Solid:Fn.borderStyle="solid";break;case Mn.Underline:Fn=Object.assign({borderBottomStyle:"solid"},Fn);case Mn.Beveled:case Mn.Inset:}var Pn=Et.borderStyle.width;Fn.borderWidth="".concat(Pn,"px"),Et.borderStyle.style!==Mn.Underline&&(cn-=2*Pn,Vn-=2*Pn);var jn=Et.borderStyle,Sn=jn.horizontalCornerRadius,kn=jn.verticalCornerRadius;(Sn>0||kn>0)&&(Fn.borderRadius="".concat(Sn,"px / ").concat(kn,"px")),Et.color?Fn.borderColor="rgb(".concat(0|Et.color[0],", ").concat(0|Et.color[1],", ").concat(0|Et.color[2],")"):Fn.borderWidth="0"}return a.createElement(a.Fragment,null,Bt&&bt({popup:{opened:tn,closeOnHover:rn,openOnHover:en,toggleOnClick:pn},slot:{attrs:{style:Object.assign({height:"".concat(Vn,"px"),left:"".concat(ln[0],"px"),top:"".concat(ln[1],"px"),transform:"matrix(".concat(At.transform.join(","),")"),transformOrigin:"-".concat(ln[0],"px -").concat(ln[1],"px"),width:"".concat(cn,"px")},Fn)},children:a.createElement(a.Fragment,null,Lt&&tn&&a.createElement(lr,{annotation:Et}))}}))},Jr=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt);return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},Dr=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt),At=dt.rect,zt=At[2]-At[0],Nt=At[3]-At[1],rn=dt.borderStyle.width;return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(tn){return a.createElement("div",u({},tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":dt.id,onClick:tn.popup.toggleOnClick,onMouseEnter:tn.popup.openOnHover,onMouseLeave:tn.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Nt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(zt," ").concat(Nt),width:"".concat(zt,"px")},a.createElement("circle",{cy:Nt/2,fill:"none",rx:zt/2-rn/2,ry:Nt/2-rn/2,stroke:"transparent",strokeWidth:rn||1})),tn.slot.children)})},gi=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=mn(dt),Lt=Ut(dt),Bt=!(dt.hasPopup!==!1||!Mt&&!Lt),It=function(){var At,zt,Nt,rn,tn=dt.file;tn&&(At=tn.filename,zt=tn.content,Nt=typeof zt=="string"?"":URL.createObjectURL(new Blob([zt],{type:""})),(rn=document.createElement("a")).style.display="none",rn.href=Nt||At,rn.setAttribute("download",function(en){var pn=en.split("/").pop();return pn?pn.split("#")[0].split("?")[0]:en}(At)),document.body.appendChild(rn),rn.click(),document.body.removeChild(rn),Nt&&URL.revokeObjectURL(Nt))};return a.createElement(Zn,{annotation:dt,hasPopup:Bt,ignoreBorder:!0,isRenderable:!0,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onDoubleClick:It,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},jr=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt);return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},vr=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=mn(dt),Lt=Ut(dt),Bt=!(!Mt&&!Lt),It=!dt.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(dt.parentType)!==-1;return d(function(){if(dt.parentId){var At=document.querySelector('[data-annotation-id="'.concat(dt.parentId,'"]')),zt=document.querySelector('[data-annotation-id="'.concat(dt.id,'"]'));if(At&&zt){var Nt=parseFloat(At.style.left),rn=parseFloat(At.style.top)+parseFloat(At.style.height);zt.style.left="".concat(Nt,"px"),zt.style.top="".concat(rn,"px"),zt.style.transformOrigin="-".concat(Nt,"px -").concat(rn,"px")}}},[]),a.createElement(Zn,{annotation:dt,hasPopup:It,ignoreBorder:!1,isRenderable:Bt,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":dt.id}),a.createElement(lr,{annotation:dt}))})},zr=function(Ye){var dt=Ye.annotation,Et=Ye.childAnnotation,bt=Ye.page,Mt=Ye.viewport,Lt=dt.hasPopup===!1,Bt=mn(dt),It=Ut(dt),At=!!(dt.hasPopup||Bt||It);if(dt.quadPoints&&dt.quadPoints.length>0){var zt=dt.quadPoints.map(function(Nt){return Object.assign({},dt,{rect:[Nt[2].x,Nt[2].y,Nt[1].x,Nt[1].y],quadPoints:[]})});return a.createElement(a.Fragment,null,zt.map(function(Nt,rn){return a.createElement(zr,{key:rn,annotation:Nt,childAnnotation:Et,page:bt,viewport:Mt})}))}return a.createElement(Zn,{annotation:dt,hasPopup:Lt,ignoreBorder:!0,isRenderable:At,page:bt,viewport:Mt},function(Nt){return a.createElement(a.Fragment,null,a.createElement("div",u({},Nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":dt.id,onClick:Nt.popup.toggleOnClick,onMouseEnter:Nt.popup.openOnHover,onMouseLeave:Nt.popup.closeOnHover}),Nt.slot.children),Et&&Et.annotationType===r.AnnotationType.Popup&&Nt.popup.opened&&a.createElement(vr,{annotation:Et,page:bt,viewport:Mt}))})},_i=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt),At=dt.rect,zt=At[2]-At[0],Nt=At[3]-At[1],rn=dt.borderStyle.width;return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(tn){return a.createElement("div",u({},tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":dt.id,onClick:tn.popup.toggleOnClick,onMouseEnter:tn.popup.openOnHover,onMouseLeave:tn.popup.closeOnHover}),dt.inkLists&&dt.inkLists.length&&a.createElement("svg",{height:"".concat(Nt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(zt," ").concat(Nt),width:"".concat(zt,"px")},dt.inkLists.map(function(en,pn){return a.createElement("polyline",{key:pn,fill:"none",stroke:"transparent",strokeWidth:rn||1,points:en.map(function(ln){return"".concat(ln.x-At[0],",").concat(At[3]-ln.y)}).join(" ")})})),tn.slot.children)})},xr=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt),At=dt.rect,zt=At[2]-At[0],Nt=At[3]-At[1],rn=dt.borderStyle.width;return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(tn){return a.createElement("div",u({},tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":dt.id,onClick:tn.popup.toggleOnClick,onMouseEnter:tn.popup.openOnHover,onMouseLeave:tn.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Nt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(zt," ").concat(Nt),width:"".concat(zt,"px")},a.createElement("line",{stroke:"transparent",strokeWidth:rn||1,x1:At[2]-dt.lineCoordinates[0],x2:At[2]-dt.lineCoordinates[2],y1:At[3]-dt.lineCoordinates[1],y2:At[3]-dt.lineCoordinates[3]})),tn.slot.children)})},mi=/^([^\w]*)(javascript|data|vbscript)/im,li=/&#(\w+)(^\w|;)?/g,Fi=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ai=/^([^:]+):/gm,Kr=function(Ye,dt){var Et,bt=(Et=Ye||"",Et.replace(li,function(It,At){return String.fromCharCode(At)})).replace(Fi,"").trim();if(!bt)return dt;var Mt=bt[0];if(Mt==="."||Mt==="/")return bt;var Lt=bt.match(Ai);if(!Lt)return bt;var Bt=Lt[0];return mi.test(Bt)?dt:bt},Pr=function(Ye){var dt,Et=Ye.annotation,bt=Ye.annotationContainerRef,Mt=Ye.doc,Lt=Ye.outlines,Bt=Ye.page,It=Ye.pageIndex,At=Ye.scale,zt=Ye.viewport,Nt=Ye.onExecuteNamedAction,rn=Ye.onJumpFromLinkAnnotation,tn=Ye.onJumpToDest,en=a.useRef(),pn=Lt&&Lt.length&&Et.dest&&typeof Et.dest=="string"?(dt=Lt.find(function(Fn){return Fn.dest===Et.dest}))===null||dt===void 0?void 0:dt.title:"",ln=!!(Et.url||Et.dest||Et.action||Et.unsafeUrl),cn={};if(Et.url||Et.unsafeUrl){var Vn=Kr(Et.url||Et.unsafeUrl,"");Vn?cn={"data-target":"external",href:Vn,rel:"noopener noreferrer nofollow",target:Et.newWindow?"_blank":"",title:Vn}:ln=!1}else cn={href:"","data-annotation-link":Et.id,onClick:function(Fn){Fn.preventDefault(),Et.action?Nt(Et.action):oi(Mt,Et.dest).then(function(Pn){var jn=en.current,Sn=bt.current;if(jn&&Sn){var kn=jn.getBoundingClientRect();Sn.style.setProperty("height","100%"),Sn.style.setProperty("width","100%");var In=Sn.getBoundingClientRect();Sn.style.removeProperty("height"),Sn.style.removeProperty("width");var cr=(kn.left-In.left)/At,ir=(In.bottom-kn.bottom+kn.height)/At;rn({bottomOffset:ir,label:pn,leftOffset:cr,pageIndex:It})}tn(Pn)})}};return pn&&(cn=Object.assign({},cn,{title:pn,"aria-label":pn})),a.createElement(Zn,{annotation:Et,hasPopup:!1,ignoreBorder:!1,isRenderable:ln,page:Bt,viewport:zt},function(Fn){return a.createElement("div",u({},Fn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Et.id,"data-testid":"core__annotation--link-".concat(Et.id)}),a.createElement("a",u({ref:en},cn)))})},ki=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt),At=dt.rect,zt=At[2]-At[0],Nt=At[3]-At[1],rn=dt.borderStyle.width;return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(tn){return a.createElement("div",u({},tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":dt.id,onClick:tn.popup.toggleOnClick,onMouseEnter:tn.popup.openOnHover,onMouseLeave:tn.popup.closeOnHover}),dt.vertices&&dt.vertices.length&&a.createElement("svg",{height:"".concat(Nt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(zt," ").concat(Nt),width:"".concat(zt,"px")},a.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:rn||1,points:dt.vertices.map(function(en){return"".concat(en.x-At[0],",").concat(At[3]-en.y)}).join(" ")})),tn.slot.children)})},Ui=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt),At=dt.rect,zt=At[2]-At[0],Nt=At[3]-At[1],rn=dt.borderStyle.width;return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(tn){return a.createElement("div",u({},tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":dt.id,onClick:tn.popup.toggleOnClick,onMouseEnter:tn.popup.openOnHover,onMouseLeave:tn.popup.closeOnHover}),dt.vertices&&dt.vertices.length&&a.createElement("svg",{height:"".concat(Nt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(zt," ").concat(Nt),width:"".concat(zt,"px")},a.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:rn||1,points:dt.vertices.map(function(en){return"".concat(en.x-At[0],",").concat(At[3]-en.y)}).join(" ")})),tn.slot.children)})},As=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt),At=dt.rect,zt=At[2]-At[0],Nt=At[3]-At[1],rn=dt.borderStyle.width;return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(tn){return a.createElement("div",u({},tn.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":dt.id,onClick:tn.popup.toggleOnClick,onMouseEnter:tn.popup.openOnHover,onMouseLeave:tn.popup.closeOnHover}),a.createElement("svg",{height:"".concat(Nt,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(zt," ").concat(Nt),width:"".concat(zt,"px")},a.createElement("rect",{height:Nt-rn,fill:"none",stroke:"transparent",strokeWidth:rn||1,x:rn/2,y:rn/2,width:zt-rn})),tn.slot.children)})},Pa=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt);return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},$i=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt);return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},Ra=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt);return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},Ki=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),a.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),a.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),a.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ia=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),a.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),a.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),a.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),a.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),a.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),a.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),a.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),a.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),a.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},sa=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),a.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},oo=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),a.createElement("path",{d:"M6 4.5L6 0.5"}),a.createElement("path",{d:"M18 4.5L18 0.5"}),a.createElement("path",{d:"M10 4.5L10 0.5"}),a.createElement("path",{d:"M14 4.5L14 0.5"}))},Bn=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),a.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),a.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Ot=function(){return a.createElement(et,{size:16},a.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},vn=function(Ye){var dt=Ye.annotation,Et=Ye.childAnnotation,bt=Ye.page,Mt=Ye.viewport,Lt=dt.hasPopup===!1,Bt=mn(dt),It=Ut(dt),At=!!(dt.hasPopup||Bt||It),zt=dt.name?dt.name.toLowerCase():"";return a.createElement(Zn,{annotation:dt,hasPopup:Lt,ignoreBorder:!1,isRenderable:At,page:bt,viewport:Mt},function(Nt){return a.createElement(a.Fragment,null,a.createElement("div",u({},Nt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":dt.id,onClick:Nt.popup.toggleOnClick,onMouseEnter:Nt.popup.openOnHover,onMouseLeave:Nt.popup.closeOnHover}),zt&&a.createElement("div",{className:"rpv-core__annotation-text-icon"},zt==="check"&&a.createElement(E,null),zt==="comment"&&a.createElement(Ki,null),zt==="help"&&a.createElement(ia,null),zt==="insert"&&a.createElement(Ot,null),zt==="key"&&a.createElement(sa,null),zt==="note"&&a.createElement(oo,null),(zt==="newparagraph"||zt==="paragraph")&&a.createElement(Bn,null)),Nt.slot.children),Et&&Et.annotationType===r.AnnotationType.Popup&&Nt.popup.opened&&a.createElement(vr,{annotation:Et,page:bt,viewport:Mt}))})},Ln=function(Ye){var dt=Ye.annotation,Et=Ye.page,bt=Ye.viewport,Mt=dt.hasPopup===!1,Lt=mn(dt),Bt=Ut(dt),It=!!(dt.hasPopup||Lt||Bt);return a.createElement(Zn,{annotation:dt,hasPopup:Mt,ignoreBorder:!0,isRenderable:It,page:Et,viewport:bt},function(At){return a.createElement("div",u({},At.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":dt.id,onClick:At.popup.toggleOnClick,onMouseEnter:At.popup.openOnHover,onMouseLeave:At.popup.closeOnHover}),At.slot.children)})},Lr=function(Ye){var dt=Ye.annotations,Et=Ye.doc,bt=Ye.outlines,Mt=Ye.page,Lt=Ye.pageIndex,Bt=Ye.plugins,It=Ye.rotation,At=Ye.scale,zt=Ye.onExecuteNamedAction,Nt=Ye.onJumpFromLinkAnnotation,rn=Ye.onJumpToDest,tn=a.useRef(),en=Mt.getViewport({rotation:It,scale:At}).clone({dontFlip:!0}),pn=dt.filter(function(ln){return!ln.parentId});return d(function(){var ln=tn.current;ln&&Bt.forEach(function(cn){cn.onAnnotationLayerRender&&cn.onAnnotationLayerRender({annotations:pn,container:ln,pageIndex:Lt,rotation:It,scale:At})})},[]),a.createElement("div",{ref:tn,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Lt)},pn.map(function(ln){var cn=dt.find(function(Vn){return Vn.parentId===ln.id});switch(ln.annotationType){case r.AnnotationType.Caret:return a.createElement(Jr,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Circle:return a.createElement(Dr,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.FileAttachment:return a.createElement(gi,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.FreeText:return a.createElement(jr,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Highlight:return a.createElement(zr,{key:ln.id,annotation:ln,childAnnotation:cn,page:Mt,viewport:en});case r.AnnotationType.Ink:return a.createElement(_i,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Line:return a.createElement(xr,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Link:return a.createElement(Pr,{key:ln.id,annotation:ln,annotationContainerRef:tn,doc:Et,outlines:bt,page:Mt,pageIndex:Lt,scale:At,viewport:en,onExecuteNamedAction:zt,onJumpFromLinkAnnotation:Nt,onJumpToDest:rn});case r.AnnotationType.Polygon:return a.createElement(ki,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Polyline:return a.createElement(Ui,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Popup:return a.createElement(vr,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Square:return a.createElement(As,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Squiggly:return a.createElement(Pa,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Stamp:return a.createElement($i,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.StrikeOut:return a.createElement(Ra,{key:ln.id,annotation:ln,page:Mt,viewport:en});case r.AnnotationType.Text:return a.createElement(vn,{key:ln.id,annotation:ln,childAnnotation:cn,page:Mt,viewport:en});case r.AnnotationType.Underline:return a.createElement(Ln,{key:ln.id,annotation:ln,page:Mt,viewport:en});default:return a.createElement(a.Fragment,{key:ln.id})}}))},ri=function(Ye){var dt=Ye.page,Et=Ye.renderAnnotations,bt=Tt(),Mt=a.useState({loading:!0,annotations:[]}),Lt=Mt[0],Bt=Mt[1];return a.useEffect(function(){dt.getAnnotations({intent:"display"}).then(function(It){bt.current&&Bt({loading:!1,annotations:It})})},[]),Lt.loading?a.createElement(a.Fragment,null):Et(Lt.annotations)},rr=function(Ye){var dt=Ye.doc,Et=Ye.outlines,bt=Ye.page,Mt=Ye.pageIndex,Lt=Ye.plugins,Bt=Ye.rotation,It=Ye.scale,At=Ye.onExecuteNamedAction,zt=Ye.onJumpFromLinkAnnotation,Nt=Ye.onJumpToDest;return a.createElement(ri,{page:bt,renderAnnotations:function(rn){return a.createElement(Lr,{annotations:rn,doc:dt,outlines:Et,page:bt,pageIndex:Mt,plugins:Lt,rotation:Bt,scale:It,onExecuteNamedAction:At,onJumpFromLinkAnnotation:zt,onJumpToDest:Nt})}})},ei=function(Ye,dt){var Et=Ye%dt;return Et===0?Ye:Math.floor(Ye-Et)},Ci=function(Ye){var dt=Ye.canvasLayerRef,Et=Ye.height,bt=Ye.page,Mt=Ye.pageIndex,Lt=Ye.plugins,Bt=Ye.rotation,It=Ye.scale,At=Ye.width,zt=Ye.onRenderCanvasCompleted,Nt=a.useRef();return d(function(){var rn=Nt.current;rn&&rn.cancel();var tn=dt.current;tn.removeAttribute("data-testid"),Lt.forEach(function(In){In.onCanvasLayerRender&&In.onCanvasLayerRender({ele:tn,pageIndex:Mt,rotation:Bt,scale:It,status:r.LayerRenderStatus.PreRender})});var en=bt.getViewport({rotation:Bt,scale:It}),pn=window.devicePixelRatio||1,ln=Math.sqrt(16777216/(en.width*en.height)),cn=pn>ln;cn?tn.style.transform="scale(1, 1)":tn.style.removeProperty("transform");var Vn=Math.min(ln,pn),Fn=function(In,cr){var ir,pr;if(Math.floor(In)===In)return[In,1];var fr=1/In;if(fr>cr)return[1,cr];if(Math.floor(fr)===fr)return[1,fr];for(var gr=In>1?fr:In,Fr=0,Ar=1,Wr=1,Or=1;;){var Br=Fr+Wr,Hr=Ar+Or;if(Hr>cr)break;gr<=Br/Hr?(Wr=(ir=[Br,Hr])[0],Or=ir[1]):(Fr=(pr=[Br,Hr])[0],Ar=pr[1])}return gr<(Fr/Ar+Wr/Or)/2?gr===In?[Fr,Ar]:[Ar,Fr]:gr===In?[Wr,Or]:[Or,Wr]}(Vn,8),Pn=Fn[0],jn=Fn[1];tn.width=ei(en.width*Vn,Pn),tn.height=ei(en.height*Vn,Pn),tn.style.width="".concat(ei(en.width,jn),"px"),tn.style.height="".concat(ei(en.height,jn),"px"),tn.hidden=!0;var Sn=tn.getContext("2d",{alpha:!1}),kn=cn||pn!==1?[Vn,0,0,Vn,0,0]:null;return Nt.current=bt.render({canvasContext:Sn,transform:kn,viewport:en}),Nt.current.promise.then(function(){tn.hidden=!1,tn.setAttribute("data-testid","core__canvas-layer-".concat(Mt)),Lt.forEach(function(In){In.onCanvasLayerRender&&In.onCanvasLayerRender({ele:tn,pageIndex:Mt,rotation:Bt,scale:It,status:r.LayerRenderStatus.DidRender})}),zt()},function(){zt()}),function(){tn&&(tn.width=0,tn.height=0)}},[]),a.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Et,"px"),width:"".concat(At,"px")}},a.createElement("canvas",{ref:dt}))},gs=function(Ye){var dt=Ye.height,Et=Ye.page,bt=Ye.rotation,Mt=Ye.scale,Lt=Ye.width,Bt=a.useRef();return d(function(){var It=Bt.current,At=Et.getViewport({rotation:bt,scale:Mt});Et.getOperatorList().then(function(zt){(function(){var Nt=Bt.current;Nt&&(Nt.innerHTML="")})(),new G.SVGGraphics(Et.commonObjs,Et.objs).getSVG(zt,At).then(function(Nt){Nt.style.height="".concat(dt,"px"),Nt.style.width="".concat(Lt,"px"),It.appendChild(Nt)})})},[]),a.createElement("div",{className:"rpv-core__svg-layer",ref:Bt})},ms=function(Ye){var dt=Ye.containerRef,Et=Ye.page,bt=Ye.pageIndex,Mt=Ye.plugins,Lt=Ye.rotation,Bt=Ye.scale,It=Ye.onRenderTextCompleted,At=a.useRef(),zt=function(){var Nt=dt.current;Nt&&([].slice.call(Nt.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(rn){return Nt.removeChild(rn)}),[].slice.call(Nt.querySelectorAll('br[role="presentation"]')).forEach(function(rn){return Nt.removeChild(rn)}))};return d(function(){var Nt=At.current;Nt&&Nt.cancel();var rn=dt.current;if(rn){rn.removeAttribute("data-testid");var tn=Et.getViewport({rotation:Lt,scale:Bt});return Mt.forEach(function(en){en.onTextLayerRender&&en.onTextLayerRender({ele:rn,pageIndex:bt,scale:Bt,status:r.LayerRenderStatus.PreRender})}),Et.getTextContent().then(function(en){zt(),At.current=G.renderTextLayer({container:rn,textContent:en,textContentSource:en,viewport:tn}),At.current.promise.then(function(){rn.setAttribute("data-testid","core__text-layer-".concat(bt)),[].slice.call(rn.children).forEach(function(pn){pn.classList.contains("rpv-core__text-layer-text--not")||pn.classList.add("rpv-core__text-layer-text")}),Mt.forEach(function(pn){pn.onTextLayerRender&&pn.onTextLayerRender({ele:rn,pageIndex:bt,scale:Bt,status:r.LayerRenderStatus.DidRender})}),It()},function(){rn.removeAttribute("data-testid"),It()})}),function(){var en;zt(),(en=At.current)===null||en===void 0||en.cancel()}}},[]),a.createElement("div",{className:"rpv-core__text-layer",ref:dt})},ii=function(Ye){var dt=Ye.doc,Et=Ye.measureRef,bt=Ye.outlines,Mt=Ye.pageIndex,Lt=Ye.pageRotation,Bt=Ye.pageSize,It=Ye.plugins,At=Ye.renderPage,zt=Ye.renderQueueKey,Nt=Ye.rotation,rn=Ye.scale,tn=Ye.shouldRender,en=Ye.viewMode,pn=Ye.onExecuteNamedAction,ln=Ye.onJumpFromLinkAnnotation,cn=Ye.onJumpToDest,Vn=Ye.onRenderCompleted,Fn=Ye.onRotatePage,Pn=Tt(),jn=a.useState(null),Sn=jn[0],kn=jn[1],In=a.useState(!1),cr=In[0],ir=In[1],pr=a.useState(!1),fr=pr[0],gr=pr[1],Fr=a.useRef(),Ar=a.useRef(),Wr=Math.abs(Nt+Lt)%180==0,Or=Bt.pageWidth*rn,Br=Bt.pageHeight*rn,Hr=Wr?Or:Br,Ir=Wr?Br:Or,ci=(Bt.rotation+Nt+Lt)%360,Ji=a.useRef(0),Vi=At||function(ti){return a.createElement(a.Fragment,null,ti.canvasLayer.children,ti.textLayer.children,ti.annotationLayer.children)};return a.useEffect(function(){kn(null),ir(!1),gr(!1)},[Lt,Nt,rn]),a.useEffect(function(){tn&&Pn.current&&!Sn&&or(dt,Mt).then(function(ti){Pn.current&&(Ji.current=zt,kn(ti))})},[tn,Sn]),a.useEffect(function(){cr&&fr&&(zt!==Ji.current?(kn(null),ir(!1),gr(!1)):Vn(Mt))},[cr,fr]),a.createElement("div",{className:Z({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":en===r.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":en===r.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":en===r.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Mt),ref:Et,style:{height:"".concat(Ir,"px"),width:"".concat(Hr,"px")}},Sn?a.createElement(a.Fragment,null,Vi({annotationLayer:{attrs:{},children:a.createElement(rr,{doc:dt,outlines:bt,page:Sn,pageIndex:Mt,plugins:It,rotation:ci,scale:rn,onExecuteNamedAction:pn,onJumpFromLinkAnnotation:ln,onJumpToDest:cn})},canvasLayer:{attrs:{},children:a.createElement(Ci,{canvasLayerRef:Fr,height:Ir,page:Sn,pageIndex:Mt,plugins:It,rotation:ci,scale:rn,width:Hr,onRenderCanvasCompleted:function(){Pn.current&&ir(!0)}})},canvasLayerRendered:cr,doc:dt,height:Ir,pageIndex:Mt,rotation:ci,scale:rn,svgLayer:{attrs:{},children:a.createElement(gs,{height:Ir,page:Sn,rotation:ci,scale:rn,width:Hr})},textLayer:{attrs:{},children:a.createElement(ms,{containerRef:Ar,page:Sn,pageIndex:Mt,plugins:It,rotation:ci,scale:rn,onRenderTextCompleted:function(){Pn.current&&gr(!0)}})},textLayerRendered:fr,width:Hr,markRendered:Vn,onRotatePage:function(ti){return Fn(Mt,ti)}}),It.map(function(ti,Ei){return ti.renderPageLayer?a.createElement(a.Fragment,{key:Ei},ti.renderPageLayer({canvasLayerRef:Fr,canvasLayerRendered:cr,doc:dt,height:Ir,pageIndex:Mt,rotation:ci,scale:rn,textLayerRef:Ar,textLayerRendered:fr,width:Hr})):a.createElement(a.Fragment,{key:Ei})})):a.createElement(mt,{testId:"core__page-layer-loading-".concat(Mt)}))},aa=function(Ye,dt){var Et=dt.rect;return Ye.height!==Et.height||Ye.width!==Et.width?Et:Ye};(function(Ye){Ye.Horizontal="Horizontal",Ye.Vertical="Vertical",Ye.Both="Both"})(zn||(zn={}));var ks=function(Ye){return 1-Math.pow(1-Ye,4)},Ti=1e-4,Do={left:0,top:0},Ii={capture:!1,passive:!0},Hl=function(Ye){var dt=Ye.elementRef,Et=Ye.enableSmoothScroll,bt=Ye.isRtl,Mt=Ye.scrollDirection,Lt=Ye.onSmoothScroll,Bt=a.useState(Do),It=Bt[0],At=Bt[1],zt=a.useState(dt.current),Nt=zt[0],rn=zt[1],tn=bt?-1:1,en=a.useRef(Mt);en.current=Mt;var pn=a.useRef(Do),ln=a.useRef(!0),cn=a.useCallback(function(){ln.current=!0,Et&&At(pn.current),Lt(!1)},[]),Vn=a.useCallback(function(){if(Nt){switch(en.current){case zn.Horizontal:pn.current={left:tn*Nt.scrollLeft,top:0};break;case zn.Both:pn.current={left:tn*Nt.scrollLeft,top:Nt.scrollTop};break;case zn.Vertical:default:pn.current={left:0,top:Nt.scrollTop}}Et&&!ln.current||At(pn.current)}},[Nt]);d(function(){rn(dt.current)}),d(function(){if(Nt)return Nt.addEventListener("scroll",Vn,Ii),function(){Nt.removeEventListener("scroll",Vn,Ii)}},[Nt]);var Fn=a.useCallback(function(Pn,jn){var Sn=dt.current;if(!Sn)return Promise.resolve();var kn={left:0,top:0};switch(en.current){case zn.Horizontal:kn.left=tn*Pn.left;break;case zn.Both:kn.left=tn*Pn.left,kn.top=Pn.top;break;case zn.Vertical:default:kn.top=Pn.top}return jn?(ln.current=!1,Lt(!0),new Promise(function(In,cr){(function(ir,pr,fr,gr,Fr,Ar){Fr===void 0&&(Fr=function(Ei){return Ei}),Ar===void 0&&(Ar=function(){});var Wr=0,Or=0,Br=!1;switch(pr){case zn.Horizontal:Or=ir.scrollLeft,Wr=0;case zn.Both:Or=ir.scrollLeft,Wr=ir.scrollTop;break;case zn.Vertical:default:Or=0,Wr=ir.scrollTop}var Hr=function(){Br||(Br=!0,ir.scrollLeft=fr.left,ir.scrollTop=fr.top,Ar())};if(Math.abs(Wr-fr.top)<=Ti&&pr===zn.Vertical)Hr();else if(Math.abs(Or-fr.left)<=Ti&&pr===zn.Horizontal)Hr();else{var Ir,ci=-1,Ji=Or-fr.left,Vi=Wr-fr.top,ti=function(Ei){ci===-1&&(ci=Ei);var es=Ei-ci,Un=Math.min(es/gr,1),On=Fr(Un),xn={left:Or-Ji*On,top:Wr-Vi*On};switch(pr){case zn.Horizontal:ir.scrollLeft=xn.left;break;case zn.Both:ir.scrollLeft=xn.left,ir.scrollTop=xn.top;break;case zn.Vertical:default:ir.scrollTop=xn.top}Math.abs(xn.top-fr.top)<=Ti&&Math.abs(xn.left-fr.left)<=Ti&&!Br&&(window.cancelAnimationFrame(Ir),Hr()),es<gr?Ir=window.requestAnimationFrame(ti):window.cancelAnimationFrame(Ir)};Ir=window.requestAnimationFrame(ti)}})(Sn,en.current,kn,400,ks,function(){cn(),In()})})):new Promise(function(In,cr){switch(en.current){case zn.Horizontal:Sn.scrollLeft=kn.left;break;case zn.Both:Sn.scrollLeft=kn.left,Sn.scrollTop=kn.top;break;case zn.Vertical:default:Sn.scrollTop=kn.top}In()})},[dt]);return{scrollOffset:It,scrollTo:Fn}},oa=function(Ye,dt,Et){return Math.max(Ye,Math.min(Et,dt))},Ul=function(Ye,dt){if(dt!==r.ViewMode.DualPageWithCover)return 0;if(!function(Mt){var Lt=Mt.length;if(Lt===1)return!1;for(var Bt=1;Bt<Lt;Bt++)if(Mt[Bt].height!==Mt[0].height||Mt[Bt].width!==Mt[0].width)return!0;return!1}(Ye))return 2*Ye[0].width;var Et=Yn(Ye.slice(1),2).map(function(Mt){return Mt.length===2?Mt[0].width+Mt[1].width:Mt[0].width}),bt=[Ye[0].width].concat(Et);return Math.max.apply(Math,bt)},Ma={left:0,top:0},La={left:0,top:0},Cs={left:0,top:0},Fa={left:0,top:0},$l={height:0,width:0},Oo={left:0,top:0},Ia="data-virtual-index",No=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],lo=function(Ye){var dt=Ye.enableSmoothScroll,Et=Ye.isRtl,bt=Ye.numberOfItems,Mt=Ye.parentRef,Lt=Ye.setRenderRange,Bt=Ye.sizes,It=Ye.scrollMode,At=Ye.viewMode,zt=a.useState(!1),Nt=zt[0],rn=zt[1],tn=a.useCallback(function(Un){return rn(Un)},[]),en=a.useRef(It);en.current=It;var pn=a.useRef(At);pn.current=At;var ln=It===r.ScrollMode.Wrapped||At===r.ViewMode.DualPageWithCover||At===r.ViewMode.DualPage?zn.Both:It===r.ScrollMode.Horizontal?zn.Horizontal:zn.Vertical,cn=Hl({elementRef:Mt,enableSmoothScroll:dt,isRtl:Et,scrollDirection:ln,onSmoothScroll:tn}),Vn=cn.scrollOffset,Fn=cn.scrollTo,Pn=function(Un){var On=Un.elementRef,xn=a.useState(On.current),Cn=xn[0],wn=xn[1],Wn=a.useRef(!1),qn=a.useReducer(aa,{height:0,width:0}),Tn=qn[0],En=qn[1];return d(function(){On.current!==Cn&&wn(On.current)}),d(function(){if(Cn&&!Wn.current){Wn.current=!0;var Kn=Cn.getBoundingClientRect(),tr=Kn.height,Rr=Kn.width;En({rect:{height:tr,width:Rr}})}},[Cn]),a.useEffect(function(){if(Cn){var Kn=new ResizeObserver(function(tr,Rr){tr.forEach(function(kr){if(kr.target===Cn){var si=kr.contentRect,Pi=si.height,Qn=si.width;En({rect:{height:Pi,width:Qn}})}})});return Kn.observe(Cn),function(){Kn.unobserve(Cn)}}},[Cn]),Tn}({elementRef:Mt}),jn=a.useRef({scrollOffset:Oo,measurements:[]});jn.current.scrollOffset=Vn;var Sn=a.useMemo(function(){return Array(bt).fill(-1)},[]),kn=a.useState(Sn),In=kn[0],cr=kn[1],ir=a.useMemo(function(){var Un=new IntersectionObserver(function(On){On.forEach(function(xn){var Cn=xn.isIntersecting?xn.intersectionRatio:-1,wn=xn.target.getAttribute(Ia);if(wn){var Wn=parseInt(wn,10);0<=Wn&&Wn<bt&&cr(function(qn){return qn[Wn]=Cn,function(Tn,En,Kn){for(var tr,Rr=0,kr=En.length;Rr<kr;Rr++)!tr&&Rr in En||(tr||(tr=Array.prototype.slice.call(En,0,Rr)),tr[Rr]=En[Rr]);return Tn.concat(tr||Array.prototype.slice.call(En))}([],qn)})}})},{threshold:No});return Un},[]),pr=a.useMemo(function(){return It===r.ScrollMode.Page&&At===r.ViewMode.SinglePage?function(Un,On,xn){for(var Cn=[],wn=0;wn<Un;wn++){var Wn={height:Math.max(On.height,xn[wn].height),width:Math.max(On.width,xn[wn].width)},qn=wn===0?Fa:Cn[wn-1].end,Tn={left:qn.left+Wn.width,top:qn.top+Wn.height};Cn[wn]={index:wn,start:qn,size:Wn,end:Tn,visibility:-1}}return Cn}(bt,Pn,Bt):At===r.ViewMode.DualPageWithCover?function(Un,On,xn,Cn){for(var wn=[],Wn=0,qn=0,Tn=Cs,En=0;En<Un;En++){var Kn=En===0?{height:Cn===r.ScrollMode.Page?Math.max(On.height,xn[En].height):xn[En].height,width:Cn===r.ScrollMode.Page?Math.max(On.width,xn[En].width):xn[En].width}:{height:Cn===r.ScrollMode.Page?Math.max(On.height,xn[En].height):xn[En].height,width:Math.max(On.width/2,xn[En].width)};Cn===r.ScrollMode.Page?Tn=En===0?Cs:{left:En%2==0?Kn.width:0,top:Math.floor((En-1)/2)*Kn.height+wn[0].end.top}:En===0?(Tn=Cs,Wn=xn[0].height,qn=0):En%2==1?(Tn={left:0,top:Wn+=qn},qn=En===Un-1?xn[En].height:Math.max(xn[En].height,xn[En+1].height)):Tn={left:wn[En-1].end.left,top:Wn};var tr={left:Tn.left+Kn.width,top:Tn.top+Kn.height};wn[En]={index:En,start:Tn,size:Kn,end:tr,visibility:-1}}return wn}(bt,Pn,Bt,It):At===r.ViewMode.DualPage?function(Un,On,xn,Cn){for(var wn=[],Wn=0,qn=0,Tn=La,En=0;En<Un;En++){var Kn={height:Cn===r.ScrollMode.Page?Math.max(On.height,xn[En].height):xn[En].height,width:Math.max(On.width/2,xn[En].width)};Cn===r.ScrollMode.Page?Tn={left:En%2==0?0:Kn.width,top:Math.floor(En/2)*Kn.height}:En%2==0?(Tn={left:0,top:Wn+=qn},qn=En===Un-1?xn[En].height:Math.max(xn[En].height,xn[En+1].height)):Tn={left:wn[En-1].end.left,top:Wn};var tr={left:Tn.left+Kn.width,top:Tn.top+Kn.height};wn[En]={index:En,start:Tn,size:Kn,end:tr,visibility:-1}}return wn}(bt,Pn,Bt,It):function(Un,On,xn,Cn){for(var wn=[],Wn=0,qn={left:0,top:0},Tn=0,En=Ma,Kn=0;Kn<Un;Kn++){var tr=xn[Kn];if(Kn===0)Wn=tr.width,qn={left:0,top:0},Tn=tr.height;else switch(Cn){case r.ScrollMode.Wrapped:(Wn+=tr.width)<On.width?(En={left:wn[Kn-1].end.left,top:qn.top},Tn=Math.max(Tn,tr.height)):(Wn=tr.width,qn={left:(En={left:qn.left,top:qn.top+Tn}).left,top:En.top},Tn=tr.height);break;case r.ScrollMode.Horizontal:case r.ScrollMode.Vertical:default:En=wn[Kn-1].end}var Rr={left:En.left+tr.width,top:En.top+tr.height};wn[Kn]={index:Kn,start:En,size:tr,end:Rr,visibility:-1}}return wn}(bt,Pn,Bt,It)},[It,Bt,At,Pn]),fr=pr[bt-1]?{height:pr[bt-1].end.top,width:pr[bt-1].end.left}:$l;jn.current.measurements=pr;var gr=a.useMemo(function(){var Un=function(Kn,tr,Rr,kr){var si=0;switch(Kn){case zn.Horizontal:si=kr.left;break;case zn.Vertical:default:si=kr.top}var Pi=tr.length-1,Qn=function(Er,os,Rs,ca){for(;Er<=os;){var Di=(Er+os)/2|0,ua=ca(Di);if(ua<Rs)Er=Di+1;else{if(!(ua>Rs))return Di;os=Di-1}}return Er>0?Er-1:0}(0,Pi,si,function(Er){switch(Kn){case zn.Horizontal:return tr[Er].start.left;case zn.Both:case zn.Vertical:default:return tr[Er].start.top}});if(Kn===zn.Both)for(var Qr=tr[Qn].start.top;Qn-1>=0&&tr[Qn-1].start.top===Qr&&tr[Qn-1].start.left>=kr.left;)Qn--;for(var _r=Qn;_r<=Pi;){var Mr={top:tr[_r].start.top-kr.top,left:tr[_r].start.left-kr.left},qr={height:Rr.height-Mr.top,width:Rr.width-Mr.left};if(Kn===zn.Horizontal&&qr.width<0||Kn===zn.Vertical&&qr.height<0||Kn===zn.Both&&(qr.width<0||qr.height<0))break;_r++}return{start:Qn,end:_r}}(ln,pr,Pn,Vn),On=Un.start,xn=Un.end,Cn=In.slice(oa(0,bt,On),oa(0,bt,xn)),wn=On+Cn.reduce(function(Kn,tr,Rr,kr){return tr>kr[Kn]?Rr:Kn},0),Wn=wn=oa(0,bt-1,wn),qn=Lt({endPage:xn,numPages:bt,startPage:On}),Tn=qn.startPage,En=qn.endPage;switch(Tn=Math.max(Tn,0),En=Math.min(En,bt-1),At){case r.ViewMode.DualPageWithCover:wn>0&&(Wn=wn%2==1?wn:wn-1),Tn=Tn===0?0:Tn%2==1?Tn:Tn-1,bt-(En=En%2==1?En-1:En)<=2&&(En=bt-1);break;case r.ViewMode.DualPage:Wn=wn%2==0?wn:wn-1,Tn=Tn%2==0?Tn:Tn-1,En=En%2==1?En:En-1;break;case r.ViewMode.SinglePage:default:Wn=wn}return{startPage:Tn,endPage:En,maxVisbilityIndex:Wn}},[pr,Pn,Vn,At,In]),Fr=gr.startPage,Ar=gr.endPage,Wr=gr.maxVisbilityIndex,Or=a.useMemo(function(){for(var Un=[],On=function(Cn){var wn=pr[Cn],Wn=u(u({},wn),{visibility:In[Cn]!==void 0?In[Cn]:-1,measureRef:function(qn){qn&&(qn.setAttribute(Ia,"".concat(Cn)),ir.observe(qn))}});Un.push(Wn)},xn=Fr;xn<=Ar;xn++)On(xn);return Un},[Fr,Ar,In,pr]),Br=a.useCallback(function(Un,On){var xn=jn.current.measurements[oa(0,bt-1,Un)],Cn=en.current===r.ScrollMode.Page?Oo:On;return xn?Fn({left:Cn.left+xn.start.left,top:Cn.top+xn.start.top},dt):Promise.resolve()},[Fn,dt]),Hr=a.useCallback(function(Un,On){var xn=jn.current.measurements,Cn=xn[Un].start,wn=xn.find(function(qn){return qn.start.top-Cn.top>1e-12});if(!wn)return Promise.resolve();var Wn=wn.index;switch(pn.current){case r.ViewMode.DualPage:Wn=Wn%2==0?Wn:Wn+1;break;case r.ViewMode.DualPageWithCover:Wn=Wn%2==1?Wn:Wn+1}return Br(Wn,On)},[]),Ir=a.useCallback(function(Un,On){for(var xn=jn.current.measurements,Cn=xn[Un].start,wn=Un,Wn=!1,qn=bt-1;qn>=0;qn--)if(Cn.top-xn[qn].start.top>1e-12){Wn=!0,wn=xn[qn].index;break}if(!Wn)return Promise.resolve();switch(pn.current){case r.ViewMode.DualPage:wn=wn%2==0?wn:wn-1;break;case r.ViewMode.DualPageWithCover:wn=wn%2==0?wn-1:wn}return wn===Un&&(wn=Un-1),Br(wn,On)},[]),ci=a.useCallback(function(Un,On){if(pn.current===r.ViewMode.DualPageWithCover||pn.current===r.ViewMode.DualPage)return Hr(Un,On);switch(en.current){case r.ScrollMode.Wrapped:return Hr(Un,On);case r.ScrollMode.Horizontal:case r.ScrollMode.Vertical:default:return Br(Un+1,On)}},[]),Ji=a.useCallback(function(Un,On){if(pn.current===r.ViewMode.DualPageWithCover||pn.current===r.ViewMode.DualPage)return Ir(Un,On);switch(en.current){case r.ScrollMode.Wrapped:return Ir(Un,On);case r.ScrollMode.Horizontal:case r.ScrollMode.Vertical:default:return Br(Un-1,On)}},[]),Vi=a.useCallback(function(){return function(Un,On){switch(On){case r.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Un.width,"px")};case r.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Un.height,"px"),width:"100%"}}}(fr,en.current)},[fr]),ti=a.useCallback(function(Un){return function(On,xn,Cn){return Cn!==r.ScrollMode.Page?{}:{height:"".concat(xn.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(On.start.top,"px)")}}(Un,Pn,en.current)},[Pn]),Ei=a.useCallback(function(Un){return function(On,xn,Cn,wn,Wn){var qn,Tn,En,Kn,tr,Rr,kr,si=xn?"right":"left",Pi=xn?-1:1,Qn=Cn.length,Qr=On.start.left*Pi,_r=On.size,Mr=_r.height,qr=_r.width;if(wn===r.ViewMode.DualPageWithCover){var Er=Wn===r.ScrollMode.Page?0:On.start.top;return On.index===0||Qn%2==0&&On.index===Qn-1?((qn={height:"".concat(Mr,"px"),minWidth:"".concat(Ul(Cn,wn),"px"),width:"100%"})[si]=0,qn.position="absolute",qn.top=0,qn.transform="translate(".concat(Qr,"px, ").concat(Er,"px)"),qn):((Tn={height:"".concat(Mr,"px"),width:"".concat(qr,"px")})[si]=0,Tn.position="absolute",Tn.top=0,Tn.transform="translate(".concat(Qr,"px, ").concat(Er,"px)"),Tn)}if(wn===r.ViewMode.DualPage)return(En={height:"".concat(Mr,"px"),width:"".concat(qr,"px")})[si]=0,En.position="absolute",En.top=0,En.transform="translate(".concat(Qr,"px, ").concat(Wn===r.ScrollMode.Page?0:On.start.top,"px)"),En;switch(Wn){case r.ScrollMode.Horizontal:return(Kn={height:"100%",width:"".concat(qr,"px")})[si]=0,Kn.position="absolute",Kn.top=0,Kn.transform="translateX(".concat(Qr,"px)"),Kn;case r.ScrollMode.Page:return(tr={height:"".concat(Mr,"px"),width:"".concat(qr,"px")})[si]=0,tr.position="absolute",tr.top=0,tr;case r.ScrollMode.Wrapped:return(Rr={height:"".concat(Mr,"px"),width:"".concat(qr,"px")})[si]=0,Rr.position="absolute",Rr.top=0,Rr.transform="translate(".concat(Qr,"px, ").concat(On.start.top,"px)"),Rr;case r.ScrollMode.Vertical:default:return(kr={height:"".concat(Mr,"px"),width:"100%"})[si]=0,kr.position="absolute",kr.top=0,kr.transform="translateY(".concat(On.start.top,"px)"),kr}}(Un,Et,Bt,pn.current,en.current)},[Et,Bt]),es=a.useCallback(function(Un,On){var xn=jn.current,Cn=xn.measurements,wn=xn.scrollOffset,Wn=Cn[oa(0,bt-1,On)];if(Wn){var qn=en.current===r.ScrollMode.Page?{left:Wn.start.left,top:Wn.start.top}:{left:wn.left*Un,top:wn.top*Un};return Fn(qn,!1)}return Promise.resolve()},[]);return a.useEffect(function(){return function(){ir.disconnect()}},[]),{boundingClientRect:Pn,isSmoothScrolling:Nt,startPage:Fr,endPage:Ar,maxVisbilityIndex:Wr,virtualItems:Or,getContainerStyles:Vi,getItemContainerStyles:ti,getItemStyles:Ei,scrollToItem:Br,scrollToNextItem:ci,scrollToPreviousItem:Ji,zoom:es}},Ts=function(Ye,dt,Et,bt,Mt,Lt){var Bt=Et;switch(!0){case(Mt===r.ViewMode.DualPageWithCover&&Lt>=3):case(Mt===r.ViewMode.DualPage&&Lt>=3):Bt=2*Et;break;default:Bt=Et}switch(bt){case r.SpecialZoomLevel.ActualSize:return 1;case r.SpecialZoomLevel.PageFit:return Math.min((Ye.clientWidth-17)/Bt,(Ye.clientHeight-16)/dt);case r.SpecialZoomLevel.PageWidth:return(Ye.clientWidth-17)/Bt}},Wl=function(Ye){var dt,Et,bt=Ye.getCurrentPage,Mt=(dt=50,Et=a.useRef([]),a.useEffect(function(){return function(){Et.current=[]}},[]),{push:function(zt){var Nt=Et.current;Nt.length+1>dt&&Nt.shift(),Nt.push(zt),Et.current=Nt},map:function(zt){return Et.current.map(function(Nt){return zt(Nt)})},pop:function(){var zt=Et.current;if(zt.length===0)return null;var Nt=zt.pop();return Et.current=zt,Nt}}),Lt=function(zt){var Nt=a.useRef([]);return a.useEffect(function(){return function(){Nt.current=[]}},[]),{dequeue:function(){var rn=Nt.current;if(rn.length===0)return null;var tn=rn.shift();return Nt.current=rn,tn||null},enqueue:function(rn){var tn=Nt.current;tn.length+1>zt&&tn.pop(),Nt.current=[rn].concat(tn)},map:function(rn){return Nt.current.map(function(tn){return rn(tn)})}}}(50),Bt=function(){var zt=Lt.dequeue();return zt&&Mt.push(zt),zt&&zt.pageIndex===bt()?Bt():zt},It=function(){var zt=Mt.pop();return zt&&Lt.enqueue(zt),zt&&zt.pageIndex===bt()?It():zt},At=a.useCallback(function(zt){Mt.push(zt)},[]);return{getNextDestination:Bt,getPreviousDestination:It,markVisitedDestination:At}},Da=function(Ye){var dt=[];return Ye.map(function(Et){dt=dt.concat(Et).concat(function(bt){var Mt=[];return bt.items&&bt.items.length>0&&(Mt=Mt.concat(Da(bt.items))),Mt}(Et))}),dt},br={capture:!1,passive:!0},jo={height:0,width:0},Oa={height:0,width:0},co=function(Ye){var dt=Ye.getCurrentPage,Et=Ye.getCurrentScrollMode,bt=Ye.jumpToPage,Mt=Ye.targetRef,Lt=a.useState(r.FullScreenMode.Normal),Bt=Lt[0],It=Lt[1],At=function(){var In=a.useState(jo),cr=In[0],ir=In[1],pr=$t(function(){ir({height:window.innerHeight,width:window.innerWidth})},100);return d(function(){return window.addEventListener("resize",pr,br),function(){window.removeEventListener("resize",pr,br)}},[]),cr}(),zt=a.useState(Oa),Nt=zt[0],rn=zt[1],tn=a.useRef(Oa),en=a.useRef(dt()),pn=a.useRef(Oa),ln=a.useState(Mt.current),cn=ln[0],Vn=ln[1],Fn=a.useRef();d(function(){Mt.current!==cn&&Vn(Mt.current)},[]),d(function(){if(cn){var In=new ResizeObserver(function(cr){cr.forEach(function(ir){var pr=ir.target.getBoundingClientRect(),fr=pr.height,gr=pr.width;rn({height:fr,width:gr})})});return In.observe(cn),function(){In.unobserve(cn),In.disconnect()}}},[cn]);var Pn=a.useCallback(function(In){var cr=Dt();return cr&&cr!==In?(It(r.FullScreenMode.Normal),Vt(cr)):Promise.resolve()},[]),jn=a.useCallback(function(In){In&&_t()&&(Vn(In),Pn(In).then(function(){Fn.current=In,It(r.FullScreenMode.Entering),function(cr){St&&cr[jt.RequestFullScreen]()}(In)}))},[]),Sn=a.useCallback(function(){Dt()&&(It(r.FullScreenMode.Exitting),Vt(document))},[]),kn=a.useCallback(function(){cn&&Dt()!==cn&&It(r.FullScreenMode.Exitting)},[cn]);return a.useEffect(function(){switch(Bt){case r.FullScreenMode.Entering:Fn.current&&(Fn.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),en.current=dt(),tn.current={height:window.innerHeight,width:window.innerWidth};break;case r.FullScreenMode.Entered:Et()===r.ScrollMode.Page?bt(en.current).then(function(){It(r.FullScreenMode.EnteredCompletely)}):It(r.FullScreenMode.EnteredCompletely);break;case r.FullScreenMode.Exitting:Fn.current&&(Fn.current.style.backgroundColor="",Fn.current=null),en.current=dt();break;case r.FullScreenMode.Exited:It(r.FullScreenMode.Normal),Et()===r.ScrollMode.Page&&bt(en.current)}},[Bt]),a.useEffect(function(){if(Bt!==r.FullScreenMode.Normal)return Bt===r.FullScreenMode.Entering&&At.height===Nt.height&&At.width===Nt.width&&At.height>0&&At.width>0&&(pn.current.height===0||At.height==pn.current.height)?(pn.current={height:window.innerHeight,width:window.innerWidth},void It(r.FullScreenMode.Entered)):void(Bt===r.FullScreenMode.Exitting&&tn.current.height===At.height&&tn.current.width===At.width&&At.height>0&&At.width>0&&It(r.FullScreenMode.Exited))},[Bt,At,Nt]),a.useEffect(function(){var In;return In=kn,St&&document.addEventListener(jt.FullScreenChange,In),function(){(function(cr){St&&document.removeEventListener(jt.FullScreenChange,cr)})(kn)}},[cn]),{enterFullScreenMode:jn,exitFullScreenMode:Sn,fullScreenMode:Bt}},zo={buildPageStyles:function(){return{}},transformSize:function(Ye){return Ye.size}},Ps={left:0,top:0},Bo=function(Ye){var dt=Ye.currentFile,Et=Ye.defaultScale,bt=Ye.doc,Mt=Ye.enableSmoothScroll,Lt=Ye.initialPage,Bt=Ye.initialRotation,It=Ye.initialScale,At=Ye.pageLayout,zt=Ye.pageSizes,Nt=Ye.plugins,rn=Ye.renderPage,tn=Ye.scrollMode,en=Ye.setRenderRange,pn=Ye.viewMode,ln=Ye.viewerState,cn=Ye.onDocumentLoad,Vn=Ye.onOpenFile,Fn=Ye.onPageChange,Pn=Ye.onRotate,jn=Ye.onRotatePage,Sn=Ye.onZoom,kn=bt.numPages,In=bt.loadingTask.docId,cr=a.useContext(ee).l10n,ir=a.useContext(y),pr=ir.direction===r.TextDirection.RightToLeft,fr=a.useRef(),gr=a.useRef(),Fr=a.useState(Lt),Ar=Fr[0],Wr=Fr[1],Or=a.useRef(null),Br=Wl({getCurrentPage:function(){return Qn.current.pageIndex}}),Hr=a.useState(Bt),Ir=Hr[0],ci=Hr[1],Ji=Ct(Ir),Vi=a.useState(!1),ti=Vi[0],Ei=Vi[1],es=a.useState(new Map),Un=es[0],On=es[1],xn=a.useState(tn),Cn=xn[0],wn=xn[1],Wn=Ct(Cn),qn=a.useState(pn),Tn=qn[0],En=qn[1],Kn=Ct(Tn),tr=function(on){var $n=Tt(),nr=a.useState([]),mr=nr[0],ur=nr[1];return a.useEffect(function(){on.getOutline().then(function(sr){if($n.current&&sr!==null){var Gr=Da(sr);ur(Gr)}})},[]),mr}(bt),Rr=a.useState(It),kr=Rr[0],si=Rr[1],Pi=Ct(kr),Qn=a.useRef(ln),Qr=a.useRef(typeof Et=="string"?Et:null),_r=a.useRef(-1),Mr=a.useRef(-1),qr=a.useRef(Lt),Er=co({getCurrentPage:function(){return Qn.current.pageIndex},getCurrentScrollMode:function(){return Qn.current.scrollMode},jumpToPage:function(on){return _s(on)},targetRef:gr}),os=a.useState(-1),Rs=os[0],ca=os[1],Di=a.useState(0),ua=Di[0],ql=Di[1],Ri=Y({doc:bt});a.useEffect(function(){return function(){er.clear(),Tr.clear()}},[In]);var uo=a.useMemo(function(){return Object.assign({},zo,At)},[]),Uo=a.useMemo(function(){return Array(kn).fill(0).map(function(on,$n){var nr=[zt[$n].pageHeight,zt[$n].pageWidth],mr=Math.abs(Ir)%180==0?{height:nr[0],width:nr[1]}:{height:nr[1],width:nr[0]},ur={height:mr.height*kr,width:mr.width*kr};return uo.transformSize({numPages:kn,pageIndex:$n,size:ur})})},[Ir,kr]),yr=lo({enableSmoothScroll:Mt,isRtl:pr,numberOfItems:kn,parentRef:gr,scrollMode:Cn,setRenderRange:en,sizes:Uo,viewMode:Tn}),da=$t(function(){!Qr.current||Qn.current.fullScreenMode!==r.FullScreenMode.Normal||Lt>0&&qr.current===Lt||Es(Qr.current)},200);(function(on){var $n=on.targetRef,nr=on.onResize;d(function(){var mr=new ResizeObserver(function(sr){sr.forEach(function(Gr){nr(Gr.target)})}),ur=$n.current;if(ur)return mr.observe(ur),function(){mr.unobserve(ur)}},[])})({targetRef:gr,onResize:da});var ys=function(on){var $n=on;Nt.forEach(function(nr){nr.onViewerStateChange&&($n=nr.onViewerStateChange($n))}),Qn.current=$n},za=function(){return gr.current},Gl=function(){return Qn.current},$o=a.useCallback(function(on){Br.markVisitedDestination(on)},[]),ha=a.useCallback(function(on){var $n=on.pageIndex,nr=on.bottomOffset,mr=on.leftOffset,ur=on.scaleTo,sr=gr.current,Gr=Qn.current;return sr&&Gr?new Promise(function(ls,Ua){or(bt,$n).then(function(ma){var cs=ma.getViewport({scale:1}),qi=0,$a=(typeof nr=="function"?nr(cs.width,cs.height):nr)||0,$s=(typeof mr=="function"?mr(cs.width,cs.height):mr)||0,Ws=Gr.scale;switch(ur){case r.SpecialZoomLevel.PageFit:qi=0,$s=0,Es(r.SpecialZoomLevel.PageFit);break;case r.SpecialZoomLevel.PageWidth:Ws=Ts(sr,zt[$n].pageHeight,zt[$n].pageWidth,r.SpecialZoomLevel.PageWidth,pn,kn),qi=(cs.height-$a)*Ws,$s*=Ws,Es(Ws);break;default:qi=(cs.height-$a)*Ws,$s*=Ws}switch(Gr.scrollMode){case r.ScrollMode.Horizontal:yr.scrollToItem($n,{left:$s,top:0}).then(function(){ls()});break;case r.ScrollMode.Vertical:default:yr.scrollToItem($n,{left:0,top:qi}).then(function(){ls()})}})}):Promise.resolve()},[]),Ba=a.useCallback(function(on){return Br.markVisitedDestination(on),ha(on)},[]),Wo=a.useCallback(function(){var on=Br.getNextDestination();return on?ha(on):Promise.resolve()},[]),Vo=a.useCallback(function(){var on=Br.getPreviousDestination();return on?ha(on):Promise.resolve()},[]),qo=a.useCallback(function(){return yr.scrollToNextItem(Qn.current.pageIndex,Ps)},[]),_s=a.useCallback(function(on){return 0<=on&&on<kn?yr.scrollToItem(on,Ps):Promise.resolve()},[]),Xl=a.useCallback(function(){return yr.scrollToPreviousItem(Qn.current.pageIndex,Ps)},[]),Go=a.useCallback(function(on){var $n,nr;($n=on.name,nr=$n.split(/\./).pop(),nr?nr.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(mr){var ur=new FileReader;ur.readAsArrayBuffer(on),ur.onload=function(){var sr=new Uint8Array(ur.result);mr(sr)}}).then(function(mr){Vn(on.name,mr)})},[Vn]),Xo=a.useCallback(function(on){var $n=on===r.RotateDirection.Backward?-90:90,nr=Qn.current.rotation,mr=nr===360||nr===-360?$n:nr+$n;Ri.markNotRendered(),ci(mr),ys(u(u({},Qn.current),{rotation:mr})),Pn({direction:on,doc:bt,rotation:mr})},[]),ho=a.useCallback(function(on,$n){var nr=$n===r.RotateDirection.Backward?-90:90,mr=Qn.current.pagesRotation,ur=(mr.has(on)?mr.get(on):Bt)+nr,sr=mr.set(on,ur);On(sr),Ei(function(Gr){return!Gr}),ys(u(u({},Qn.current),{pagesRotation:sr,rotatedPage:on})),jn({direction:$n,doc:bt,pageIndex:on,rotation:ur}),Ri.markRendering(on),ca(on)},[]),Oi=a.useCallback(function(on){ys(u(u({},Qn.current),{scrollMode:on})),wn(on)},[]),Hs=a.useCallback(function(on){ys(u(u({},Qn.current),{viewMode:on})),En(on)},[]),Es=a.useCallback(function(on){var $n=gr.current,nr=Qn.current.pageIndex;if(!(nr<0||nr>=kn)){var mr=zt[nr].pageHeight,ur=zt[nr].pageWidth,sr=$n?typeof on=="string"?Ts($n,mr,ur,on,Qn.current.viewMode,kn):on:1;Qr.current=typeof on=="string"?on:null,sr!==Qn.current.scale&&(ql(function(Gr){return Gr+1}),Ri.markNotRendered(),si(sr),Sn({doc:bt,scale:sr}),ys(u(u({},Qn.current),{scale:sr})))}},[]),Yo=a.useCallback(function(on){Er.enterFullScreenMode(on)},[]),Ko=a.useCallback(function(){Er.exitFullScreenMode()},[]);a.useEffect(function(){ys(u(u({},Qn.current),{fullScreenMode:Er.fullScreenMode}))},[Er.fullScreenMode]),a.useEffect(function(){var on={enterFullScreenMode:Yo,exitFullScreenMode:Ko,getPagesContainer:za,getViewerState:Gl,jumpToDestination:Ba,jumpToNextDestination:Wo,jumpToPreviousDestination:Vo,jumpToNextPage:qo,jumpToPreviousPage:Xl,jumpToPage:_s,openFile:Go,rotate:Xo,rotatePage:ho,setViewerState:ys,switchScrollMode:Oi,switchViewMode:Hs,zoom:Es};return Nt.forEach(function($n){$n.install&&$n.install(on)}),function(){Nt.forEach(function($n){$n.uninstall&&$n.uninstall(on)})}},[In]),a.useEffect(function(){cn({doc:bt,file:dt}),Nt.forEach(function(on){on.onDocumentLoad&&on.onDocumentLoad({doc:bt,file:dt})})},[In]);var Ha,fa,fo,Qo=yr.boundingClientRect;Ha=function(){Lt&&_s(Lt)},fa=Qo.height>0&&Qo.width>0,fo=a.useRef(!1),d(function(){fa&&!fo.current&&(fo.current=!0,Ha())},[Ha,fa]),d(function(){var on=Qn.current.pageIndex;on>-1&&Wn!==Cn&&yr.scrollToItem(on,Ps).then(function(){Er.fullScreenMode===r.FullScreenMode.EnteredCompletely&&(Mt||Ri.markNotRendered(),_r.current=-1)})},[Cn]),d(function(){var on=Qn.current.pageIndex;on>-1&&Ji!==Ir&&yr.scrollToItem(on,Ps)},[Ir]),d(function(){Pi!=0&&Pi!=Qn.current.scale&&yr.zoom(Qn.current.scale/Pi,Qn.current.pageIndex).then(function(){Er.fullScreenMode===r.FullScreenMode.EnteredCompletely&&(Mr.current=-1)})},[kr]),d(function(){if(Kn!==Qn.current.viewMode){var on=yr.startPage,$n=yr.endPage,nr=yr.virtualItems;Ri.markNotRendered(),Ri.setRange(on,$n);for(var mr=function(sr){var Gr=nr.find(function(ls){return ls.index===sr});Gr&&Ri.setVisibility(sr,Gr.visibility)},ur=on;ur<=$n;ur++)mr(ur);pa()}},[Tn]),d(function(){var on=Qn.current.pageIndex;on>-1&&Kn!==Tn&&yr.scrollToItem(on,Ps)},[Tn]),d(function(){var on=Qn.current.pageIndex;on>0&&on===Lt&&qr.current===Lt&&Qr.current&&(qr.current=-1,Es(Qr.current))},[Ar]),a.useEffect(function(){yr.isSmoothScrolling||Or.current!==null&&Or.current===Ar||(Or.current=Ar,Fn({currentPage:Ar,doc:bt}))},[Ar,yr.isSmoothScrolling]),a.useEffect(function(){Er.fullScreenMode===r.FullScreenMode.Entering&&Qn.current.scrollMode===r.ScrollMode.Page&&(_r.current=Qn.current.pageIndex),Er.fullScreenMode===r.FullScreenMode.EnteredCompletely&&Qn.current.scrollMode===r.ScrollMode.Page&&Mt&&(_r.current=-1),Er.fullScreenMode===r.FullScreenMode.EnteredCompletely&&Qr.current&&(Mr.current=Qn.current.pageIndex,Es(Qr.current))},[Er.fullScreenMode]),a.useEffect(function(){if(Er.fullScreenMode!==r.FullScreenMode.Entering&&Er.fullScreenMode!==r.FullScreenMode.Exitting&&!yr.isSmoothScrolling){var on=yr.startPage,$n=yr.endPage,nr=yr.maxVisbilityIndex,mr=yr.virtualItems,ur=nr,sr=Er.fullScreenMode===r.FullScreenMode.Entered||Er.fullScreenMode===r.FullScreenMode.EnteredCompletely;if(!(sr&&ur!==_r.current&&_r.current>-1||sr&&ur!==Mr.current&&Mr.current>-1)){Wr(ur),ys(u(u({},Qn.current),{pageIndex:ur})),Ri.setRange(on,$n);for(var Gr=function(Ua){var ma=mr.find(function(cs){return cs.index===Ua});ma&&Ri.setVisibility(Ua,ma.visibility)},ls=on;ls<=$n;ls++)Gr(ls);pa()}}},[yr.startPage,yr.endPage,yr.isSmoothScrolling,yr.maxVisbilityIndex,Er.fullScreenMode,ti,Ir,kr]);var Us=a.useCallback(function(on){Ri.markRendered(on),pa()},[ua]),pa=function(){var on=Ri.getHighestPriorityPage();on>-1&&Ri.isInRange(on)&&(Ri.markRendering(on),ca(on))},ga=function(on){var $n=Ar-1,nr=Ar+1;switch(on){case"FirstPage":_s(0);break;case"LastPage":_s(kn-1);break;case"NextPage":nr<kn&&_s(nr);break;case"PrevPage":$n>=0&&_s($n)}},po=a.useCallback(function(){var on=yr.virtualItems,$n=[];switch(Tn){case r.ViewMode.DualPage:$n=Yn(on,2);break;case r.ViewMode.DualPageWithCover:on.length&&($n=on[0].index===0?[[on[0]]].concat(Yn(on.slice(1),2)):Yn(on,2));break;case r.ViewMode.SinglePage:default:$n=Yn(on,1)}var nr=cr&&cr.core?cr.core.pageLabel:"Page {{pageIndex}}",mr={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:fr,style:{height:"100%"}},children:a.createElement(a.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:Z({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Cn===r.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":pr,"rpv-core__inner-pages--single":Cn===r.ScrollMode.Page,"rpv-core__inner-pages--vertical":Cn===r.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Cn===r.ScrollMode.Wrapped}),ref:gr,style:{height:"100%",position:"relative"}},children:a.createElement("div",{"data-testid":"core__inner-current-page-".concat(Ar),style:Object.assign({"--scale-factor":kr},yr.getContainerStyles())},$n.map(function(ur){return a.createElement("div",{className:Z({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Cn===r.ScrollMode.Page}),style:yr.getItemContainerStyles(ur[0]),key:"".concat(ur[0].index,"-").concat(Tn)},ur.map(function(sr){var Gr=Tn===r.ViewMode.DualPageWithCover&&(sr.index===0||kn%2==0&&sr.index===kn-1);return a.createElement("div",{"aria-label":nr.replace("{{pageIndex}}","".concat(sr.index+1)),className:Z({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Tn===r.ViewMode.DualPage&&sr.index%2==0,"rpv-core__inner-page--dual-odd":Tn===r.ViewMode.DualPage&&sr.index%2==1,"rpv-core__inner-page--dual-cover":Gr,"rpv-core__inner-page--dual-cover-even":Tn===r.ViewMode.DualPageWithCover&&!Gr&&sr.index%2==0,"rpv-core__inner-page--dual-cover-odd":Tn===r.ViewMode.DualPageWithCover&&!Gr&&sr.index%2==1,"rpv-core__inner-page--single":Tn===r.ViewMode.SinglePage&&Cn===r.ScrollMode.Page}),role:"region",key:"".concat(sr.index,"-").concat(Tn),style:Object.assign({},yr.getItemStyles(sr),uo.buildPageStyles({numPages:kn,pageIndex:sr.index,scrollMode:Cn,viewMode:Tn}))},a.createElement(ii,{doc:bt,measureRef:sr.measureRef,outlines:tr,pageIndex:sr.index,pageRotation:Un.has(sr.index)?Un.get(sr.index):0,pageSize:zt[sr.index],plugins:Nt,renderPage:rn,renderQueueKey:ua,rotation:Ir,scale:kr,shouldRender:Rs===sr.index,viewMode:Tn,onExecuteNamedAction:ga,onJumpFromLinkAnnotation:$o,onJumpToDest:Ba,onRenderCompleted:Us,onRotatePage:ho}))}))}))}};return Nt.forEach(function(ur){ur.renderViewer&&(mr=ur.renderViewer({containerRef:fr,doc:bt,pagesContainerRef:gr,pagesRotation:Un,pageSizes:zt,rotation:Ir,slot:mr,themeContext:ir,jumpToPage:_s,openFile:Go,rotate:Xo,rotatePage:ho,switchScrollMode:Oi,switchViewMode:Hs,zoom:Es}))}),mr},[Nt,yr]),go=a.useCallback(function(on){return a.createElement("div",u({},on.attrs,{style:on.attrs&&on.attrs.style?on.attrs.style:{}}),on.children,on.subSlot&&go(on.subSlot))},[]);return go(po())},Na=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],ja=function(Ye){var dt=Ye.defaultScale,Et=Ye.doc,bt=Ye.render,Mt=Ye.scrollMode,Lt=Ye.viewMode,Bt=a.useRef(),It=a.useState({pageSizes:[],scale:0}),At=It[0],zt=It[1];return a.useLayoutEffect(function(){var Nt=Array(Et.numPages).fill(0).map(function(rn,tn){return new Promise(function(en,pn){or(Et,tn).then(function(ln){var cn=ln.getViewport({scale:1});en({pageHeight:cn.height,pageWidth:cn.width,rotation:cn.rotation})})})});Promise.all(Nt).then(function(rn){var tn=Bt.current;if(tn&&rn.length!==0){var en=rn[0].pageWidth,pn=rn[0].pageHeight,ln=tn.parentElement,cn=(ln.clientWidth-45)/en,Vn=(ln.clientHeight-45)/pn,Fn=cn;switch(Mt){case r.ScrollMode.Horizontal:Fn=Math.min(cn,Vn);break;case r.ScrollMode.Vertical:default:Fn=cn}var Pn,jn,Sn=dt?typeof dt=="string"?Ts(ln,pn,en,dt,Lt,Et.numPages):dt:(Pn=Fn,(jn=Na.findIndex(function(kn){return kn>=Pn}))===-1||jn===0?Pn:Na[jn-1]);zt({pageSizes:rn,scale:Sn})}})},[Et.loadingTask.docId]),At.pageSizes.length===0||At.scale===0?a.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:Bt},a.createElement(mt,null)):bt(At.pageSizes,At.scale)},Wi=function(){},Qi=function(Ye){function dt(Et,bt){var Mt=Ye.call(this)||this;return Mt.verifyPassword=Et,Mt.passwordStatus=bt,Mt}return it(dt,Ye),dt}(Wi),vs=function(Ye){var dt=Ye.passwordStatus,Et=Ye.renderProtectedView,bt=Ye.verifyPassword,Mt=Ye.onDocumentAskPassword,Lt=a.useContext(ee).l10n,Bt=a.useState(""),It=Bt[0],At=Bt[1],zt=a.useContext(y).direction===r.TextDirection.RightToLeft,Nt=function(){return bt(It)};return a.useEffect(function(){Mt&&Mt({verifyPassword:bt})},[]),Et?Et({passwordStatus:dt,verifyPassword:bt}):a.createElement("div",{className:"rpv-core__asking-password-wrapper"},a.createElement("div",{className:Z({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":zt})},a.createElement("div",{className:"rpv-core__asking-password-message"},dt===r.PasswordStatus.RequiredPassword&&Lt.core.askingPassword.requirePasswordToOpen,dt===r.PasswordStatus.WrongPassword&&Lt.core.wrongPassword.tryAgain),a.createElement("div",{className:"rpv-core__asking-password-body"},a.createElement("div",{className:Z({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!zt,"rpv-core__asking-password-input--rtl":zt})},a.createElement(pt,{testId:"core__asking-password-input",type:"password",value:It,onChange:At,onKeyDown:function(rn){rn.key==="Enter"&&Nt()}})),a.createElement(ct,{onClick:Nt},Lt.core.askingPassword.submit))))},zs=function(Ye){function dt(Et){var bt=Ye.call(this)||this;return bt.doc=Et,bt}return it(dt,Ye),dt}(Wi),Bs=function(Ye){function dt(Et){var bt=Ye.call(this)||this;return bt.error=Et,bt}return it(dt,Ye),dt}(Wi),Zi=function(Ye){function dt(Et){var bt=Ye.call(this)||this;return bt.percentages=Et,bt}return it(dt,Ye),dt}(Wi),Vl=function(Ye){var dt=Ye.characterMap,Et=Ye.file,bt=Ye.httpHeaders,Mt=Ye.render,Lt=Ye.renderError,Bt=Ye.renderLoader,It=Ye.renderProtectedView,At=Ye.transformGetDocumentParams,zt=Ye.withCredentials,Nt=Ye.onDocumentAskPassword,rn=a.useContext(y).direction===r.TextDirection.RightToLeft,tn=a.useState(new Zi(0)),en=tn[0],pn=tn[1],ln=a.useRef(""),cn=Tt();return a.useEffect(function(){ln.current="",pn(new Zi(0));var Vn=new G.PDFWorker({name:"PDFWorker_".concat(Date.now())}),Fn=Object.assign({httpHeaders:bt,withCredentials:zt,worker:Vn},typeof Et=="string"?{url:Et}:{data:Et},dt?{cMapUrl:dt.url,cMapPacked:dt.isCompressed}:{}),Pn=At?At(Fn):Fn,jn=G.getDocument(Pn);return jn.onPassword=function(Sn,kn){switch(kn){case G.PasswordResponses.NEED_PASSWORD:cn.current&&pn(new Qi(Sn,r.PasswordStatus.RequiredPassword));break;case G.PasswordResponses.INCORRECT_PASSWORD:cn.current&&pn(new Qi(Sn,r.PasswordStatus.WrongPassword))}},jn.onProgress=function(Sn){var kn=Sn.total>0?Math.min(100,100*Sn.loaded/Sn.total):100;cn.current&&ln.current===""&&pn(new Zi(kn))},jn.promise.then(function(Sn){ln.current=Sn.loadingTask.docId,cn.current&&pn(new zs(Sn))},function(Sn){return cn.current&&!Vn.destroyed&&pn(new Bs({message:Sn.message||"Cannot load document",name:Sn.name}))}),function(){jn.destroy(),Vn.destroy()}},[Et]),en instanceof Qi?a.createElement(vs,{passwordStatus:en.passwordStatus,renderProtectedView:It,verifyPassword:en.verifyPassword,onDocumentAskPassword:Nt}):en instanceof zs?Mt(en.doc):en instanceof Bs?Lt?Lt(en.error):a.createElement("div",{className:Z({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":rn})},a.createElement("div",{className:"rpv-core__doc-error-text"},en.error.message)):a.createElement("div",{"data-testid":"core__doc-loading",className:Z({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":rn})},Bt?Bt(en.percentages):a.createElement(mt,null))},Ho=function(Ye,dt){var Et=a.useMemo(function(){return Ye==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":Ye},[]),bt=a.useState(Et),Mt=bt[0],Lt=bt[1],Bt=Ct(Mt);return a.useEffect(function(){if(Ye==="auto"){var It=window.matchMedia("(prefers-color-scheme: dark)"),At=function(zt){Lt(zt.matches?"dark":"light")};return It.addEventListener("change",At),function(){return It.removeEventListener("change",At)}}},[]),a.useEffect(function(){Mt!==Bt&&dt&&dt(Mt)},[Mt]),a.useEffect(function(){Ye!==Mt&&Lt(Ye)},[Ye]),{currentTheme:Mt,setCurrentTheme:Lt}},la=function(Ye){return{startPage:Ye.startPage-3,endPage:Ye.endPage+3}};r.Button=function(Ye){var dt=Ye.children,Et=Ye.testId,bt=Ye.onClick,Mt=a.useContext(y).direction===r.TextDirection.RightToLeft,Lt=Et?{"data-testid":Et}:{};return a.createElement("button",u({className:Z({"rpv-core__button":!0,"rpv-core__button--rtl":Mt}),type:"button",onClick:bt},Lt),dt)},r.Icon=et,r.LazyRender=function(Ye){var dt=Ye.attrs,Et=Ye.children,bt=Ye.testId,Mt=a.useState(!1),Lt=Mt[0],Bt=Mt[1],It=bt?u(u({},dt),{"data-testid":bt}):dt,At=me({once:!0,onVisibilityChanged:function(zt){zt.isVisible&&Bt(!0)}});return a.createElement("div",u({ref:At},It),Lt&&Et)},r.LocalizationContext=ee,r.Menu=function(Ye){var dt=Ye.children,Et=a.useRef(),bt=a.useRef([]),Mt=a.useContext(y).direction===r.TextDirection.RightToLeft,Lt=function(It){if(Et.current)switch(It.key){case"Tab":It.preventDefault();break;case"ArrowDown":It.preventDefault(),Bt(function(At,zt){return zt+1});break;case"ArrowUp":It.preventDefault(),Bt(function(At,zt){return zt-1});break;case"End":It.preventDefault(),Bt(function(At,zt){return At.length-1});break;case"Home":It.preventDefault(),Bt(function(At,zt){return 0})}},Bt=function(It){if(Et.current){var At=bt.current,zt=At.findIndex(function(rn){return rn.getAttribute("tabindex")==="0"}),Nt=Math.min(At.length-1,Math.max(0,It(At,zt)));zt>=0&&zt<=At.length-1&&At[zt].setAttribute("tabindex","-1"),At[Nt].setAttribute("tabindex","0"),At[Nt].focus()}};return d(function(){var It=Et.current;if(It){var At=function(zt){var Nt=[];return zt.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(rn){if(rn instanceof HTMLElement){var tn=rn.parentElement;(tn===zt||window.getComputedStyle(tn).display!=="none")&&Nt.push(rn)}}),Nt}(It);bt.current=At}},[]),d(function(){return document.addEventListener("keydown",Lt),function(){document.removeEventListener("keydown",Lt)}},[]),a.createElement("div",{ref:Et,"aria-orientation":"vertical",className:Z({"rpv-core__menu":!0,"rpv-core__menu--rtl":Mt}),role:"menu",tabIndex:0},dt)},r.MenuDivider=function(){return a.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},r.MenuItem=function(Ye){var dt=Ye.checked,Et=dt!==void 0&&dt,bt=Ye.children,Mt=Ye.icon,Lt=Mt===void 0?null:Mt,Bt=Ye.isDisabled,It=Bt!==void 0&&Bt,At=Ye.testId,zt=Ye.onClick,Nt=a.useContext(y).direction===r.TextDirection.RightToLeft,rn=At?{"data-testid":At}:{};return a.createElement("button",u({className:Z({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":It,"rpv-core__menu-item--ltr":!Nt,"rpv-core__menu-item--rtl":Nt}),role:"menuitem",tabIndex:-1,type:"button",onClick:zt},rn),a.createElement("div",{className:Z({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Nt,"rpv-core__menu-item-icon--rtl":Nt})},Lt),a.createElement("div",{className:Z({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Nt,"rpv-core__menu-item-label--rtl":Nt})},bt),a.createElement("div",{className:Z({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Nt,"rpv-core__menu-item-check--rtl":Nt})},Et&&a.createElement(E,null)))},r.MinimalButton=function(Ye){var dt=Ye.ariaLabel,Et=dt===void 0?"":dt,bt=Ye.ariaKeyShortcuts,Mt=bt===void 0?"":bt,Lt=Ye.children,Bt=Ye.isDisabled,It=Bt!==void 0&&Bt,At=Ye.isSelected,zt=At!==void 0&&At,Nt=Ye.testId,rn=Ye.onClick,tn=a.useContext(y).direction===r.TextDirection.RightToLeft,en=Nt?{"data-testid":Nt}:{};return a.createElement("button",u({"aria-label":Et},Mt&&{"aria-keyshortcuts":Mt},It&&{"aria-disabled":!0},{className:Z({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":It,"rpv-core__minimal-button--rtl":tn,"rpv-core__minimal-button--selected":zt}),type:"button",onClick:rn},en),Lt)},r.Modal=function(Ye){var dt=Ye.ariaControlsSuffix,Et=Ye.closeOnClickOutside,bt=Ye.closeOnEscape,Mt=Ye.content,Lt=Ye.isOpened,Bt=Lt!==void 0&&Lt,It=Ye.target,At=dt||"".concat(at());return a.createElement(yt,{target:It?function(zt,Nt){return a.createElement("div",{"aria-expanded":Nt?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(At)},It(zt,Nt))}:null,content:function(zt){return a.createElement(st,null,a.createElement(x,{ariaControlsSuffix:At,closeOnClickOutside:Et,closeOnEscape:bt,onToggle:zt},Mt(zt)))},isOpened:Bt})},r.Popover=function(Ye){var dt=Ye.ariaHasPopup,Et=dt===void 0?"dialog":dt,bt=Ye.ariaControlsSuffix,Mt=Ye.closeOnClickOutside,Lt=Ye.closeOnEscape,Bt=Ye.content,It=Ye.lockScroll,At=It===void 0||It,zt=Ye.offset,Nt=Ye.position,rn=Ye.target,tn=gt(!1),en=tn.opened,pn=tn.toggle,ln=a.useRef(),cn=a.useMemo(function(){return bt||"".concat(at())},[]);return a.createElement("div",{ref:ln,"aria-expanded":en?"true":"false","aria-haspopup":Et,"aria-controls":"rpv-core__popver-body-".concat(cn)},rn(pn,en),en&&a.createElement(a.Fragment,null,At&&a.createElement(_n,{closeOnEscape:Lt,onClose:pn}),a.createElement(an,{ariaControlsSuffix:cn,closeOnClickOutside:Mt,offset:zt,position:Nt,targetRef:ln,onClose:pn},Bt(pn))))},r.PrimaryButton=ct,r.ProgressBar=function(Ye){var dt=Ye.progress,Et=a.useContext(y).direction===r.TextDirection.RightToLeft;return a.createElement("div",{className:Z({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Et})},a.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(dt,"%")}},dt,"%"))},r.Separator=function(){return a.createElement("div",{className:"rpv-core__separator"})},r.Spinner=mt,r.Splitter=function(Ye){var dt=Ye.constrain,Et=a.useContext(y).direction===r.TextDirection.RightToLeft,bt=a.useRef(),Mt=a.useRef(),Lt=a.useRef(),Bt=a.useRef(0),It=a.useRef(0),At=a.useRef(0),zt=a.useRef(0),Nt={capture:!0},rn=function(en){var pn=bt.current,ln=Mt.current,cn=Lt.current;if(pn&&ln&&cn){var Vn=zt.current,Fn=en.clientX-Bt.current,Pn=At.current+(Et?-Fn:Fn),jn=pn.parentElement.getBoundingClientRect().width,Sn=100*Pn/jn;if(pn.classList.add("rpv-core__splitter--resizing"),dt){var kn=jn-Pn-Vn;if(!dt({firstHalfPercentage:Sn,firstHalfSize:Pn,secondHalfPercentage:100*kn/jn,secondHalfSize:kn}))return}ln.style.width="".concat(Sn,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),ln.classList.add("rpv-core__splitter-sibling--resizing"),cn.classList.add("rpv-core__splitter-sibling--resizing")}},tn=function(en){var pn=bt.current,ln=Mt.current,cn=Lt.current;pn&&ln&&cn&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),pn.classList.remove("rpv-core__splitter--resizing"),ln.classList.remove("rpv-core__splitter-sibling--resizing"),cn.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",rn,Nt),document.removeEventListener("mouseup",tn,Nt))};return a.useEffect(function(){var en=bt.current;en&&(zt.current=en.getBoundingClientRect().width,Mt.current=en.previousElementSibling,Lt.current=en.nextElementSibling)},[]),a.createElement("div",{ref:bt,className:"rpv-core__splitter",onMouseDown:function(en){var pn=Mt.current;pn&&(Bt.current=en.clientX,It.current=en.clientY,At.current=pn.getBoundingClientRect().width,document.addEventListener("mousemove",rn,Nt),document.addEventListener("mouseup",tn,Nt))}})},r.TextBox=pt,r.ThemeContext=y,r.Tooltip=function(Ye){var dt=Ye.ariaControlsSuffix,Et=Ye.content,bt=Ye.offset,Mt=Ye.position,Lt=Ye.target,Bt=gt(!1),It=Bt.opened,At=Bt.toggle,zt=a.useRef(),Nt=a.useRef(),rn=a.useMemo(function(){return dt||"".concat(at())},[]);ut(function(){zt.current&&document.activeElement&&zt.current.contains(document.activeElement)&&en()});var tn=function(){At(r.ToggleStatus.Open)},en=function(){At(r.ToggleStatus.Close)};return a.createElement(a.Fragment,null,a.createElement("div",{ref:zt,"aria-describedby":"rpv-core__tooltip-body-".concat(rn),onBlur:function(pn){pn.relatedTarget instanceof HTMLElement&&pn.currentTarget.parentElement&&pn.currentTarget.parentElement.contains(pn.relatedTarget)?Nt.current&&(Nt.current.style.display="none"):en()},onFocus:tn,onMouseEnter:tn,onMouseLeave:en},Lt),It&&a.createElement(An,{ariaControlsSuffix:rn,contentRef:Nt,offset:bt,position:Mt,targetRef:zt},Et()))},r.Viewer=function(Ye){var dt=Ye.characterMap,Et=Ye.defaultScale,bt=Ye.enableSmoothScroll,Mt=bt===void 0||bt,Lt=Ye.fileUrl,Bt=Ye.httpHeaders,It=Bt===void 0?{}:Bt,At=Ye.initialPage,zt=At===void 0?0:At,Nt=Ye.pageLayout,rn=Ye.initialRotation,tn=rn===void 0?0:rn,en=Ye.localization,pn=Ye.plugins,ln=pn===void 0?[]:pn,cn=Ye.renderError,Vn=Ye.renderLoader,Fn=Ye.renderPage,Pn=Ye.renderProtectedView,jn=Ye.scrollMode,Sn=jn===void 0?r.ScrollMode.Vertical:jn,kn=Ye.setRenderRange,In=kn===void 0?la:kn,cr=Ye.transformGetDocumentParams,ir=Ye.theme,pr=ir===void 0?{direction:r.TextDirection.LeftToRight,theme:"light"}:ir,fr=Ye.viewMode,gr=fr===void 0?r.ViewMode.SinglePage:fr,Fr=Ye.withCredentials,Ar=Fr!==void 0&&Fr,Wr=Ye.onDocumentAskPassword,Or=Ye.onDocumentLoad,Br=Or===void 0?function(){}:Or,Hr=Ye.onPageChange,Ir=Hr===void 0?function(){}:Hr,ci=Ye.onRotate,Ji=ci===void 0?function(){}:ci,Vi=Ye.onRotatePage,ti=Vi===void 0?function(){}:Vi,Ei=Ye.onSwitchTheme,es=Ei===void 0?function(){}:Ei,Un=Ye.onZoom,On=Un===void 0?function(){}:Un,xn=a.useState({data:Lt,name:typeof Lt=="string"?Lt:"",shouldLoad:!1}),Cn=xn[0],wn=xn[1],Wn=function(_r,Mr){wn({data:Mr,name:_r,shouldLoad:!0})},qn=a.useState(!1),Tn=qn[0],En=qn[1],Kn=Ct(Cn);a.useEffect(function(){var _r,Mr,qr,Er;_r=Kn.data,Er=typeof(Mr=Lt),(qr=typeof _r)=="string"&&Er==="string"&&_r===Mr||qr==="object"&&Er==="object"&&_r.length===Mr.length&&_r.every(function(os,Rs){return os===Mr[Rs]})||wn({data:Lt,name:typeof Lt=="string"?Lt:"",shouldLoad:Tn})},[Lt,Tn]);var tr=me({onVisibilityChanged:function(_r){En(_r.isVisible),_r.isVisible&&wn(function(Mr){return Object.assign({},Mr,{shouldLoad:!0})})}}),Rr=typeof pr=="string"?{direction:r.TextDirection.LeftToRight,theme:pr}:pr,kr=a.useState(en||ne),si=kr[0],Pi=kr[1],Qn={l10n:si,setL10n:Pi},Qr=Object.assign({},{direction:Rr.direction},Ho(Rr.theme||"light",es));return a.useEffect(function(){en&&Pi(en)},[en]),a.createElement(ee.Provider,{value:Qn},a.createElement(y.Provider,{value:Qr},a.createElement("div",{ref:tr,className:"rpv-core__viewer rpv-core__viewer--".concat(Qr.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Cn.shouldLoad&&a.createElement(Vl,{characterMap:dt,file:Cn.data,httpHeaders:It,render:function(_r){return a.createElement(ja,{defaultScale:Et,doc:_r,render:function(Mr,qr){return a.createElement(Bo,{currentFile:{data:Cn.data,name:Cn.name},defaultScale:Et,doc:_r,enableSmoothScroll:Mt,initialPage:zt,initialRotation:tn,initialScale:qr,pageLayout:Nt,pageSizes:Mr,plugins:ln,renderPage:Fn,scrollMode:Sn,setRenderRange:In,viewMode:gr,viewerState:{file:Cn,fullScreenMode:r.FullScreenMode.Normal,pageIndex:-1,pageHeight:Mr[0].pageHeight,pageWidth:Mr[0].pageWidth,pagesRotation:new Map,rotation:tn,scale:qr,scrollMode:Sn,viewMode:gr},onDocumentLoad:Br,onOpenFile:Wn,onPageChange:Ir,onRotate:Ji,onRotatePage:ti,onZoom:On})},scrollMode:Sn,viewMode:gr})},renderError:cn,renderLoader:Vn,renderProtectedView:Pn,transformGetDocumentParams:cr,withCredentials:Ar,onDocumentAskPassword:Wr}))))},r.Worker=function(Ye){var dt=Ye.children,Et=Ye.workerUrl;return G.GlobalWorkerOptions.workerSrc=Et,a.createElement(a.Fragment,null,dt)},r.chunk=Yn,r.classNames=Z,r.createStore=function(Ye){var dt=Ye||{},Et={},bt=function(Lt,Bt){var It;dt=u(u({},dt),((It={})[Lt]=Bt,It)),(Et[Lt]||[]).forEach(function(At){return At(dt[Lt])})},Mt=function(Lt){return dt[Lt]};return{subscribe:function(Lt,Bt){Et[Lt]=(Et[Lt]||[]).concat(Bt)},unsubscribe:function(Lt,Bt){Et[Lt]=(Et[Lt]||[]).filter(function(It){return It!==Bt})},update:function(Lt,Bt){bt(Lt,Bt)},updateCurrentValue:function(Lt,Bt){var It=Mt(Lt);It!==void 0&&bt(Lt,Bt(It))},get:function(Lt){return Mt(Lt)}}},r.getDestination=oi,r.getPage=or,r.isFullScreenEnabled=_t,r.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},r.useDebounceCallback=$t,r.useIntersectionObserver=me,r.useIsMounted=Tt,r.useIsomorphicLayoutEffect=d,r.usePrevious=Ct,r.useRenderQueue=Y}(core_min)),core_min}var hasRequiredLib$2;function requireLib$2(){if(hasRequiredLib$2)return lib$2.exports;hasRequiredLib$2=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$2.exports=requireCore_min(),lib$2.exports}var libExports$2=requireLib$2(),lib$1={exports:{}},pageNavigation_min={},hasRequiredPageNavigation_min;function requirePageNavigation_min(){if(hasRequiredPageNavigation_min)return pageNavigation_min;hasRequiredPageNavigation_min=1;var r=requireLib$2();function i(Tt){var Ct=Object.create(null);return Tt&&Object.keys(Tt).forEach(function(lt){if(lt!=="default"){var Ve=Object.getOwnPropertyDescriptor(Tt,lt);Object.defineProperty(Ct,lt,Ve.get?Ve:{enumerable:!0,get:function(){return Tt[lt]}})}}),Ct.default=Tt,Object.freeze(Ct)}var s=i(requireReact()),l=function(){return s.createElement(r.Icon,{size:16},s.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},c=function(){return s.createElement(r.Icon,{size:16},s.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},a=function(){return a=Object.assign||function(Tt){for(var Ct,lt=1,Ve=arguments.length;lt<Ve;lt++)for(var Y in Ct=arguments[lt])Object.prototype.hasOwnProperty.call(Ct,Y)&&(Tt[Y]=Ct[Y]);return Tt},a.apply(this,arguments)},G=function(Tt){var Ct=s.useState(Tt.get("currentPage")||0),lt=Ct[0],Ve=Ct[1],Y=function(ne){Ve(ne)};return r.useIsomorphicLayoutEffect(function(){return Tt.subscribe("currentPage",Y),function(){Tt.unsubscribe("currentPage",Y)}},[]),{currentPage:lt}},tt=function(Tt){var Ct=s.useState(Tt.get("numberOfPages")||0),lt=Ct[0],Ve=Ct[1],Y=function(ne){Ve(ne)};return s.useEffect(function(){return Tt.subscribe("numberOfPages",Y),function(){Tt.unsubscribe("numberOfPages",Y)}},[]),{numberOfPages:lt}},it=function(Tt){var Ct=Tt.store,lt=s.useContext(r.LocalizationContext).l10n,Ve=s.useState("1"),Y=Ve[0],ne=Ve[1],ee=G(Ct).currentPage,rt=tt(Ct).numberOfPages;s.useEffect(function(){return ne("".concat(ee+1))},[ee]);var at=function(ut){var x=Ct.get("jumpToPage");x&&x(ut)},vt=lt&&lt.pageNavigation?lt.pageNavigation.enterPageNumber:"Enter a page number";return s.createElement("span",{className:"rpv-page-navigation__current-page-input"},s.createElement(r.TextBox,{ariaLabel:vt,testId:"page-navigation__current-page-input",type:"text",value:Y,onChange:ne,onKeyDown:function(ut){switch(ut.key){case"ArrowUp":(ot=ee-1)>=0&&(ne("".concat(ot+1)),at(ot));break;case"ArrowDown":(st=ee+1)<rt&&(ne("".concat(st+1)),at(st));break;case"Enter":x=parseInt(Y,10),Y===""||x<1||x>rt?ne("".concat(ee+1)):at(x-1)}var x,st,ot}}))},f=function(Tt){var Ct=Tt.children,lt=Tt.doc,Ve=r.useIsMounted(),Y=s.useState({loading:!0,labels:[]}),ne=Y[0],ee=Y[1];return s.useEffect(function(){lt.getPageLabels().then(function(rt){Ve.current&&ee({loading:!1,labels:rt||[]})})},[lt.loadingTask.docId]),ne.loading?s.createElement(s.Fragment,null):Ct(ne.labels)},u=function(Tt){var Ct=Tt.children,lt=Tt.store,Ve=function(rt){var at=s.useState(rt.get("doc")),vt=at[0],ut=at[1],x=function(st){ut(st)};return s.useEffect(function(){return rt.subscribe("doc",x),function(){rt.unsubscribe("doc",x)}},[]),vt}(lt),Y=G(lt).currentPage,ne=tt(lt).numberOfPages,ee=Ct||function(rt){return s.createElement(s.Fragment,null,rt.currentPage+1)};return Ve?s.createElement(f,{doc:Ve},function(rt){var at=rt.length===ne&&ne>0?rt[Y]:"";return ee({currentPage:Y,numberOfPages:ne,pageLabel:at})}):s.createElement(s.Fragment,null)},p=function(){return s.createElement(r.Icon,{size:16},s.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},y={left:0,top:8},Z=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToFirstPage:"First page";return s.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaLabel:Y,isDisabled:Ct,testId:"page-navigation__first-button",onClick:lt},s.createElement(p,null)),content:function(){return Y},offset:y})},d=function(Tt){var Ct=Tt.children,lt=Tt.store;return(Ct||function(Ve){return s.createElement(Z,{isDisabled:Ve.isDisabled,onClick:Ve.onClick})})({isDisabled:G(lt).currentPage===0,onClick:function(){var Ve=lt.get("jumpToPage");Ve&&Ve(0)}})},me=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToFirstPage:"First page";return s.createElement(r.MenuItem,{icon:s.createElement(p,null),isDisabled:Ct,testId:"page-navigation__first-menu",onClick:lt},Y)},et={left:0,top:8},E=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToLastPage:"Last page";return s.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaLabel:Y,isDisabled:Ct,testId:"page-navigation__last-button",onClick:lt},s.createElement(l,null)),content:function(){return Y},offset:et})},ct=function(Tt){var Ct=Tt.children,lt=Tt.store,Ve=G(lt).currentPage,Y=tt(lt).numberOfPages;return(Ct||function(ne){return s.createElement(E,{isDisabled:ne.isDisabled,onClick:ne.onClick})})({isDisabled:Ve+1>=Y,onClick:function(){var ne=lt.get("jumpToPage");ne&&ne(Y-1)}})},mt=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToLastPage:"Last page";return s.createElement(r.MenuItem,{icon:s.createElement(l,null),isDisabled:Ct,testId:"page-navigation__last-menu",onClick:lt},Y)},pt={left:0,top:8},nt=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToNextPage:"Next page";return s.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaLabel:Y,isDisabled:Ct,testId:"page-navigation__next-button",onClick:lt},s.createElement(c,null)),content:function(){return Y},offset:pt})},ft=function(Tt){var Ct=Tt.children,lt=Tt.store;return(Ct||function(Ve){return s.createElement(nt,{onClick:Ve.onClick,isDisabled:Ve.isDisabled})})({isDisabled:G(lt).currentPage+1>=tt(lt).numberOfPages,onClick:function(){var Ve=lt.get("jumpToNextPage");Ve&&Ve()}})},wt=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToNextPage:"Next page";return s.createElement(r.MenuItem,{icon:s.createElement(c,null),isDisabled:Ct,testId:"page-navigation__next-menu",onClick:lt},Y)},Pt=function(){return s.createElement(r.Icon,{size:16},s.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},St={left:0,top:8},jt=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToPreviousPage:"Previous page";return s.createElement(r.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaLabel:Y,isDisabled:Ct,testId:"page-navigation__previous-button",onClick:lt},s.createElement(Pt,null)),content:function(){return Y},offset:St})},_t=function(Tt){var Ct=Tt.store;return(Tt.children||function(lt){return s.createElement(jt,{isDisabled:lt.isDisabled,onClick:lt.onClick})})({isDisabled:G(Ct).currentPage<=0,onClick:function(){var lt=Ct.get("jumpToPreviousPage");lt&&lt()}})},Vt=function(Tt){var Ct=Tt.isDisabled,lt=Tt.onClick,Ve=s.useContext(r.LocalizationContext).l10n,Y=Ve&&Ve.pageNavigation?Ve.pageNavigation.goToPreviousPage:"Previous page";return s.createElement(r.MenuItem,{icon:s.createElement(Pt,null),isDisabled:Ct,testId:"page-navigation__previous-menu",onClick:lt},Y)},Dt=function(Tt){var Ct=Tt.children,lt=Tt.store,Ve=tt(lt).numberOfPages;return Ct?Ct({numberOfPages:Ve}):s.createElement(s.Fragment,null,Ve)},$t=function(Tt){var Ct=Tt.containerRef,lt=Tt.numPages,Ve=Tt.store,Y=G(Ve).currentPage,ne=s.useRef(Y);ne.current=Y;var ee=s.useRef(!1),rt=function(){ee.current=!0},at=function(){ee.current=!1},vt=function(ut){var x=Ct.current,st=ee.current||document.activeElement&&x.contains(document.activeElement);if(x&&st){var ot,gt,yt=ut.altKey&&ut.key==="ArrowDown"||!ut.shiftKey&&!ut.altKey&&ut.key==="PageDown",xt=ut.altKey&&ut.key==="ArrowUp"||!ut.shiftKey&&!ut.altKey&&ut.key==="PageUp";if(yt)return ut.preventDefault(),ot=Ve.get("jumpToPage"),gt=ne.current+1,void(ot&&gt<lt&&ot(gt));if(xt)return ut.preventDefault(),void function(){var Rt=Ve.get("jumpToPage"),qt=ne.current-1;Rt&&qt>=0&&Rt(qt)}();if(r.isMac()?ut.metaKey&&!ut.ctrlKey:ut.altKey)switch(ut.key){case"ArrowLeft":ut.preventDefault(),function(){var Rt=Ve.get("jumpToPreviousDestination");Rt&&Rt()}();break;case"ArrowRight":ut.preventDefault(),function(){var Rt=Ve.get("jumpToNextDestination");Rt&&Rt()}()}}};return s.useEffect(function(){var ut=Ct.current;if(ut)return document.addEventListener("keydown",vt),ut.addEventListener("mouseenter",rt),ut.addEventListener("mouseleave",at),function(){document.removeEventListener("keydown",vt),ut.removeEventListener("mouseenter",rt),ut.removeEventListener("mouseleave",at)}},[Ct.current]),s.createElement(s.Fragment,null)};return pageNavigation_min.DownArrowIcon=l,pageNavigation_min.NextIcon=c,pageNavigation_min.PreviousIcon=Pt,pageNavigation_min.UpArrowIcon=p,pageNavigation_min.pageNavigationPlugin=function(Tt){var Ct=s.useMemo(function(){return Object.assign({},{enableShortcuts:!0},Tt)},[]),lt=s.useMemo(function(){return r.createStore()},[]),Ve=function(rt){return s.createElement(d,a({},rt,{store:lt}))},Y=function(rt){return s.createElement(ct,a({},rt,{store:lt}))},ne=function(rt){return s.createElement(ft,a({},rt,{store:lt}))},ee=function(rt){return s.createElement(_t,a({},rt,{store:lt}))};return{install:function(rt){lt.update("jumpToDestination",rt.jumpToDestination),lt.update("jumpToNextDestination",rt.jumpToNextDestination),lt.update("jumpToNextPage",rt.jumpToNextPage),lt.update("jumpToPage",rt.jumpToPage),lt.update("jumpToPreviousDestination",rt.jumpToPreviousDestination),lt.update("jumpToPreviousPage",rt.jumpToPreviousPage)},renderViewer:function(rt){var at=rt.slot;if(!Ct.enableShortcuts)return at;var vt={children:s.createElement(s.Fragment,null,s.createElement($t,{containerRef:rt.containerRef,numPages:rt.doc.numPages,store:lt}),at.children)};return a(a({},at),vt)},onDocumentLoad:function(rt){lt.update("doc",rt.doc),lt.update("numberOfPages",rt.doc.numPages)},onViewerStateChange:function(rt){return lt.update("currentPage",rt.pageIndex),rt},jumpToNextPage:function(){var rt=lt.get("jumpToNextPage");rt&&rt()},jumpToPage:function(rt){var at=lt.get("jumpToPage");at&&at(rt)},jumpToPreviousPage:function(){var rt=lt.get("jumpToPreviousPage");rt&&rt()},CurrentPageInput:function(){return s.createElement(it,{store:lt})},CurrentPageLabel:function(rt){return s.createElement(u,a({},rt,{store:lt}))},GoToFirstPage:Ve,GoToFirstPageButton:function(){return s.createElement(Ve,null,function(rt){return s.createElement(Z,a({},rt))})},GoToFirstPageMenuItem:function(rt){return s.createElement(Ve,null,function(at){return s.createElement(me,{isDisabled:at.isDisabled,onClick:function(){at.onClick(),rt.onClick()}})})},GoToLastPage:Y,GoToLastPageButton:function(){return s.createElement(Y,null,function(rt){return s.createElement(E,a({},rt))})},GoToLastPageMenuItem:function(rt){return s.createElement(Y,null,function(at){return s.createElement(mt,{isDisabled:at.isDisabled,onClick:function(){at.onClick(),rt.onClick()}})})},GoToNextPage:ne,GoToNextPageButton:function(){return s.createElement(ne,null,function(rt){return s.createElement(nt,a({},rt))})},GoToNextPageMenuItem:function(rt){return s.createElement(ne,null,function(at){return s.createElement(wt,{isDisabled:at.isDisabled,onClick:function(){at.onClick(),rt.onClick()}})})},GoToPreviousPage:ee,GoToPreviousPageButton:function(){return s.createElement(ee,null,function(rt){return s.createElement(jt,a({},rt))})},GoToPreviousPageMenuItem:function(rt){return s.createElement(ee,null,function(at){return s.createElement(Vt,{isDisabled:at.isDisabled,onClick:function(){at.onClick(),rt.onClick()}})})},NumberOfPages:function(rt){return s.createElement(Dt,a({},rt,{store:lt}))}}},pageNavigation_min}var hasRequiredLib$1;function requireLib$1(){if(hasRequiredLib$1)return lib$1.exports;hasRequiredLib$1=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib$1.exports=requirePageNavigation_min(),lib$1.exports}var libExports$1=requireLib$1(),lib={exports:{}},search_min={},hasRequiredSearch_min;function requireSearch_min(){if(hasRequiredSearch_min)return search_min;hasRequiredSearch_min=1;var r=requireLib$2();function i(_t){var Vt=Object.create(null);return _t&&Object.keys(_t).forEach(function(Dt){if(Dt!=="default"){var $t=Object.getOwnPropertyDescriptor(_t,Dt);Object.defineProperty(Vt,Dt,$t.get?$t:{enumerable:!0,get:function(){return _t[Dt]}})}}),Vt.default=_t,Object.freeze(Vt)}var s=i(requireReact()),l=function(){return s.createElement(r.Icon,{size:16},s.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},c=function(){return s.createElement(r.Icon,{size:16},s.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a=function(){return s.createElement(r.Icon,{ignoreDirection:!0,size:16},s.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},G=function(){return G=Object.assign||function(_t){for(var Vt,Dt=1,$t=arguments.length;Dt<$t;Dt++)for(var Tt in Vt=arguments[Dt])Object.prototype.hasOwnProperty.call(Vt,Tt)&&(_t[Tt]=Vt[Tt]);return _t},G.apply(this,arguments)},tt={keyword:"",regExp:new RegExp(" "),wholeWords:!1},it=function(_t){return{left:"".concat(_t.left,"%"),top:"".concat(_t.top,"%"),height:"".concat(_t.height,"%"),width:"".concat(_t.width,"%")}},f=function(_t){var Vt=_t.index,Dt=_t.area,$t=_t.onHighlightKeyword,Tt=s.useRef();return r.useIsomorphicLayoutEffect(function(){var Ct=Tt.current;$t&&Ct&&$t({highlightEle:Ct,keyword:Dt.keyword})},[]),s.createElement("div",{className:"rpv-search__highlight","data-index":Vt,ref:Tt,style:it(Dt),title:Dt.keywordStr.trim()})},u=function(_t){var Vt=_t.parentNode;Vt&&Vt.removeChild(_t)},p=function(_t){var Vt=_t.parentNode;if(Vt){var Dt=document.createRange();Dt.selectNodeContents(_t),function($t,Tt){u($t);var Ct=Tt.parentNode;Ct&&Ct.insertBefore($t,Tt),u(Tt)}(Dt.extractContents(),_t),Vt.normalize()}},y=function(_t,Vt){return _t.top<Vt.top?-1:_t.top>Vt.top?1:_t.left<Vt.left?-1:_t.left>Vt.left?1:0},Z=function(_t){var Vt=_t.numPages,Dt=_t.pageIndex,$t=_t.renderHighlights,Tt=_t.store,Ct=_t.onHighlightKeyword,lt=s.useRef(),Ve=s.useCallback(function(an){return s.createElement(s.Fragment,null,an.highlightAreas.map(function(_n,An){return s.createElement(f,{index:An,key:An,area:_n,onHighlightKeyword:Ct})}))},[]),Y=$t||Ve,ne=s.useState(Tt.get("matchPosition")),ee=ne[0],rt=ne[1],at=s.useState(Tt.get("keyword")||[tt]),vt=at[0],ut=at[1],x=s.useState({pageIndex:Dt,scale:1,status:r.LayerRenderStatus.PreRender}),st=x[0],ot=x[1],gt=s.useRef(null),yt=s.useRef([]),xt=s.useState([]),Rt=xt[0],qt=xt[1],un=function(){return!0},Yt=s.useCallback(function(){return Tt.get("targetPageFilter")||un},[Tt.get("targetPageFilter")]),Qt=function(an){var _n=yt.current;if(_n.length===0)return[];var An=[],Mn=[].slice.call(an.querySelectorAll(".rpv-core__text-layer-text")),Yn=_n.map(function(ar){return ar.char}).join("");return vt.forEach(function(ar){var er=ar.keyword;if(er.trim()){for(var Tr,dr=ar.regExp.flags.indexOf("g")===-1?new RegExp(ar.regExp,"".concat(ar.regExp.flags,"g")):ar.regExp,hr=[];(Tr=dr.exec(Yn))!==null;)hr.push({keyword:dr,startIndex:Tr.index,endIndex:dr.lastIndex});hr.map(function(or){return{keyword:or.keyword,indexes:_n.slice(or.startIndex,or.endIndex)}}).forEach(function(or){var oi=or.indexes.reduce(function(Sr,sn){return Sr[sn.spanIndex]=(Sr[sn.spanIndex]||[]).concat([sn]),Sr},{});Object.values(oi).forEach(function(Sr){if(Sr.length!==1||Sr[0].char.trim()!==""){var sn=ar.wholeWords?Sr.slice(1,-1):Sr,Wt=function(Ut,mn,lr,zn,Zn){var Jr=document.createRange(),Dr=zn.firstChild;if(!Dr||Dr.nodeType!==Node.TEXT_NODE)return null;var gi=Dr.textContent.length,jr=Zn[0].charIndexInSpan,vr=Zn.length===1?jr:Zn[Zn.length-1].charIndexInSpan;if(jr>gi||vr+1>gi)return null;Jr.setStart(Dr,jr),Jr.setEnd(Dr,vr+1);var zr=document.createElement("span");Jr.surroundContents(zr);var _i=zr.getBoundingClientRect(),xr=lr.getBoundingClientRect(),mi=xr.height,li=xr.width,Fi=100*(_i.left-xr.left)/li,Ai=100*(_i.top-xr.top)/mi,Kr=100*_i.height/mi,Pr=100*_i.width/li;return p(zr),{keyword:mn,keywordStr:Ut,numPages:Vt,pageIndex:Dt,left:Fi,top:Ai,height:Kr,width:Pr,pageHeight:mi,pageWidth:li}}(er,or.keyword,an,Mn[sn[0].spanIndex],sn);Wt&&An.push(Wt)}})})}}),An.sort(y)},Jt=function(an){an&&an.length>0&&ut(an)},Gt=function(an){return rt(an)},nn=function(an){if(an.has(Dt)){var _n=an.get(Dt);_n&&ot({ele:_n.ele,pageIndex:Dt,scale:_n.scale,status:_n.status})}},fn=function(){return vt.length===0||vt.length===1&&vt[0].keyword.trim()===""};return s.useEffect(function(){if(!fn()&&st.status===r.LayerRenderStatus.DidRender&&!yt.current.length){var an=st.ele,_n=[].slice.call(an.querySelectorAll(".rpv-core__text-layer-text")).map(function(An){return An.textContent}).reduce(function(An,Mn,Yn){return An.concat(Mn.split("").map(function(ar,er){return{char:ar,charIndexInSpan:er,spanIndex:Yn}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);yt.current=_n}},[vt,st.status]),s.useEffect(function(){if(!fn()&&st.ele&&st.status===r.LayerRenderStatus.DidRender&&Yt()({pageIndex:Dt,numPages:Vt})){var an=st.ele,_n=Qt(an);qt(_n)}},[vt,ee,st.status,yt.current]),s.useEffect(function(){fn()&&st.ele&&st.status===r.LayerRenderStatus.DidRender&&qt([])},[vt,st.status]),s.useEffect(function(){if(Rt.length!==0){var an=lt.current;if(ee.pageIndex===Dt&&an&&st.status===r.LayerRenderStatus.DidRender){var _n=an.querySelector('.rpv-search__highlight[data-index="'.concat(ee.matchIndex,'"]'));if(_n){var An=function(er,Tr){for(var dr=er.offsetTop,hr=er.offsetLeft,or=er.parentElement;or&&or!==Tr;)dr+=or.offsetTop,hr+=or.offsetLeft,or=or.parentElement;return{left:hr,top:dr}}(_n,an),Mn=An.left,Yn=An.top,ar=Tt.get("jumpToDestination");ar&&(ar({pageIndex:Dt,bottomOffset:(an.getBoundingClientRect().height-Yn)/st.scale,leftOffset:Mn/st.scale,scaleTo:st.scale}),gt.current&&gt.current.classList.remove("rpv-search__highlight--current"),gt.current=_n,_n.classList.add("rpv-search__highlight--current"))}}}},[Rt,ee]),s.useEffect(function(){return Tt.subscribe("keyword",Jt),Tt.subscribe("matchPosition",Gt),Tt.subscribe("renderStatus",nn),function(){Tt.unsubscribe("keyword",Jt),Tt.unsubscribe("matchPosition",Gt),Tt.unsubscribe("renderStatus",nn)}},[]),s.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(Dt),ref:lt},Y({getCssProperties:it,highlightAreas:Rt}))},d=function(_t){var Vt,Dt=_t.wholeWords?" ".concat(_t.keyword," "):_t.keyword,$t=_t.matchCase?"g":"gi";return{keyword:_t.keyword,regExp:new RegExp((Vt=Dt,Vt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),$t),wholeWords:_t.wholeWords||!1}},me=function(_t,Vt,Dt){return _t instanceof RegExp?{keyword:_t.source,regExp:_t,wholeWords:Dt||!1}:typeof _t=="string"?_t===""?tt:d({keyword:_t,matchCase:Vt||!1,wholeWords:Dt||!1}):(Vt!==void 0&&(_t.matchCase=Vt),Dt!==void 0&&(_t.wholeWords=Dt),d(_t))},et=function(_t){var Vt,Dt=_t.get("initialKeyword"),$t=s.useMemo(function(){if(Dt&&Dt.length===1){var Gt=me(Dt[0]);return{matchCase:Gt.regExp.flags.indexOf("i")===-1,wholeWords:Gt.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),Tt=function(Gt){var nn=s.useRef(Gt.get("doc")),fn=function(an){nn.current=an};return s.useEffect(function(){return Gt.subscribe("doc",fn),function(){Gt.unsubscribe("doc",fn)}},[]),nn}(_t),Ct=s.useState(Dt),lt=Ct[0],Ve=Ct[1],Y=s.useState([]),ne=Y[0],ee=Y[1],rt=s.useState(0),at=rt[0],vt=rt[1],ut=s.useState($t.matchCase),x=ut[0],st=ut[1],ot=s.useRef([]),gt=s.useState($t.wholeWords),yt=gt[0],xt=gt[1],Rt=function(){return!0},qt=s.useCallback(function(){return _t.get("targetPageFilter")||Rt},[_t.get("targetPageFilter")]),un=function(Gt){var nn=ne.length;if(lt.length===0||nn===0)return null;var fn=Gt===nn+1?1:Math.max(1,Math.min(nn,Gt));return vt(fn),Qt(ne[fn-1])},Yt=function(Gt){return Ve(Gt===""?[]:[Gt])},Qt=function(Gt){var nn=_t.get("jumpToPage");return nn&&nn(Gt.pageIndex),_t.update("matchPosition",{matchIndex:Gt.matchIndex,pageIndex:Gt.pageIndex}),Gt},Jt=function(Gt,nn,fn){var an=Tt.current;if(!an)return Promise.resolve([]);var _n=an.numPages,An=Gt.map(function(Mn){return me(Mn,nn,fn)});return _t.update("keyword",An),vt(0),ee([]),new Promise(function(Mn,Yn){var ar=ot.current.length===0?function(){var er=Tt.current;if(!er)return Promise.resolve([]);var Tr=Array(er.numPages).fill(0).map(function(dr,hr){return r.getPage(er,hr).then(function(or){return or.getTextContent()}).then(function(or){var oi=or.items.map(function(Sr){return Sr.str||""}).join("");return Promise.resolve({pageContent:oi,pageIndex:hr})})});return Promise.all(Tr).then(function(dr){return dr.sort(function(hr,or){return hr.pageIndex-or.pageIndex}),Promise.resolve(dr.map(function(hr){return hr.pageContent}))})}().then(function(er){return ot.current=er,Promise.resolve(er)}):Promise.resolve(ot.current);ar.then(function(er){var Tr=[];er.forEach(function(dr,hr){qt()({pageIndex:hr,numPages:_n})&&An.forEach(function(or){for(var oi,Sr=0;(oi=or.regExp.exec(dr))!==null;)Tr.push({keyword:or.regExp,matchIndex:Sr,pageIndex:hr,pageText:dr,startIndex:oi.index,endIndex:or.regExp.lastIndex}),Sr++})}),ee(Tr),Tr.length>0&&(vt(1),Qt(Tr[0])),Mn(Tr)})})};return s.useEffect(function(){ot.current=[]},[Tt.current]),{clearKeyword:function(){_t.update("keyword",[tt]),Yt(""),vt(0),ee([]),st(!1),xt(!1)},changeMatchCase:function(Gt){st(Gt),lt.length>0&&Jt(lt,Gt,yt)},changeWholeWords:function(Gt){xt(Gt),lt.length>0&&Jt(lt,x,Gt)},currentMatch:at,jumpToMatch:un,jumpToNextMatch:function(){return un(at+1)},jumpToPreviousMatch:function(){return un(at-1)},keywords:lt,matchCase:x,numberOfMatches:ne.length,wholeWords:yt,search:function(){return Jt(lt,x,yt)},searchFor:Jt,setKeywords:Ve,keyword:lt.length===0?"":(Vt=lt[0],Vt instanceof RegExp?Vt.source:typeof Vt=="string"?Vt:Vt.keyword),setKeyword:Yt,setTargetPages:function(Gt){_t.update("targetPageFilter",Gt)}}},E=function(_t){var Vt=_t.children,Dt=_t.store,$t=et(Dt),Tt=s.useState(!1),Ct=Tt[0],lt=Tt[1],Ve=function(Y){return lt(!0)};return s.useEffect(function(){return Dt.subscribe("doc",Ve),function(){Dt.unsubscribe("doc",Ve)}},[]),Vt(G(G({},$t),{isDocumentLoaded:Ct}))},ct=function(_t){var Vt=_t.containerRef,Dt=_t.store,$t=s.useRef(!1),Tt=function(){$t.current=!0},Ct=function(){$t.current=!1},lt=function(Ve){var Y=Vt.current;Y&&(Ve.shiftKey||Ve.altKey||Ve.key!=="f"||(r.isMac()?Ve.metaKey&&!Ve.ctrlKey:Ve.ctrlKey)&&($t.current||document.activeElement&&Y.contains(document.activeElement))&&(Ve.preventDefault(),Dt.update("areShortcutsPressed",!0)))};return s.useEffect(function(){var Ve=Vt.current;if(Ve)return document.addEventListener("keydown",lt),Ve.addEventListener("mouseenter",Tt),Ve.addEventListener("mouseleave",Ct),function(){document.removeEventListener("keydown",lt),Ve.removeEventListener("mouseenter",Tt),Ve.removeEventListener("mouseleave",Ct)}},[Vt.current]),s.createElement(s.Fragment,null)},mt={left:0,top:8},pt=function(_t){var Vt=_t.store,Dt=_t.onToggle,$t=s.useContext(r.LocalizationContext).l10n,Tt=s.useContext(r.ThemeContext).direction,Ct=s.useState(!1),lt=Ct[0],Ve=Ct[1],Y=s.useState(!1),ne=Y[0],ee=Y[1],rt=Tt===r.TextDirection.RightToLeft,at=et(Vt),vt=at.clearKeyword,ut=at.changeMatchCase,x=at.changeWholeWords,st=at.currentMatch,ot=at.jumpToNextMatch,gt=at.jumpToPreviousMatch,yt=at.keyword,xt=at.matchCase,Rt=at.numberOfMatches,qt=at.wholeWords,un=at.search,Yt=at.setKeyword,Qt=function(an){Ve(!0),un().then(function(_n){Ve(!1),ee(!0),an&&an()})};s.useEffect(function(){var an=Vt.get("initialKeyword");an&&an.length===1&&yt&&Qt(function(){Vt.update("initialKeyword",[])})},[]);var Jt=$t&&$t.search?$t.search.enterToSearch:"Enter to search",Gt=$t&&$t.search?$t.search.previousMatch:"Previous match",nn=$t&&$t.search?$t.search.nextMatch:"Next match",fn=$t&&$t.search?$t.search.close:"Close";return s.createElement("div",{className:"rpv-search__popover"},s.createElement("div",{className:"rpv-search__popover-input-counter"},s.createElement(r.TextBox,{ariaLabel:Jt,autoFocus:!0,placeholder:Jt,type:"text",value:yt,onChange:function(an){ee(!1),Yt(an)},onKeyDown:function(an){an.key==="Enter"&&yt&&(ne?ot():Qt())}}),s.createElement("div",{className:r.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!rt,"rpv-search__popover-counter--rtl":rt})},lt&&s.createElement(r.Spinner,{testId:"search__popover-searching",size:"1rem"}),!lt&&s.createElement("span",{"data-testid":"search__popover-num-matches"},st,"/",Rt))),s.createElement("label",{className:"rpv-search__popover-label"},s.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:xt,type:"checkbox",onChange:function(an){ee(!1),ut(an.target.checked)}})," ",$t&&$t.search?$t.search.matchCase:"Match case"),s.createElement("label",{className:"rpv-search__popover-label"},s.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:qt,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(an){ee(!1),x(an.target.checked)}})," ",$t&&$t.search?$t.search.wholeWords:"Whole words"),s.createElement("div",{className:"rpv-search__popover-footer"},s.createElement("div",{className:"rpv-search__popover-footer-item"},s.createElement(r.Tooltip,{ariaControlsSuffix:"search-previous-match",position:rt?r.Position.BottomRight:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaLabel:Gt,isDisabled:st<=1,onClick:gt},s.createElement(c,null)),content:function(){return Gt},offset:mt})),s.createElement("div",{className:"rpv-search__popover-footer-item"},s.createElement(r.Tooltip,{ariaControlsSuffix:"search-next-match",position:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaLabel:nn,isDisabled:st>Rt-1,onClick:ot},s.createElement(l,null)),content:function(){return nn},offset:mt})),s.createElement("div",{className:r.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!rt,"rpv-search__popover-footer-button--rtl":rt})},s.createElement(r.Button,{onClick:function(){Dt(),vt()}},fn))))},nt=function(_t){var Vt=_t.children,Dt=_t.onClick,$t=s.useContext(r.LocalizationContext).l10n,Tt=$t&&$t.search?$t.search.search:"Search";return Vt({icon:s.createElement(a,null),label:Tt,onClick:Dt})},ft={left:0,top:8},wt=function(_t){var Vt=_t.enableShortcuts,Dt=_t.store,$t=_t.onClick,Tt=Vt?r.isMac()?"Meta+F":"Ctrl+F":"",Ct=function(lt){lt&&$t()};return s.useEffect(function(){return Dt.subscribe("areShortcutsPressed",Ct),function(){Dt.unsubscribe("areShortcutsPressed",Ct)}},[]),s.createElement(nt,{onClick:$t},function(lt){return s.createElement(r.Tooltip,{ariaControlsSuffix:"search-popover",position:r.Position.BottomCenter,target:s.createElement(r.MinimalButton,{ariaKeyShortcuts:Tt,ariaLabel:lt.label,testId:"search__popover-button",onClick:$t},lt.icon),content:function(){return lt.label},offset:ft})})},Pt={left:0,top:8},St=function(_t){var Vt=_t.children,Dt=_t.enableShortcuts,$t=_t.store,Tt=s.useContext(r.ThemeContext).direction===r.TextDirection.RightToLeft?r.Position.BottomRight:r.Position.BottomLeft,Ct=Vt||function(lt){return s.createElement(wt,G({enableShortcuts:Dt,store:$t},lt))};return s.createElement(r.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:Tt,target:function(lt){return Ct({onClick:lt})},content:function(lt){return s.createElement(pt,{store:$t,onToggle:lt})},offset:Pt,closeOnClickOutside:!1,closeOnEscape:!0})},jt=function(_t){return Array.isArray(_t)?_t.map(function(Vt){return me(Vt)}):[me(_t)]};return search_min.NextIcon=l,search_min.PreviousIcon=c,search_min.SearchIcon=a,search_min.searchPlugin=function(_t){var Vt=s.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},_t)},[]),Dt=s.useMemo(function(){return r.createStore({initialKeyword:_t&&_t.keyword?Array.isArray(_t.keyword)?_t.keyword:[_t.keyword]:[],keyword:_t&&_t.keyword?jt(_t.keyword):[tt],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),$t=et(Dt),Tt=$t.clearKeyword,Ct=$t.jumpToMatch,lt=$t.jumpToNextMatch,Ve=$t.jumpToPreviousMatch,Y=$t.searchFor,ne=$t.setKeywords,ee=$t.setTargetPages,rt=function(at){return s.createElement(St,G({enableShortcuts:Vt.enableShortcuts},at,{store:Dt}))};return{install:function(at){var vt=_t&&_t.keyword?Array.isArray(_t.keyword)?_t.keyword:[_t.keyword]:[],ut=_t&&_t.keyword?jt(_t.keyword):[tt];Dt.update("initialKeyword",vt),Dt.update("jumpToDestination",at.jumpToDestination),Dt.update("jumpToPage",at.jumpToPage),Dt.update("keyword",ut)},renderPageLayer:function(at){return s.createElement(Z,{key:at.pageIndex,numPages:at.doc.numPages,pageIndex:at.pageIndex,renderHighlights:_t?.renderHighlights,store:Dt,onHighlightKeyword:Vt.onHighlightKeyword})},renderViewer:function(at){var vt=at.slot;return vt.subSlot&&(vt.subSlot.children=s.createElement(s.Fragment,null,Vt.enableShortcuts&&s.createElement(ct,{containerRef:at.containerRef,store:Dt}),vt.subSlot.children)),vt},uninstall:function(at){var vt=Dt.get("renderStatus");vt&&vt.clear()},onDocumentLoad:function(at){Dt.update("doc",at.doc)},onTextLayerRender:function(at){var vt=Dt.get("renderStatus");vt&&(vt=vt.set(at.pageIndex,at),Dt.update("renderStatus",vt))},Search:function(at){return s.createElement(E,G({},at,{store:Dt}))},ShowSearchPopover:rt,ShowSearchPopoverButton:function(){return s.createElement(rt,null,function(at){return s.createElement(wt,G({enableShortcuts:Vt.enableShortcuts,store:Dt},at))})},clearHighlights:function(){Tt()},highlight:function(at){var vt=Array.isArray(at)?at:[at];return ne(vt),Y(vt)},jumpToMatch:Ct,jumpToNextMatch:lt,jumpToPreviousMatch:Ve,setTargetPages:ee}},search_min}var hasRequiredLib;function requireLib(){if(hasRequiredLib)return lib.exports;hasRequiredLib=1;/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */return lib.exports=requireSearch_min(),lib.exports}var libExports=requireLib();const container$1="_container_1ip4v_1",styles$6={container:container$1},PdfViewer=r=>{const i=libExports$1.pageNavigationPlugin(),s=libExports.searchPlugin(),{pdfUrl:l,textToHighlight:c,initialPage:a=0}=r,G=()=>{!c||c.trim()===""||(s.setTargetPages(tt=>tt.pageIndex===a),s.highlight({keyword:c,matchCase:!1}))};return jsxRuntimeExports.jsx("div",{className:styles$6.container,children:jsxRuntimeExports.jsx(libExports$2.Worker,{workerUrl:"https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js",children:jsxRuntimeExports.jsx(libExports$2.Viewer,{enableSmoothScroll:!0,fileUrl:l,plugins:[i,s],defaultScale:libExports$2.SpecialZoomLevel.PageFit,initialPage:a,onDocumentLoad:G})})})},button="_button_1ovgz_5",styles$5={button};function Button(r){const{children:i,width:s="100px",fontSize:l="large",buttonRef:c,onClick:a,height:G,borderRadius:tt="default"}=r,it={width:s,height:G,borderRadius:tt==="default"?"10px":"2em"};return jsxRuntimeExports.jsx("button",{className:`${styles$5.button} ${r.className}`,style:it,ref:c,onClick:a,children:jsxRuntimeExports.jsx(Text,{interactable:!1,fontWeight:"bold",fontSize:l,children:i})})}const textContainer="_textContainer_1883a_1",styles$4={textContainer},TxtViewer=r=>{const{fileUrl:i,initialPage:s,initialLines:l,start:c}=r,[a,G]=reactExports.useState(""),[tt,it]=reactExports.useState(!0),[f,u]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const y=new URL(i);s!==void 0&&y.searchParams.append("page",s.toString()),l!==void 0&&y.searchParams.append("lines",l),c!==void 0&&y.searchParams.append("start",c);const Z=await fetch(y.toString());if(!Z.ok)throw new Error(`HTTP error! status: ${Z.status}`);const d=purify.sanitize(await Z.text());G(d)}catch(y){u(y.message)}finally{it(!1)}})()},[]),tt?jsxRuntimeExports.jsx("div",{children:"Loading HTML..."}):f?jsxRuntimeExports.jsxs("div",{children:["Error: ",f]}):jsxRuntimeExports.jsx("div",{className:styles$4.textContainer,dangerouslySetInnerHTML:{__html:a}})},FileViewerPopup=({isOpen:r,onClose:i,fileUrl:s,fileName:l,initialPage:c=0,initialLines:a="",start:G=""})=>r?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:styles$7.backdrop,onClick:i}),jsxRuntimeExports.jsxs("div",{className:`${styles$7.popupContainer} ${r?styles$7.open:""}`,children:[jsxRuntimeExports.jsxs("header",{className:styles$7.popupHeader,children:[jsxRuntimeExports.jsx(Text,{className:styles$7.fileName,fontWeight:"bold",children:l}),jsxRuntimeExports.jsx(Button,{onClick:i,width:"80px",height:"40px",children:"Close"})]}),jsxRuntimeExports.jsx("div",{className:styles$7.viewerWrapper,children:s.split(".").at(-1)==="pdf"?jsxRuntimeExports.jsx(PdfViewer,{pdfUrl:s,initialPage:c}):jsxRuntimeExports.jsx(TxtViewer,{fileUrl:s,initialPage:c,initialLines:a,start:G})})]})]}):null;function Chat$1({messages:r,setMessages:i}){const[s,l]=reactExports.useState(""),[c,a]=reactExports.useState([]),{chatId:G}=useParams(),tt=reactExports.useRef(null),[it,f]=reactExports.useState(!1),[u,p]=reactExports.useState(""),[y,Z]=reactExports.useState(""),[d,me]=reactExports.useState(1),[et,E]=reactExports.useState(""),[ct,mt]=reactExports.useState(""),[pt,nt]=reactExports.useState(null),ft=()=>{tt.current?.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{const Tt=setTimeout(()=>{ft()},0);return()=>clearTimeout(Tt)},[r.length]),reactExports.useEffect(()=>{if(pt){const Tt=setTimeout(()=>{nt(null)},5e3);return()=>clearTimeout(Tt)}},[pt]);const wt=reactExports.useCallback(async(Tt,Ct)=>{const lt=Tt.body?.getReader();if(!lt)return;let Ve="";const Y=new TextDecoder,ne=3;i(rt=>rt.map(at=>at.id===Ct?{...at,content:"",isStreaming:!0}:at));let ee="";for(;;){const{done:rt,value:at}=await lt.read(),vt=Y.decode(at,{stream:!0});ee+=vt;for(const ut of ee)Ve+=ut,i(x=>x.map(st=>st.id===Ct?{...st,content:Ve}:st)),await new Promise(x=>setTimeout(x,ne));if(ee="",rt)break}i(rt=>rt.map(at=>at.id===Ct?{...at,content:Ve,isStreaming:!1}:at));try{const rt=await fetch("/_api/replace_message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:Ve,chatId:G})});rt.ok||console.error("Failed to persist assistant message. Status:",rt.status)}catch(rt){console.error("Error persisting assistant message:",rt)}},[G,i]),Pt=async()=>{if(r.length===0&&c.length===0){nt("A file attachment is required to start a new chat.");return}if(s.trim()!==""||c.length>0){nt(null);const Tt={id:`user-${Date.now()}`,content:s,sender:"user",files:c.map(Y=>({name:Y.name.split(".").slice(0,-1).join("."),type:Y.name.split(".").pop()??"",size:Y.size}))};i(Y=>[...Y,Tt]),a([]),l("");const Ct=`system-${Date.now()}`,lt={id:Ct,content:"",sender:"system",isStreaming:!0};i(Y=>[...Y,lt]);const Ve=new FormData;Ve.append("prompt",s),G&&Ve.append("chat_id",G),c.forEach(Y=>{Ve.append("files",Y)}),a([]);try{const Y=await fetch("/_api/message_with_docs",{method:"POST",body:Ve});if(Y.ok)await wt(Y,Ct);else{const ne=await Y.text();console.error("Backend response not OK:",Y.status,ne);const ee={id:Ct,content:`Couldn't get a response. Error: ${Y.status}`,sender:"system",isStreaming:!1};i(rt=>rt.map(at=>at.id===Ct?ee:at))}}catch(Y){console.error("Failed to send message:",Y);const ne={id:Ct,content:"An error occurred while sending your message.",sender:"system",isStreaming:!1};i(ee=>ee.map(rt=>rt.id===Ct?ne:rt))}}},St=Tt=>{Tt&&Tt.length>0?a(Ct=>{const lt=new Set(Ct.map(Y=>Y.name)),Ve=Tt.filter(Y=>!lt.has(Y.name));return[...Ct,...Ve]}):Tt===null&&a([])},jt=Tt=>{a(Ct=>Ct.filter((lt,Ve)=>Ve!==Tt))},_t=(Tt,Ct,lt,Ve,Y)=>{p(Tt),Z(Ct),me(lt),f(!0),E(Ve),mt(Y)},Vt=()=>{f(!1),p(""),Z("")},Dt=()=>{nt(null)},$t=r.length===0&&c.length===0?"Please upload a document to start the chat":"Enter your question";return jsxRuntimeExports.jsxs("div",{className:styles$b.chatContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$b.messageDisplay,children:[r.length===0?jsxRuntimeExports.jsxs("div",{className:styles$b.chatPlaceholder,children:[jsxRuntimeExports.jsx(Text,{className:styles$b.chatPlaceholderTitle,fontWeight:"bold",fontSize:"hugest",colorVariant:"hover",children:"The Ultimate RAG"}),jsxRuntimeExports.jsx(Text,{className:styles$b.chatPlaceholderDescription,fontSize:"large",fontWeight:"regular",colorVariant:"secondary",children:"ask anything..."})]}):r.map(Tt=>jsxRuntimeExports.jsx(Message,{textContent:Tt.content,sender:Tt.sender,openFileViewer:_t,isStreaming:Tt.isStreaming,files:Tt.files},Tt.id)),jsxRuntimeExports.jsx("div",{ref:tt})]}),jsxRuntimeExports.jsxs("div",{className:styles$b.inputArea,children:[pt&&jsxRuntimeExports.jsxs("div",{className:styles$b.errorPopup,children:[jsxRuntimeExports.jsx(Text,{className:styles$b.errorMessage,children:pt}),jsxRuntimeExports.jsx("button",{onClick:Dt,className:styles$b.closeButton,children:"×"})]}),c.length>0&&jsxRuntimeExports.jsxs("div",{className:styles$b.uploadedFilesContainer,children:[" ",c.map((Tt,Ct)=>jsxRuntimeExports.jsx(UploadedFileCard,{fileName:Tt.name.split(".").slice(0,-1).join("."),fileType:Tt.name.split(".").pop()??"",fileSize:Tt.size,onClose:()=>jt(Ct),className:styles$b.uploadedFileCardEnter},Ct))]}),jsxRuntimeExports.jsx(PromptInput,{label:$t,value:s,onChange:Tt=>l(Tt.target.value),onKeyDown:Tt=>Tt.key==="Enter"&&Pt(),onFileChange:St})]}),jsxRuntimeExports.jsx(FileViewerPopup,{isOpen:it,onClose:Vt,fileUrl:u,fileName:y,initialPage:d,initialLines:et,start:ct})]})}const chatButton="_chatButton_1xpvp_5",inactive="_inactive_1xpvp_37",active="_active_1xpvp_57",styles$3={chatButton,inactive,active};function SideBarChatButton(r){const i=useNavigate(),s=()=>{i(`/chats/${r.chatId}`)};return jsxRuntimeExports.jsx("button",{className:`${styles$3.chatButton} ${r.isActive?styles$3.active:styles$3.inactive} ${r.className}`,onClick:s,disabled:r.isActive,children:jsxRuntimeExports.jsx(Text,{colorVariant:r.isActive?"button":"primary",children:r.title})})}const sidebarContainer="_sidebarContainer_1lo00_7",buttonContainer="_buttonContainer_1lo00_29",addChatButton="_addChatButton_1lo00_51",searchButton$1="_searchButton_1lo00_67",chatsContainer="_chatsContainer_1lo00_81",themeSwitcher="_themeSwitcher_1lo00_123",noChatsPlaceholder="_noChatsPlaceholder_1lo00_151",noChatsIcon="_noChatsIcon_1lo00_171",noChatsTitle="_noChatsTitle_1lo00_183",noChatsDescriptionLine="_noChatsDescriptionLine_1lo00_197",horizontalLine="_horizontalLine_1lo00_213",noRecentConversations="_noRecentConversations_1lo00_231",styles$2={sidebarContainer,buttonContainer,addChatButton,searchButton:searchButton$1,chatsContainer,themeSwitcher,noChatsPlaceholder,noChatsIcon,noChatsTitle,noChatsDescriptionLine,horizontalLine,noRecentConversations},LookUp=r=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e3e3e3",...r,children:jsxRuntimeExports.jsx("path",{d:"M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"})}),container="_container_1xmbz_9",searchButton="_searchButton_1xmbz_155",icon="_icon_1xmbz_181",expanded="_expanded_1xmbz_197",searchForm="_searchForm_1xmbz_275",searchInput="_searchInput_1xmbz_287",submitButton="_submitButton_1xmbz_317",iconInInput="_iconInInput_1xmbz_339",styles$1={container,searchButton,icon,expanded,searchForm,searchInput,submitButton,iconInInput};function SearchButton(r){const{onSearch:i,placeholder:s="Search...",initialSize:l="60px",onToggleExpand:c}=r,[a,G]=reactExports.useState(!1),[tt,it]=reactExports.useState(""),f=reactExports.useRef(null),u=reactExports.useRef(null);reactExports.useEffect(()=>{a&&f.current&&f.current.focus(),c&&c(a)},[a,c]);const p=()=>{G(me=>!me),it("")},y=me=>{me.preventDefault(),tt.trim()&&i&&i(tt.trim())},Z=me=>{me.key==="Escape"&&(G(!1),it(""))};reactExports.useEffect(()=>{const me=et=>{a&&u.current&&!u.current.contains(et.target)&&(G(!1),it(""))};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[a]);const d={width:a?void 0:l,height:l};return jsxRuntimeExports.jsx("div",{className:`${styles$1.container} ${a?styles$1.expanded:""}`,style:d,ref:u,tabIndex:a?-1:0,children:a?jsxRuntimeExports.jsxs("form",{onSubmit:y,className:styles$1.searchForm,children:[jsxRuntimeExports.jsx("input",{type:"text",ref:f,className:styles$1.searchInput,placeholder:s,value:tt,onChange:me=>it(me.target.value),onKeyDown:Z}),jsxRuntimeExports.jsx("button",{title:"Search",type:"submit",className:styles$1.submitButton,children:jsxRuntimeExports.jsx(LookUp,{className:styles$1.iconInInput})})]}):jsxRuntimeExports.jsx("button",{className:styles$1.searchButton,onClick:p,children:jsxRuntimeExports.jsx(LookUp,{className:styles$1.icon})})})}function ThemeSwitcher(){const[r,i]=reactExports.useState(()=>localStorage.getItem("theme")??"light");reactExports.useEffect(()=>{localStorage.setItem("theme",r),document.body.className=r},[r]);const s=()=>{i(l=>l==="light"?"dark":"light")};return jsxRuntimeExports.jsxs(Button,{onClick:s,width:"100%",fontSize:"medium",children:["Switch to ",r==="dark"?"light":"dark"," theme"]})}const Chat=r=>jsxRuntimeExports.jsx("svg",{width:"72",height:"72",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:jsxRuntimeExports.jsx("path",{d:"M13.0345 26.9825H26.825V25.473H13.0345V26.9825ZM13.0345 20.7635H34.9655V19.254H13.0345V20.7635ZM13.0345 14.544H34.9655V13.0345H13.0345V14.544ZM6.0575 40.0675V8.79C6.0575 8.04434 6.3275 7.40167 6.8675 6.862C7.4075 6.322 8.04816 6.052 8.78949 6.052H39.2105C39.9518 6.052 40.5925 6.322 41.1325 6.862C41.6725 7.40167 41.9425 8.0425 41.9425 8.7845V31.2155C41.9425 31.9575 41.6725 32.5983 41.1325 33.138C40.5925 33.678 39.9518 33.948 39.2105 33.948H12.177L6.0575 40.0675ZM11.529 32.4385H39.202C39.5097 32.4385 39.7917 32.3103 40.048 32.054C40.3043 31.7973 40.4325 31.5152 40.4325 31.2075V8.7925C40.4325 8.48484 40.3043 8.20267 40.048 7.946C39.7917 7.68967 39.5097 7.5615 39.202 7.5615H8.798C8.49033 7.5615 8.20833 7.68967 7.95199 7.946C7.69566 8.20267 7.5675 8.48484 7.5675 8.7925V36.527L11.529 32.4385Z",fill:"currentColor"})});function Sidebar(r){const[i,s]=reactExports.useState(!1),l=useNavigate(),c=p=>{s(p)},[a,G]=reactExports.useState([]),tt="40px",it=r.activeChatId&&r.activeChatMessages.length===0&&a.find(p=>p.id===r.activeChatId)?.title==="new chat",f=reactExports.useCallback(async()=>{try{const p=await fetch("/_api/list_chats");if(!p.ok)throw new Error(String(p.status));const y=await p.json(),Z=[];y.chats?.forEach(d=>Z.push(...d.chats)),G(Z)}catch(p){console.error("Failed to load chats",p)}},[]);reactExports.useEffect(()=>{f()},[f]);const u=async()=>{if(it)return;const p=await fetch("/_api/new_chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:"New chat"})});if(!p.ok){console.error("new_chat failed",p.status);return}await f();const y=await p.json();l(`/chats/${y.id}`)};return jsxRuntimeExports.jsxs("aside",{className:styles$2.sidebarContainer,children:[jsxRuntimeExports.jsxs("div",{className:styles$2.buttonContainer,children:[jsxRuntimeExports.jsx("div",{className:i?styles$2.hideNeighbor:styles$2.addChatButton,children:jsxRuntimeExports.jsx(Button,{height:tt,width:"100%",borderRadius:"round",onClick:u,children:"+ Add chat"})}),jsxRuntimeExports.jsx("nav",{className:styles$2.searchButton,children:jsxRuntimeExports.jsx(SearchButton,{onToggleExpand:c,initialSize:tt})})]}),jsxRuntimeExports.jsx("div",{className:styles$2.chatsContainer,children:a.length===0?jsxRuntimeExports.jsxs("div",{className:styles$2.noChatsPlaceholder,children:[jsxRuntimeExports.jsx("p",{className:styles$2.noChatsIcon,children:jsxRuntimeExports.jsx(Chat,{})}),jsxRuntimeExports.jsx(Text,{className:styles$2.noChatsTitle,fontSize:"huge",fontWeight:"bold",children:"No chats yet"}),jsxRuntimeExports.jsx(Text,{className:styles$2.noChatsDescriptionLine,fontWeight:"regular",children:"Click to “+ Add new chat”"}),jsxRuntimeExports.jsx(Text,{className:styles$2.noChatsDescriptionLine,fontWeight:"regular",children:"to add a conversation"}),jsxRuntimeExports.jsx("hr",{className:styles$2.horizontalLine}),jsxRuntimeExports.jsx(SideBarChatButton,{title:"No recent conversations",chatId:"none",isActive:!0,className:styles$2.noRecentConversations})]}):a.map(p=>jsxRuntimeExports.jsx(SideBarChatButton,{chatId:p.id,title:p.title,isActive:p.id===r.activeChatId},p.id))}),jsxRuntimeExports.jsx("div",{className:styles$2.themeSwitcher,children:jsxRuntimeExports.jsx(ThemeSwitcher,{})})]})}const messenger="_messenger_1spzt_1",chatContainer="_chatContainer_1spzt_17",sidebar="_sidebar_1spzt_25",styles={messenger,chatContainer,sidebar};function Messenger(){const{chatId:r}=useParams(),[i,s]=reactExports.useState([]);return reactExports.useEffect(()=>{const l=new AbortController,c=l.signal;return r?(async()=>{try{const G=await fetch(`/_api/chats/${r}`,{signal:c});if(G.ok){const tt=await G.json();s(Array.isArray(tt.messages)?tt.messages:[])}else s([])}catch(G){G instanceof Error&&G.name!=="AbortError"&&(console.error("Fetch error in Messenger:",G),s([]))}})():s([]),()=>{l.abort()}},[r]),jsxRuntimeExports.jsxs("div",{className:styles.messenger,children:[jsxRuntimeExports.jsx("aside",{className:styles.sidebar,children:jsxRuntimeExports.jsx(Sidebar,{activeChatId:r,activeChatMessages:i})}),jsxRuntimeExports.jsx("div",{className:styles.chatContainer,children:jsxRuntimeExports.jsx(Chat$1,{messages:i,setMessages:s},r??"default")})]})}function App(){const r=localStorage.getItem("theme")??"light";return reactExports.useEffect(()=>{localStorage.setItem("theme",r),document.body.className=r},[r]),jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",right:"0",top:"0",margin:"12px"}}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",width:"100vw",backgroundColor:"var(--background-color)"},children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx("div",{className:"text-white",children:jsxRuntimeExports.jsx("p",{children:"Loading..."})}),children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Messenger,{})}),jsxRuntimeExports.jsx(Route,{path:"/chats/:chatId",element:jsxRuntimeExports.jsx(Messenger,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFoundPage,{})})]})})})]})}ReactDOM.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
